var hq=Object.defineProperty,fq=Object.defineProperties,pq=Object.getOwnPropertyDescriptors,rV=Object.getOwnPropertySymbols,gq=Object.prototype.hasOwnProperty,mq=Object.prototype.propertyIsEnumerable,sV=(re,Y,O)=>Y in re?hq(re,Y,{enumerable:!0,configurable:!0,writable:!0,value:O}):re[Y]=O,nc=(re,Y)=>{for(var O in Y||(Y={}))gq.call(Y,O)&&sV(re,O,Y[O]);if(rV)for(var O of rV(Y))mq.call(Y,O)&&sV(re,O,Y[O]);return re},kb=(re,Y)=>fq(re,pq(Y));(self.webpackChunkro_fweb=self.webpackChunkro_fweb||[]).push([[179],{8255:re=>{function Y(O){return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+O+"'");throw H.code="MODULE_NOT_FOUND",H})}Y.keys=()=>[],Y.resolve=Y,Y.id=8255,re.exports=Y},7793:(re,Y,O)=>{"use strict";O.d(Y,{deG:()=>qd,tb:()=>Gy,AFp:()=>XO,ip1:()=>fx,CZH:()=>Af,hGG:()=>rb,z2F:()=>qg,sBO:()=>fD,Sil:()=>tl,_Vd:()=>cf,EJc:()=>mx,SBq:()=>Ja,qLn:()=>kl,vpe:()=>el,gxx:()=>Bh,tBr:()=>Sl,XFs:()=>yt,OlP:()=>Hn,zs3:()=>Kn,ZZ4:()=>gy,aQg:()=>Mg,soG:()=>Yy,YKP:()=>by,v3s:()=>eb,h0i:()=>cd,PXZ:()=>_R,R0b:()=>Bs,FiY:()=>xo,Lbi:()=>px,g9A:()=>Wy,Qsj:()=>Xa,FYo:()=>$l,JOm:()=>cs,Tiy:()=>Hv,q3G:()=>zn,PiD:()=>Ko,tp0:()=>Os,EAV:()=>fI,Rgc:()=>_y,dDg:()=>Of,DyG:()=>El,GfV:()=>zv,s_b:()=>wy,ifc:()=>en,eFA:()=>Sx,G48:()=>Mx,Gpc:()=>_e,X6Q:()=>Tx,_c5:()=>Bx,VLi:()=>oI,c2e:()=>gx,zSh:()=>ig,wAp:()=>Ft,vHH:()=>Qe,EiD:()=>Hu,mCW:()=>ea,qzn:()=>ii,JVY:()=>oh,pB0:()=>r0,eBb:()=>Tp,L6k:()=>xp,LAX:()=>Mp,cg1:()=>ny,Tjo:()=>Fx,kL8:()=>iy,yhl:()=>Ns,dqk:()=>Vt,sIi:()=>Wh,CqO:()=>j_,QGY:()=>yr,F4k:()=>Nr,RDi:()=>Mm,AaK:()=>ee,z3N:()=>Mo,qOj:()=>No,TTD:()=>Pd,_Bn:()=>Bv,xp6:()=>pn,uIk:()=>Y0,Tol:()=>hv,DjV:()=>OE,ekj:()=>ko,Suo:()=>KD,Xpm:()=>Ei,lG2:()=>ic,Yz7:()=>In,cJS:()=>si,oAB:()=>cl,Yjl:()=>Id,Y36:()=>mg,_UZ:()=>sE,BQk:()=>Lc,ynx:()=>_g,qZA:()=>nv,TgZ:()=>tv,EpF:()=>iv,n5z:()=>Ss,Ikx:()=>ty,SDv:()=>QE,QtT:()=>eD,pQV:()=>Nv,LFG:()=>ci,$8M:()=>Yd,NdJ:()=>yg,CRH:()=>IO,oxw:()=>rv,ALo:()=>v1,lcZ:()=>WD,Hsn:()=>ef,F$t:()=>lE,Q6J:()=>ua,s9C:()=>sv,MGl:()=>U_,DdM:()=>BD,VKq:()=>VD,WLB:()=>jD,kEZ:()=>m1,iGM:()=>Hg,MAs:()=>GC,CHM:()=>pl,LSH:()=>os,kYT:()=>ys,Udp:()=>vg,YNc:()=>Z0,W1O:()=>FO,_uU:()=>xE,Oqu:()=>mv,hij:()=>K_,Gf:()=>ZD});var H=O(1505),q=O(8234),u=O(4250),G=O(5541),$=O(9032);function X(o){for(let a in o)if(o[a]===X)return a;throw Error("Could not find renamed property on target object.")}function ae(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Z(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const he=X({__forward_ref__:X});function _e(o){return o.__forward_ref__=_e,o.toString=function(){return ee(this())},o}function fe(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(he)&&o.__forward_ref__===_e}class Qe extends Error{constructor(a,c){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,c)),this.code=a}}function be(o){return"string"==typeof o?o:null==o?"":String(o)}function te(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():be(o)}function Re(o,a){const c=a?` in ${a}`:"";throw new Qe("201",`No provider for ${te(o)} found${c}`)}function st(o,a,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}function In(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function si(o){return{providers:o.providers||[],imports:o.imports||[]}}function ji(o){return qi(o,Hs)||qi(o,oi)}function qi(o,a){return o.hasOwnProperty(a)?o[a]:null}function ur(o){return o&&(o.hasOwnProperty(Ca)||o.hasOwnProperty(Ea))?o[Ca]:null}const Hs=X({\u0275prov:X}),Ca=X({\u0275inj:X}),oi=X({ngInjectableDef:X}),Ea=X({ngInjectorDef:X});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let dr;function $n(o){const a=dr;return dr=o,a}function hr(o,a,c){const h=ji(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&yt.Optional?null:void 0!==a?a:void Re(ee(o),"Injector")}function fr(o){return{toString:o}.toString()}var mi=(()=>((mi=mi||{})[mi.OnPush=0]="OnPush",mi[mi.Default=1]="Default",mi))(),en=(()=>((en=en||{})[en.Emulated=0]="Emulated",en[en.None=2]="None",en[en.ShadowDom=3]="ShadowDom",en))();const Wn="undefined"!=typeof globalThis&&globalThis,Nt="undefined"!=typeof window&&window,Rt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Vt=Wn||"undefined"!=typeof global&&global||Nt||Rt,bt={},wt=[],Gt=X({\u0275cmp:X}),wn=X({\u0275dir:X}),on=X({\u0275pipe:X}),Nn=X({\u0275mod:X}),Ci=X({\u0275loc:X}),kn=X({\u0275fac:X}),ei=X({__NG_ELEMENT_ID__:X});let Hr=0;function Ei(o){return fr(()=>{const c={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===mi.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||wt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||en.Emulated,id:"c",styles:o.styles||wt,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,m=o.features,y=o.pipes;return h.id+=Hr++,h.inputs=Od(o.inputs,c),h.outputs=Od(o.outputs),m&&m.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(ns):null,h.pipeDefs=y?()=>("function"==typeof y?y():y).map(jo):null,h})}function ns(o){return Di(o)||function(o){return o[wn]||null}(o)}function jo(o){return function(o){return o[on]||null}(o)}const au={};function cl(o){return fr(()=>{const a={type:o.type,bootstrap:o.bootstrap||wt,declarations:o.declarations||wt,imports:o.imports||wt,exports:o.exports||wt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(au[o.id]=o.type),a})}function ys(o,a){return fr(()=>{const c=Zi(o,!0);c.declarations=a.declarations||wt,c.imports=a.imports||wt,c.exports=a.exports||wt})}function Od(o,a){if(null==o)return bt;const c={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),c[p]=h,a&&(a[p]=m)}return c}const ic=Ei;function Id(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Di(o){return o[Gt]||null}function Zi(o,a){const c=o[Nn]||null;if(!c&&!0===a)throw new Error(`Type ${ee(o)} does not have '\u0275mod' property.`);return c}function ws(o){return Array.isArray(o)&&"object"==typeof o[1]}function ki(o){return Array.isArray(o)&&!0===o[1]}function rc(o){return 0!=(8&o.flags)}function fl(o){return 2==(2&o.flags)}function Uo(o){return 1==(1&o.flags)}function Ws(o){return null!==o.template}function Cs(o){return 0!=(512&o[2])}function wo(o,a){return o.hasOwnProperty(kn)?o[kn]:null}class kd{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Pd(){return Dm}function Dm(o){return o.type.prototype.ngOnChanges&&(o.setInput=Rd),Ji}function Ji(){const o=xi(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===bt)o.previous=a;else for(let h in a)c[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Rd(o,a,c,h){const p=xi(o)||function(o,a){return o[xm]=a}(o,{previous:bt,current:null}),m=p.current||(p.current={}),y=p.previous,C=this.declaredInputs[c],M=y[C];m[C]=new kd(M&&M.currentValue,a,y===bt),o[h]=a}Pd.ngInherit=!0;const xm="__ngSimpleChanges__";function xi(o){return o[xm]||null}let Fd;function Mm(o){Fd=o}function Ma(){return void 0!==Fd?Fd:"undefined"!=typeof document?document:void 0}function qn(o){return!!o.listen}const uu={createRenderer:(o,a)=>Ma()};function Bn(o){for(;Array.isArray(o);)o=o[0];return o}function $o(o,a){return Bn(a[o])}function is(o,a){return Bn(a[o.index])}function Zf(o,a){return o.data[a]}function Es(o,a){return o[a]}function li(o,a){const c=a[o];return ws(c)?c:c[0]}function du(o){return 4==(4&o[2])}function gr(o){return 128==(128&o[2])}function Sa(o,a){return null==a?null:o[a]}function hu(o){o[18]=0}function Jf(o,a){o[5]+=a;let c=o,h=o[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const kt={lFrame:Om(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qf(){return kt.bindingsEnabled}function Ye(){return kt.lFrame.lView}function nn(){return kt.lFrame.tView}function pl(o){return kt.lFrame.contextLView=o,o[8]}function yi(){let o=pu();for(;null!==o&&64===o.type;)o=o.parent;return o}function pu(){return kt.lFrame.currentTNode}function Ys(){const o=kt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function rs(o,a){const c=kt.lFrame;c.currentTNode=o,c.isParent=a}function gl(){return kt.lFrame.isParent}function ml(){kt.lFrame.isParent=!1}function gu(){return kt.isInCheckNoChangesMode}function mu(o){kt.isInCheckNoChangesMode=o}function mr(){const o=kt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function xs(){return kt.lFrame.bindingIndex}function Co(){return kt.lFrame.bindingIndex++}function Wo(o){const a=kt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function yu(o){kt.lFrame.inI18n=o}function Go(o,a){const c=kt.lFrame;c.bindingIndex=c.bindingRootIndex=o,bu(a)}function bu(o){kt.lFrame.currentDirectiveIndex=o}function lc(){return kt.lFrame.currentQueryIndex}function Vd(o){kt.lFrame.currentQueryIndex=o}function np(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function jd(o,a,c){if(c&yt.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||c&yt.Host||(p=np(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,o=m}const h=kt.lFrame=Am();return h.currentTNode=a,h.lView=o,!0}function vu(o){const a=Am(),c=o[1];kt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Am(){const o=kt.lFrame,a=null===o?null:o.child;return null===a?Om(o):a}function Om(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function wu(){const o=kt.lFrame;return kt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ip=wu;function Cu(){const o=wu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Tr(){return kt.lFrame.selectedIndex}function Eo(o){kt.lFrame.selectedIndex=o}function Zn(){const o=kt.lFrame;return Zf(o.tView,o.selectedIndex)}function Eu(o,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:S,ngOnDestroy:k}=m;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),C&&((o.contentHooks||(o.contentHooks=[])).push(c,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,C)),M&&(o.viewHooks||(o.viewHooks=[])).push(-c,M),S&&((o.viewHooks||(o.viewHooks=[])).push(c,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,S)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function _l(o,a,c){km(o,a,3,c)}function Du(o,a,c,h){(3&o[2])===c&&km(o,a,c,h)}function xu(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function km(o,a,c,h){const m=null!=h?h:-1,y=a.length-1;let C=0;for(let M=void 0!==h?65535&o[18]:0;M<y;M++)if("number"==typeof a[M+1]){if(C=a[M],null!=h&&C>=h)break}else a[M]<0&&(o[18]+=65536),(C<m||-1==m)&&(Wb(o,c,a,M),o[18]=(4294901760&o[18])+M+2),M++}function Wb(o,a,c,h){const p=c[h]<0,m=c[h+1],C=o[p?-c[h]:c[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Ts{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function Ud(o,a,c){const h=qn(o);let p=0;for(;p<c.length;){const m=c[p];if("number"==typeof m){if(0!==m)break;p++;const y=c[p++],C=c[p++],M=c[p++];h?o.setAttribute(a,C,M,y):a.setAttributeNS(y,C,M)}else{const y=m,C=c[++p];Lm(y)?h&&o.setProperty(a,y,C):h?o.setAttribute(a,y,C):a.setAttribute(y,C),p++}}return p}function Fm(o){return 3===o||4===o||6===o}function Lm(o){return 64===o.charCodeAt(0)}function Tu(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?c=p:0===c||Ms(o,c,p,null,-1===c||2===c?a[++h]:null)}}return o}function Ms(o,a,c,h,p){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===a){y=-1;break}if(C>a){y=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===c){if(null===h)return void(null!==p&&(o[m+1]=p));if(h===o[m+1])return void(o[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,c),null!==h&&o.splice(m++,0,h),null!==p&&o.splice(m++,0,p)}function Bm(o){return-1!==o}function cc(o){return 32767&o}function yl(o,a){let c=function(o){return o>>16}(o),h=a;for(;c>0;)h=h[15],c--;return h}let Mu=!0;function lp(o){const a=Mu;return Mu=o,a}let Zb=0;function Wd(o,a){const c=dp(o,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,up(h.data,o),up(a,null),up(h.blueprint,null));const p=bl(o,a),m=o.injectorIndex;if(Bm(p)){const y=cc(p),C=yl(p,a),M=C[1].data;for(let S=0;S<8;S++)a[m+S]=C[y+S]|M[y+S]}return a[m+8]=p,m}function up(o,a){o.push(0,0,0,0,0,0,0,0,a)}function dp(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function bl(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,p=a;for(;null!==p;){const m=p[1],y=m.type;if(h=2===y?m.declTNode:1===y?p[6]:null,null===h)return-1;if(c++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function Ot(o,a,c){!function(o,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(ei)&&(h=c[ei]),null==h&&(h=c[ei]=Zb++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,c)}function Do(o,a,c){if(c&yt.Optional)return o;Re(a,"NodeInjector")}function jn(o,a,c,h){if(c&yt.Optional&&void 0===h&&(h=null),0==(c&(yt.Self|yt.Host))){const p=o[9],m=$n(void 0);try{return p?p.get(a,h,c&yt.Optional):hr(a,h,c&yt.Optional)}finally{$n(m)}}return Do(h,a,c)}function Wt(o,a,c,h=yt.Default,p){if(null!==o){const m=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ei)?o[ei]:void 0;return"number"==typeof a?a>=0?255&a:hp:a}(c);if("function"==typeof m){if(!jd(a,o,h))return h&yt.Host?Do(p,c,h):jn(a,c,h,p);try{const y=m(h);if(null!=y||h&yt.Optional)return y;Re(c)}finally{ip()}}else if("number"==typeof m){let y=null,C=dp(o,a),M=-1,S=h&yt.Host?a[16][6]:null;for((-1===C||h&yt.SkipSelf)&&(M=-1===C?bl(o,a):a[C+8],-1!==M&&fp(h,!1)?(y=a[1],C=cc(M),a=yl(M,a)):C=-1);-1!==C;){const k=a[1];if(jm(m,C,k.data)){const j=Yo(C,a,c,y,h,S);if(j!==Su)return j}M=a[C+8],-1!==M&&fp(h,a[1].data[C+8]===S)&&jm(m,C,a)?(y=k,C=cc(M),a=yl(M,a)):C=-1}}}return jn(a,c,h,p)}const Su={};function hp(){return new vl(yi(),Ye())}function Yo(o,a,c,h,p,m){const y=a[1],C=y.data[o+8],k=Gd(C,y,c,null==h?fl(C)&&Mu:h!=y&&0!=(3&C.type),p&yt.Host&&m===C);return null!==k?uc(a,y,k,C):Su}function Gd(o,a,c,h,p){const m=o.providerIndexes,y=a.data,C=1048575&m,M=o.directiveStart,k=m>>20,W=p?C+k:o.directiveEnd;for(let ne=h?C:C+k;ne<W;ne++){const ue=y[ne];if(ne<M&&c===ue||ne>=M&&ue.type===c)return ne}if(p){const ne=y[M];if(ne&&Ws(ne)&&ne.type===c)return M}return null}function uc(o,a,c,h){let p=o[c];const m=a.data;if(function(o){return o instanceof Ts}(p)){const y=p;y.resolving&&function(o,a){throw new Qe("200",`Circular dependency in DI detected for ${o}`)}(te(m[c]));const C=lp(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?$n(y.injectImpl):null;jd(o,h,yt.Default);try{p=o[c]=y.factory(void 0,m,o,h),a.firstCreatePass&&c>=h.directiveStart&&function(o,a,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const y=Dm(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,p),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],a)}finally{null!==M&&$n(M),lp(C),y.resolving=!1,ip()}}return p}function jm(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function fp(o,a){return!(o&yt.Self||o&yt.Host&&a)}class vl{constructor(a,c){this._tNode=a,this._lView=c}get(a,c){return Wt(this._tNode,this._lView,a,void 0,c)}}function Ss(o){return fr(()=>{const a=o.prototype.constructor,c=a[kn]||Hm(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const m=p[kn]||Hm(p);if(m&&m!==c)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Hm(o){return Ue(o)?()=>{const a=Hm(fe(o));return a&&a()}:wo(o)}function Yd(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const m=c[p];if(Fm(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(m===a)return c[p+1];p+=2}}}return null}(yi(),o)}const Ia="__parameters__";function Zs(o,a,c){return fr(()=>{const h=function(o){return function(...c){if(o){const h=o(...c);for(const p in h)this[p]=h[p]}}}(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const y=new p(...m);return C.annotation=y,C;function C(M,S,k){const j=M.hasOwnProperty(Ia)?M[Ia]:Object.defineProperty(M,Ia,{value:[]})[Ia];for(;j.length<=k;)j.push(null);return(j[k]=j[k]||[]).push(y),M}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class Hn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=In({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qd=new Hn("AnalyzeForEntryComponents"),El=Function;function Ur(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let h=o[c];Array.isArray(h)?(a===o&&(a=o.slice(0,c)),Ur(h,a)):a!==o&&a.push(h)}return a}function Ks(o,a){o.forEach(c=>Array.isArray(c)?Ks(c,a):a(c))}function _p(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Dl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Na(o,a){const c=[];for(let h=0;h<o;h++)c.push(a);return c}function $r(o,a,c){let h=xl(o,a);return h>=0?o[1|h]=c:(h=~h,function(o,a,c,h){let p=o.length;if(p==a)o.push(c,h);else if(1===p)o.push(h,o[0]),o[0]=c;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=c,o[a+1]=h}}(o,h,a,c)),h}function Kd(o,a){const c=xl(o,a);if(c>=0)return o[1|c]}function xl(o,a){return function(o,a,c){let h=0,p=o.length>>c;for(;p!==h;){const m=h+(p-h>>1),y=o[m<<c];if(a===y)return m<<c;y>a?p=m:h=m+1}return~(p<<c)}(o,a,1)}const Iu={},Xd="__NG_DI_FLAG__",Ml="ngTempTokenPath",Qd=/\n/gm,ka="__source",Xi=X({provide:String,useValue:X});let ss;function As(o){const a=ss;return ss=o,a}function Sn(o,a=yt.Default){if(void 0===ss)throw new Error("inject() must be called from an injection context");return null===ss?hr(o,void 0,a):ss.get(o,a&yt.Optional?null:void 0,a)}function ci(o,a=yt.Default){return(dr||Sn)(fe(o),a)}function Qi(o){const a=[];for(let c=0;c<o.length;c++){const h=fe(o[c]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,m=yt.Default;for(let y=0;y<h.length;y++){const C=h[y],M=eh(C);"number"==typeof M?-1===M?p=C.token:m|=M:p=C}a.push(ci(p,m))}else a.push(ci(h))}return a}function An(o,a){return o[Xd]=a,o.prototype[Xd]=a,o}function eh(o){return o[Xd]}function wp(o,a,c,h){const p=o[Ml];throw a[ka]&&p.unshift(a[ka]),o.message=function(o,a,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=ee(a);if(Array.isArray(a))p=a.map(ee).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let C=a[y];m.push(y+":"+("string"==typeof C?JSON.stringify(C):ee(C)))}p=`{${m.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${o.replace(Qd,"\n  ")}`}("\n"+o.message,p,c,h),o.ngTokenPath=p,o[Ml]=null,o}const Sl=An(Zs("Inject",o=>({token:o})),-1),xo=An(Zs("Optional"),8),Ko=An(Zs("Self"),2),Os=An(Zs("SkipSelf"),4);let Xo;function Qo(o){var a;return(null===(a=function(){if(void 0===Xo&&(Xo=null,Vt.trustedTypes))try{Xo=Vt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Xo}())||void 0===a?void 0:a.createHTML(o))||o}class Fa{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class sh extends Fa{getTypeName(){return"HTML"}}class Hi extends Fa{getTypeName(){return"Style"}}class Fu extends Fa{getTypeName(){return"Script"}}class La extends Fa{getTypeName(){return"URL"}}class Dp extends Fa{getTypeName(){return"ResourceURL"}}function Mo(o){return o instanceof Fa?o.changingThisBreaksApplicationSecurity:o}function ii(o,a){const c=Ns(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Ns(o){return o instanceof Fa&&o.getTypeName()||null}function oh(o){return new sh(o)}function xp(o){return new Hi(o)}function Tp(o){return new Fu(o)}function Mp(o){return new La(o)}function r0(o){return new Dp(o)}function Sp(o){const a=new yc(o);return function(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch(o){return!1}}()?new Lu(a):a}class Lu{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Qo(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class yc{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Qo(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=Qo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let p=c.length-1;0<p;p--){const y=c.item(p).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Bu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ea(o){return(o=String(o)).match(Bu)||o.match(tn)?o:"unsafe:"+o}function Km(o){return(o=String(o)).split(",").map(a=>ea(a.trim())).join(", ")}function er(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function vc(...o){const a={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const Vu=er("area,br,col,hr,img,wbr"),Ol=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ah=er("rp,rt"),wc=vc(Vu,vc(Ol,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vc(ah,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vc(ah,Ol)),Ip=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ju=er("srcset"),ch=vc(Ip,ju,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),s0=er("script,style,template");class o0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,h=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?h=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,h&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!wc.hasOwnProperty(c))return this.sanitizedSomething=!0,!s0.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const h=a.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),y=m.name,C=y.toLowerCase();if(!ch.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let M=m.value;Ip[C]&&(M=ea(M)),ju[C]&&(M=Km(M)),this.buf.push(" ",y,'="',na(M),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();wc.hasOwnProperty(c)&&!Vu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(na(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Jm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ta=/([^\#-~ |!])/g;function na(o){return o.replace(/&/g,"&amp;").replace(Jm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(ta,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uh;function Hu(o,a){let c=null;try{uh=uh||Sp(o);let h=a?String(a):"";c=uh.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=c.innerHTML,c=uh.getInertBodyElement(h)}while(h!==m);return Qo((new o0).sanitizeChildren(dh(c)||c))}finally{if(c){const h=dh(c)||c;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function dh(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zn=(()=>((zn=zn||{})[zn.NONE=0]="NONE",zn[zn.HTML=1]="HTML",zn[zn.STYLE=2]="STYLE",zn[zn.SCRIPT=3]="SCRIPT",zn[zn.URL=4]="URL",zn[zn.RESOURCE_URL=5]="RESOURCE_URL",zn))();function os(o){const a=function(){const o=Ye();return o&&o[12]}();return a?a.sanitize(zn.URL,o)||"":ii(o,"URL")?Mo(o):ea(be(o))}const mh="__ngContext__";function nr(o,a){o[mh]=a}function _h(o){const a=function(o){return o[mh]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function as(o){return o.ngOriginalError}function Vp(o,...a){o.error(...a)}class kl{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),h=this._findContext(a),p=(o=a)&&o.ngErrorLogger||Vp;var o;p(this._console,"ERROR",a),c&&p(this._console,"ORIGINAL ERROR",c),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(a){return a?a.ngDebugContext||this._findContext(as(a)):null}_findOriginalError(a){let c=a&&as(a);for(;c&&as(c);)c=as(c);return c||null}}const ja=/^>|^->|<!--|-->|--!>|<!-$/g,d0=/(<|>)/;const Ec=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Vt))();function Ao(o){return o instanceof Function?o():o}var cs=(()=>((cs=cs||{})[cs.Important=1]="Important",cs[cs.DashCase=2]="DashCase",cs))();let Rl;function Hp(o,a){return Rl(o,a)}function ra(o){const a=o[3];return ki(a)?a[3]:a}function xh(o){return Up(o[13])}function Fl(o){return Up(o[4])}function Up(o){for(;null!==o&&!ki(o);)o=o[4];return o}function za(o,a,c,h,p){if(null!=h){let m,y=!1;ki(h)?m=h:ws(h)&&(y=!0,h=h[0]);const C=Bn(h);0===o&&null!==c?null==p?f_(a,c,C):Bl(a,c,C,p||null,!0):1===o&&null!==c?Bl(a,c,C,p||null,!0):2===o?Kp(a,C,y):3===o&&a.destroyNode(C),null!=m&&function(o,a,c,h,p){const m=c[7];m!==Bn(c)&&za(a,o,h,m,p);for(let C=10;C<c.length;C++){const M=c[C];Ac(M[1],M,o,a,h,m)}}(a,o,m,c,p)}}function Th(o,a){return qn(o)?o.createText(a):o.createTextNode(a)}function Wp(o,a,c){qn(o)?o.setValue(a,c):a.textContent=c}function g0(o,a){return o.createComment(function(o){return o.replace(ja,a=>a.replace(d0,"\u200b$1\u200b"))}(a))}function Mh(o,a,c){return qn(o)?o.createElement(a,c):null===c?o.createElement(a):o.createElementNS(c,a)}function c_(o,a){const c=o[9],h=c.indexOf(a),p=a[3];1024&a[2]&&(a[2]&=-1025,Jf(p,-1)),c.splice(h,1)}function Ll(o,a){if(o.length<=10)return;const c=10+a,h=o[c];if(h){const p=h[17];null!==p&&p!==o&&c_(p,h),a>0&&(o[c-1][4]=h[4]);const m=Dl(o,10+a);!function(o,a){Ac(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const y=m[19];null!==y&&y.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function Yp(o,a){if(!(256&a[2])){const c=a[11];qn(c)&&c.destroyNode&&Ac(o,a,c,3,null,null),function(o){let a=o[13];if(!a)return sa(o[1],o);for(;a;){let c=null;if(ws(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==o;)ws(a)&&sa(a[1],a),a=a[3];null===a&&(a=o),ws(a)&&sa(a[1],a),c=a&&a[4]}a=c}}(a)}}function sa(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const p=a[c[h]];if(!(p instanceof Ts)){const m=c[h+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const C=p[m[y]],M=m[y+1];try{M.call(C)}finally{}}else try{m.call(p)}finally{}}}}(o,a),function(o,a){const c=o.cleanup,h=a[7];let p=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+1],C="function"==typeof y?y(a):Bn(a[y]),M=h[p=c[m+2]],S=c[m+3];"boolean"==typeof S?C.removeEventListener(c[m],M,S):S>=0?h[p=S]():h[p=-S].unsubscribe(),m+=2}else{const y=h[p=c[m+1]];c[m].call(y)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();a[7]=null}}(o,a),1===a[1].type&&qn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&ki(a[3])){c!==a[3]&&c_(c,a);const h=a[19];null!==h&&h.detachView(o)}}}function oa(o,a,c){return h_(o,a.parent,c)}function h_(o,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===en.None||p===en.Emulated)return null}return is(h,c)}function Bl(o,a,c,h,p){qn(o)?o.insertBefore(a,c,h,p):a.insertBefore(c,h,p)}function f_(o,a,c){qn(o)?o.appendChild(a,c):a.appendChild(c)}function p_(o,a,c,h,p){null!==h?Bl(o,a,c,h,p):f_(o,a,c)}function Tc(o,a){return qn(o)?o.parentNode(a):a.parentNode}function Ah(o,a,c){return Oh(o,a,c)}function qp(o,a,c){return 40&o.type?is(o,c):null}let Mc,Oh=qp;function no(o,a){Oh=o,Mc=a}function Yu(o,a,c,h){const p=oa(o,h,a),m=a[11],C=Ah(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(c))for(let M=0;M<c.length;M++)p_(m,p,c[M],C,!1);else p_(m,p,c,C,!1);void 0!==Mc&&Mc(m,h,a,c,p)}function Sc(o,a){if(null!==a){const c=a.type;if(3&c)return is(a,o);if(4&c)return qu(-1,o[a.index]);if(8&c){const h=a.child;if(null!==h)return Sc(o,h);{const p=o[a.index];return ki(p)?qu(-1,p):Bn(p)}}if(32&c)return Hp(a,o)()||Bn(o[a.index]);{const h=Zp(o,a);return null!==h?Array.isArray(h)?h[0]:Sc(ra(o[16]),h):Sc(o,a.next)}}return null}function Zp(o,a){return null!==a?o[16][6].projection[a.projection]:null}function qu(o,a){const c=10+o+1;if(c<a.length){const h=a[c],p=h[1].firstChild;if(null!==p)return Sc(h,p)}return a[7]}function Kp(o,a,c){const h=Tc(o,a);h&&function(o,a,c,h){qn(o)?o.removeChild(a,c,h):a.removeChild(c)}(o,h,a,c)}function Zu(o,a,c,h,p,m,y){for(;null!=c;){const C=h[c.index],M=c.type;if(y&&0===a&&(C&&nr(Bn(C),h),c.flags|=4),64!=(64&c.flags))if(8&M)Zu(o,a,c.child,h,p,m,!1),za(a,o,p,C,m);else if(32&M){const S=Hp(c,h);let k;for(;k=S();)za(a,o,p,k,m);za(a,o,p,C,m)}else 16&M?Xp(o,a,h,c,p,m):za(a,o,p,C,m);c=y?c.projectionNext:c.next}}function Ac(o,a,c,h,p,m){Zu(c,h,o.firstChild,a,p,m,!1)}function Xp(o,a,c,h,p,m){const y=c[16],M=y[6].projection[h.projection];if(Array.isArray(M))for(let S=0;S<M.length;S++)za(a,o,p,M[S],m);else Zu(o,a,M,y[3],p,m,!0)}function m_(o,a,c){qn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function Ih(o,a,c){qn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function v(o,a,c){let h=o.length;for(;;){const p=o.indexOf(a,c);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||o.charCodeAt(p+m)<=32)return p}c=p+1}}const D="ng-template";function x(o,a,c){let h=0;for(;h<o.length;){let p=o[h++];if(c&&"class"===p){if(p=o[h],-1!==v(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function A(o){return 4===o.type&&o.value!==D}function R(o,a,c){return a===(4!==o.type||c?o.value:D)}function B(o,a,c){let h=4;const p=o.attrs||[],m=function(o){for(let a=0;a<o.length;a++)if(Fm(o[a]))return a;return o.length}(p);let y=!1;for(let C=0;C<a.length;C++){const M=a[C];if("number"!=typeof M){if(!y)if(4&h){if(h=2|1&h,""!==M&&!R(o,M,c)||""===M&&1===a.length){if(V(h))return!1;y=!0}}else{const S=8&h?M:a[++C];if(8&h&&null!==o.attrs){if(!x(o.attrs,S,c)){if(V(h))return!1;y=!0}continue}const j=z(8&h?"class":M,p,A(o),c);if(-1===j){if(V(h))return!1;y=!0;continue}if(""!==S){let W;W=j>m?"":p[j+1].toLowerCase();const ne=8&h?W:null;if(ne&&-1!==v(ne,S,0)||2&h&&S!==W){if(V(h))return!1;y=!0}}}}else{if(!y&&!V(h)&&!V(M))return!1;if(y&&V(M))continue;y=!1,h=M|1&h}}return V(h)||y}function V(o){return 0==(1&o)}function z(o,a,c,h){if(null===a)return-1;let p=0;if(h||!c){let m=!1;for(;p<a.length;){const y=a[p];if(y===o)return p;if(3===y||6===y)m=!0;else{if(1===y||2===y){let C=a[++p];for(;"string"==typeof C;)C=a[++p];continue}if(4===y)break;if(0===y){p+=4;continue}}p+=m?1:2}return-1}return function(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,o)}function se(o,a,c=!1){for(let h=0;h<a.length;h++)if(B(o,a[h],c))return!0;return!1}function ht(o,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function Tt(o,a){return o?":not("+a.trim()+")":a}function It(o){let a=o[0],c=1,h=2,p="",m=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&h){const C=o[++c];p+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+y:4&h&&(p+=" "+y);else""!==p&&!V(y)&&(a+=Tt(m,p),p=""),h=y,m=m||!V(h);c++}return""!==p&&(a+=Tt(m,p)),a}const ot={};function pn(o){yn(nn(),Ye(),Tr()+o,gu())}function yn(o,a,c,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&_l(a,m,c)}else{const m=o.preOrderHooks;null!==m&&Du(a,m,0,c)}Eo(c)}function bn(o,a){return o<<17|a<<2}function bi(o){return o>>17&32767}function Ar(o){return 2|o}function Mi(o){return(131068&o)>>2}function Oc(o,a){return-131069&o|a<<2}function aa(o){return 1|o}function eg(o,a){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const p=c[h],m=c[h+1];if(-1!==m){const y=o.data[m];Vd(p),y.contentQueries(2,a[m],m)}}}function tg(o,a,c,h,p,m,y,C,M,S){const k=a.blueprint.slice();return k[0]=p,k[2]=140|h,hu(k),k[3]=k[15]=o,k[8]=c,k[10]=y||o&&o[10],k[11]=C||o&&o[11],k[12]=M||o&&o[12]||null,k[9]=S||o&&o[9]||null,k[6]=m,k[16]=2==a.type?o[16]:k,k}function Rh(o,a,c,h,p){let m=o.data[a];if(null===m)m=v0(o,a,c,h,p),kt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=h,m.attrs=p;const y=Ys();m.injectorIndex=null===y?-1:y.injectorIndex}return rs(m,!0),m}function v0(o,a,c,h,p){const m=pu(),y=gl(),M=o.data[a]=function(o,a,c,h,p,m){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,a,h,p);return null===o.firstChild&&(o.firstChild=M),null!==m&&(y?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M)),M}function Fh(o,a,c,h){if(0===c)return-1;const p=a.length;for(let m=0;m<c;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function ng(o,a,c){vu(a);try{const h=o.viewQuery;null!==h&&O0(1,h,c);const p=o.template;null!==p&&cC(o,a,p,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&eg(o,a),o.staticViewQueries&&O0(2,o.viewQuery,c);const m=o.components;null!==m&&function(o,a){for(let c=0;c<a.length;c++)WM(o,a[c])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Cu()}}function Lh(o,a,c,h){const p=a[2];if(256==(256&p))return;vu(a);const m=gu();try{hu(a),function(o){kt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&cC(o,a,c,2,h);const y=3==(3&p);if(!m)if(y){const S=o.preOrderCheckHooks;null!==S&&_l(a,S,null)}else{const S=o.preOrderHooks;null!==S&&Du(a,S,0,null),xu(a,0)}if(function(o){for(let a=xh(o);null!==a;a=Fl(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const p=c[h],m=p[3];0==(1024&p[2])&&Jf(m,1),p[2]|=1024}}}(a),function(o){for(let a=xh(o);null!==a;a=Fl(a))for(let c=10;c<a.length;c++){const h=a[c],p=h[1];gr(h)&&Lh(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&eg(o,a),!m)if(y){const S=o.contentCheckHooks;null!==S&&_l(a,S)}else{const S=o.contentHooks;null!==S&&Du(a,S,1),xu(a,1)}!function(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Eo(~p);else{const m=p,y=c[++h],C=c[++h];Go(y,m),C(2,a[m])}}}finally{Eo(-1)}}(o,a);const C=o.components;null!==C&&function(o,a){for(let c=0;c<a.length;c++)$M(o,a[c])}(a,C);const M=o.viewQuery;if(null!==M&&O0(2,M,h),!m)if(y){const S=o.viewCheckHooks;null!==S&&_l(a,S)}else{const S=o.viewHooks;null!==S&&Du(a,S,2),xu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Jf(a[3],-1))}finally{Cu()}}function SM(o,a,c,h){const p=a[10],m=!gu(),y=du(a);try{m&&!y&&p.begin&&p.begin(),y&&ng(o,a,h),Lh(o,a,c,h)}finally{m&&!y&&p.end&&p.end()}}function cC(o,a,c,h,p){const m=Tr(),y=2&h;try{Eo(-1),y&&a.length>20&&yn(o,a,20,gu()),c(h,p)}finally{Eo(m)}}function uC(o,a,c){if(rc(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}function w0(o,a,c){!Qf()||(function(o,a,c,h){const p=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||Wd(c,a),nr(h,a);const y=c.initialInputs;for(let C=p;C<m;C++){const M=o.data[C],S=Ws(M);S&&VM(a,c,M);const k=uc(a,o,C,c);nr(k,a),null!==y&&jM(0,C-p,k,M,0,y),S&&(li(c.index,a)[8]=k)}}(o,a,c,is(c,a)),128==(128&c.flags)&&function(o,a,c){const h=c.directiveStart,p=c.directiveEnd,y=c.index,C=kt.lFrame.currentDirectiveIndex;try{Eo(y);for(let M=h;M<p;M++){const S=o.data[M],k=a[M];bu(M),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&gC(S,k)}}finally{Eo(-1),bu(C)}}(o,a,c))}function C0(o,a,c=is){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const y=h[m+1],C=-1===y?c(a,o):o[y];o[p++]=C}}}function dC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=v_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function v_(o,a,c,h,p,m,y,C,M,S){const k=20+h,j=k+p,W=function(o,a){const c=[];for(let h=0;h<a;h++)c.push(h<o?null:ot);return c}(k,j),ne="function"==typeof S?S():S;return W[1]={type:o,blueprint:W,template:c,queries:null,viewQuery:C,declTNode:a,data:W.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:ne,incompleteFirstPass:!1}}function E0(o,a,c,h){const p=CC(a);null===c?p.push(h):(p.push(c),o.firstCreatePass&&EC(o).push(h,p.length-1))}function fC(o,a,c){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,p):c[h]=[a,p]}return c}function ro(o,a,c,h,p,m,y,C){const M=is(a,c);let k,S=a.inputs;!C&&null!=S&&(k=S[h])?(TC(o,c,k,h,p),fl(a)&&function(o,a){const c=li(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(h=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=y?y(p,a.value||"",h):p,qn(m)?m.setProperty(M,h,p):Lm(h)||(M.setProperty?M.setProperty(h,p):M[h]=p))}function D0(o,a,c,h){let p=!1;if(Qf()){const m=function(o,a,c){const h=o.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const y=h[m];se(c,y.selectors,!1)&&(p||(p=[]),Ot(Wd(c,a),o,y.type),Ws(y)?(E_(o,c),p.unshift(y)):p.push(y))}return p}(o,a,c),y=null===h?null:{"":-1};if(null!==m){p=!0,x0(c,o.data.length,m.length);for(let k=0;k<m.length;k++){const j=m[k];j.providersResolver&&j.providersResolver(j)}let C=!1,M=!1,S=Fh(o,a,m.length,null);for(let k=0;k<m.length;k++){const j=m[k];c.mergedAttrs=Tu(c.mergedAttrs,j.hostAttrs),bC(o,c,a,S,j),yC(S,j,y),null!==j.contentQueries&&(c.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(c.flags|=128);const W=j.type.prototype;!C&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),C=!0),!M&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),M=!0),S++}!function(o,a){const h=a.directiveEnd,p=o.data,m=a.attrs,y=[];let C=null,M=null;for(let S=a.directiveStart;S<h;S++){const k=p[S],j=k.inputs,W=null===m||A(a)?null:HM(j,m);y.push(W),C=fC(j,S,C),M=fC(k.outputs,S,M)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=C,a.outputs=M}(o,c)}y&&function(o,a,c){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=c[a[p+1]];if(null==m)throw new Qe("301",`Export of name '${a[p+1]}' not found!`);h.push(a[p],m)}}}(c,h,y)}return c.mergedAttrs=Tu(c.mergedAttrs,c.attrs),p}function Xu(o,a,c,h,p,m){const y=m.hostBindings;if(y){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const M=~a.index;(function(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(C)!=M&&C.push(M),C.push(h,p,y)}}function gC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function E_(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function yC(o,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=o;Ws(a)&&(c[""]=o)}}function x0(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function bC(o,a,c,h,p){o.data[h]=p;const m=p.factory||(p.factory=wo(p.type)),y=new Ts(m,Ws(p),null);o.blueprint[h]=y,c[h]=y,Xu(o,a,0,h,Fh(o,c,p.hostVars,ot),p)}function VM(o,a,c){const h=is(a,o),p=dC(c),m=o[10],y=D_(o,tg(o,p,null,c.onPush?64:16,h,a,m,m.createRenderer(h,c),null,null));o[a.index]=y}function T0(o,a,c,h,p,m,y){if(null==m)qn(o)?o.removeAttribute(a,p,c):a.removeAttribute(p);else{const C=null==y?be(m):y(m,h||"",p);qn(o)?o.setAttribute(a,p,C,c):c?a.setAttributeNS(c,p,C):a.setAttribute(p,C)}}function jM(o,a,c,h,p,m){const y=m[a];if(null!==y){const C=h.setInput;for(let M=0;M<y.length;){const S=y[M++],k=y[M++],j=y[M++];null!==C?h.setInput(c,j,S,k):c[k]=j}}}function HM(o,a){let c=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return c}function vC(o,a,c,h){return new Array(o,!0,!1,a,null,0,h,c,null,null)}function $M(o,a){const c=li(a,o);if(gr(c)){const h=c[1];80&c[2]?Lh(h,c,h.template,c[8]):c[5]>0&&M0(c)}}function M0(o){for(let h=xh(o);null!==h;h=Fl(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const y=m[1];Lh(y,m,y.template,m[8])}else m[5]>0&&M0(m)}const c=o[1].components;if(null!==c)for(let h=0;h<c.length;h++){const p=li(c[h],o);gr(p)&&p[5]>0&&M0(p)}}function WM(o,a){const c=li(a,o),h=c[1];(function(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(h,c),ng(h,c,c[8])}function D_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function S0(o){for(;o;){o[2]|=64;const a=ra(o);if(Cs(o)&&!a)return o;o=a}return null}function x_(o,a,c){const h=a[10];h.begin&&h.begin();try{Lh(o,a,o.template,c)}catch(p){throw xC(a,p),p}finally{h.end&&h.end()}}function wC(o){!function(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],h=_h(c),p=h[1];SM(p,h,p.template,c)}}(o[8])}function O0(o,a,c){Vd(0),a(o,c)}const KM=(()=>Promise.resolve(null))();function CC(o){return o[7]||(o[7]=[])}function EC(o){return o.cleanup||(o.cleanup=[])}function xC(o,a){const c=o[9],h=c?c.get(kl,null):null;h&&h.handleError(a)}function TC(o,a,c,h,p){for(let m=0;m<c.length;){const y=c[m++],C=c[m++],M=a[y],S=o.data[y];null!==S.setInput?S.setInput(M,p,h,C):M[C]=p}}function T_(o,a,c){let h=c?o.styles:null,p=c?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const C=a[y];"number"==typeof C?m=C:1==m?p=Z(p,C):2==m&&(h=Z(h,C+": "+a[++y]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=p:o.classesWithoutHost=p}const Bh=new Hn("INJECTOR",-1);class SC{get(a,c=Iu){if(c===Iu){const h=new Error(`NullInjectorError: No provider for ${ee(a)}!`);throw h.name="NullInjectorError",h}return c}}const ig=new Hn("Set Injector scope."),Vh={},so={};let M_;function AC(){return void 0===M_&&(M_=new SC),M_}function OC(o,a=null,c=null,h){return new IC(o,c,a||AC(),h)}class IC{constructor(a,c,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&Ks(c,C=>this.processProvider(C,a,c)),Ks([a],C=>this.processInjectorType(C,[],m)),this.records.set(Bh,Hh(void 0,this));const y=this.records.get(ig);this.scope=null!=y?y.value:null,this.source=p||("object"==typeof a?null:ee(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Iu,h=yt.Default){this.assertNotDestroyed();const p=As(this),m=$n(void 0);try{if(!(h&yt.SkipSelf)){let C=this.records.get(a);if(void 0===C){const M=("function"==typeof(o=a)||"object"==typeof o&&o instanceof Hn)&&ji(a);C=M&&this.injectableDefInScope(M)?Hh(jh(a),Vh):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(h&yt.Self?AC():this.parent).get(a,c=h&yt.Optional&&c===Iu?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Ml]=y[Ml]||[]).unshift(ee(a)),p)throw y;return wp(y,a,"R3InjectorError",this.source)}throw y}finally{$n(m),As(p)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,p)=>a.push(ee(p))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,c,h){if(!(a=fe(a)))return!1;let p=ur(a);const m=null==p&&a.ngModule||void 0,y=void 0===m?a:m,C=-1!==h.indexOf(y);if(void 0!==m&&(p=ur(m)),null==p)return!1;if(null!=p.imports&&!C){let k;h.push(y);try{Ks(p.imports,j=>{this.processInjectorType(j,c,h)&&(void 0===k&&(k=[]),k.push(j))})}finally{}if(void 0!==k)for(let j=0;j<k.length;j++){const{ngModule:W,providers:ne}=k[j];Ks(ne,ue=>this.processProvider(ue,W,ne||wt))}}this.injectorDefTypes.add(y);const M=wo(y)||(()=>new y);this.records.set(y,Hh(M,Vh));const S=p.providers;if(null!=S&&!C){const k=a;Ks(S,j=>this.processProvider(j,k,S))}return void 0!==m&&void 0!==a.providers}processProvider(a,c,h){let p=ed(a=fe(a))?a:fe(a&&a.provide);const m=Qu(o=a)?Hh(void 0,o.useValue):Hh(I0(o),Vh);var o;if(ed(a)||!0!==a.multi)this.records.get(p);else{let y=this.records.get(p);y||(y=Hh(void 0,Vh,!0),y.factory=()=>Qi(y.multi),this.records.set(p,y)),p=a,y.multi.push(a)}this.records.set(p,m)}hydrate(a,c){return c.value===Vh&&(c.value=so,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const c=fe(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function jh(o){const a=ji(o),c=null!==a?a.factory:wo(o);if(null!==c)return c;if(o instanceof Hn)throw new Error(`Token ${ee(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const h=Na(a,"?");throw new Error(`Can't resolve all parameters for ${ee(o)}: (${h.join(", ")}).`)}const c=function(o){const a=o&&(o[Hs]||o[oi]);if(a){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function I0(o,a,c){let h;if(ed(o)){const p=fe(o);return wo(p)||jh(p)}if(Qu(o))h=()=>fe(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Qi(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))h=()=>ci(fe(o.useExisting));else{const p=fe(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return wo(p)||jh(p);h=()=>new p(...Qi(o.deps))}return h}function Hh(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Qu(o){return null!==o&&"object"==typeof o&&Xi in o}function ed(o){return"function"==typeof o}const k0=function(o,a,c){return function(o,a=null,c=null,h){const p=OC(o,a,c,h);return p._resolveInjectorDefTypes(),p}({name:c},a,o,c)};let Kn=(()=>{class o{static create(c,h){return Array.isArray(c)?k0(c,h,""):k0(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=Iu,o.NULL=new SC,o.\u0275prov=In({token:o,providedIn:"any",factory:()=>ci(Bh)}),o.__NG_ELEMENT_ID__=-1,o})();function R_(o,a){Eu(_h(o)[1],yi())}function No(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;a;){let p;if(Ws(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");p=a.\u0275dir}if(p){if(c){h.push(p);const y=o;y.inputs=W0(o.inputs),y.declaredInputs=W0(o.declaredInputs),y.outputs=W0(o.outputs);const C=p.hostBindings;C&&oS(o,C);const M=p.viewQuery,S=p.contentQueries;if(M&&rS(o,M),S&&sS(o,S),ae(o.inputs,p.inputs),ae(o.declaredInputs,p.declaredInputs),ae(o.outputs,p.outputs),Ws(p)&&p.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let y=0;y<m.length;y++){const C=m[y];C&&C.ngInherit&&C(o),C===No&&(c=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,c=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=Tu(p.hostAttrs,c=Tu(c,p.hostAttrs))}}(h)}function W0(o){return o===bt?{}:o===wt?[]:o}function rS(o,a){const c=o.viewQuery;o.viewQuery=c?(h,p)=>{a(h,p),c(h,p)}:a}function sS(o,a){const c=o.contentQueries;o.contentQueries=c?(h,p,m)=>{a(h,p,m),c(h,p,m)}:a}function oS(o,a){const c=o.hostBindings;o.hostBindings=c?(h,p)=>{a(h,p),c(h,p)}:a}let fg=null;function $h(){if(!fg){const o=Vt.Symbol;if(o&&o.iterator)fg=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(fg=h)}}}return fg}class Or{constructor(a){this.wrapped=a}static wrap(a){return new Or(a)}static unwrap(a){return Or.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Or}}function Wh(o){return!!Gh(o)&&(Array.isArray(o)||!(o instanceof Map)&&$h()in o)}function Gh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ui(o,a,c){return o[a]=c}function Ir(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Hl(o,a,c,h){const p=Ir(o,a,c);return Ir(o,a+1,h)||p}function Y0(o,a,c,h){const p=Ye();return Ir(p,Co(),a)&&(nn(),function(o,a,c,h,p,m){const y=is(o,a);T0(a[11],y,m,o.value,c,h,p)}(Zn(),p,o,a,c,h)),Y0}function Rc(o,a,c,h){return Ir(o,Co(),c)?a+be(c)+h:ot}function Zh(o,a,c,h,p,m,y,C,M,S){const j=function(o,a,c,h,p,m){const y=Hl(o,a,c,h);return Hl(o,a+2,p,m)||y}(o,xs(),c,p,y,M);return Wo(4),j?a+be(c)+h+be(p)+m+be(y)+C+be(M)+S:ot}function Z0(o,a,c,h,p,m,y,C){const M=Ye(),S=nn(),k=o+20,j=S.firstCreatePass?function(o,a,c,h,p,m,y,C,M){const S=a.consts,k=Rh(a,o,4,y||null,Sa(S,C));D0(a,c,k,Sa(S,M)),Eu(a,k);const j=k.tViews=v_(2,k,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,k),j.queries=a.queries.embeddedTView(k)),k}(k,S,M,a,c,h,p,m,y):S.data[k];rs(j,!1);const W=M[11].createComment("");Yu(S,M,W,j),nr(W,M),D_(M,M[k]=vC(W,M,W,j)),Uo(j)&&w0(S,M,j),null!=y&&C0(M,j,C)}function GC(o){return Es(kt.lFrame.contextLView,20+o)}function mg(o,a=yt.Default){const c=Ye();return null===c?ci(o,a):Wt(yi(),c,fe(o),a)}function ua(o,a,c){const h=Ye();return Ir(h,Co(),a)&&ro(nn(),Zn(),h,o,a,h[11],c,!1),ua}function rE(o,a,c,h,p){const y=p?"class":"style";TC(o,c,a.inputs[y],y,h)}function tv(o,a,c,h){const p=Ye(),m=nn(),y=20+o,C=p[11],M=p[y]=Mh(C,a,kt.lFrame.currentNamespace),S=m.firstCreatePass?function(o,a,c,h,p,m,y){const C=a.consts,S=Rh(a,o,2,p,Sa(C,m));return D0(a,c,S,Sa(C,y)),null!==S.attrs&&T_(S,S.attrs,!1),null!==S.mergedAttrs&&T_(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(y,m,p,0,a,c,h):m.data[y];rs(S,!0);const k=S.mergedAttrs;null!==k&&Ud(C,M,k);const j=S.classes;null!==j&&Ih(C,M,j);const W=S.styles;null!==W&&m_(C,M,W),64!=(64&S.flags)&&Yu(m,p,M,S),0===kt.lFrame.elementDepthCount&&nr(M,p),kt.lFrame.elementDepthCount++,Uo(S)&&(w0(m,p,S),uC(m,S,p)),null!==h&&C0(p,S)}function nv(){let o=yi();gl()?ml():(o=o.parent,rs(o,!1));const a=o;kt.lFrame.elementDepthCount--;const c=nn();c.firstCreatePass&&(Eu(c,o),rc(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&rE(c,a,Ye(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&rE(c,a,Ye(),a.stylesWithoutHost,!1)}function sE(o,a,c,h){tv(o,a,c,h),nv()}function _g(o,a,c){const h=Ye(),p=nn(),m=o+20,y=p.firstCreatePass?function(o,a,c,h,p){const m=a.consts,y=Sa(m,h),C=Rh(a,o,8,"ng-container",y);return null!==y&&T_(C,y,!0),D0(a,c,C,Sa(m,p)),null!==a.queries&&a.queries.elementStart(a,C),C}(m,p,h,a,c):p.data[m];rs(y,!0);const C=h[m]=h[11].createComment("");Yu(p,h,C,y),nr(C,h),Uo(y)&&(w0(p,h,y),uC(p,y,h)),null!=c&&C0(h,y)}function Lc(){let o=yi();const a=nn();gl()?ml():(o=o.parent,rs(o,!1)),a.firstCreatePass&&(Eu(a,o),rc(o)&&a.queries.elementEnd(o))}function iv(){return Ye()}function yr(o){return!!o&&"function"==typeof o.then}function Nr(o){return!!o&&"function"==typeof o.subscribe}const j_=Nr;function yg(o,a,c,h){const p=Ye(),m=nn(),y=yi();return function(o,a,c,h,p,m,y,C){const M=Uo(h),k=o.firstCreatePass&&EC(o),j=a[8],W=CC(a);let ne=!0;if(3&h.type||C){const we=is(h,a),Je=C?C(we):we,Ve=W.length,Mt=C?$t=>C(Bn($t[h.index])):h.index;if(qn(c)){let $t=null;if(!C&&M&&($t=function(o,a,c,h){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const y=p[m];if(y===c&&p[m+1]===h){const C=a[7],M=p[m+2];return C.length>M?C[M]:null}"string"==typeof y&&(m+=2)}return null}(o,a,p,h.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=m,$t.__ngLastListenerFn__=m,ne=!1;else{m=z_(h,a,j,m,!1);const hn=c.listen(Je,p,m);W.push(m,hn),k&&k.push(p,Mt,Ve,Ve+1)}}else m=z_(h,a,j,m,!0),Je.addEventListener(p,m,y),W.push(m),k&&k.push(p,Mt,Ve,y)}else m=z_(h,a,j,m,!1);const ue=h.outputs;let Oe;if(ne&&null!==ue&&(Oe=ue[p])){const we=Oe.length;if(we)for(let Je=0;Je<we;Je+=2){const Cn=a[Oe[Je]][Oe[Je+1]].subscribe(m),ar=W.length;W.push(m,Cn),k&&k.push(p,h.index,ar,-(ar+1))}}}(m,p,p[11],y,o,a,!!c,h),yg}function Ya(o,a,c,h){try{return!1!==c(h)}catch(p){return xC(o,p),!1}}function z_(o,a,c,h,p){return function m(y){if(y===Function)return h;const C=2&o.flags?li(o.index,a):a;0==(32&a[2])&&S0(C);let M=Ya(a,0,h,y),S=m.__ngNextListenerFn__;for(;S;)M=Ya(a,0,S,y)&&M,S=S.__ngNextListenerFn__;return p&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function rv(o=1){return function(o){return(kt.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,kt.lFrame.contextLView))[8]}(o)}function PS(o,a){let c=null;const h=function(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let p=0;p<a.length;p++){const m=a[p];if("*"!==m){if(null===h?se(o,m,!0):ht(h,m))return p}else c=p}return c}function lE(o){const a=Ye()[16][6];if(!a.projection){const h=a.projection=Na(o?o.length:1,null),p=h.slice();let m=a.child;for(;null!==m;){const y=o?PS(m,o):0;null!==y&&(p[y]?p[y].projectionNext=m:h[y]=m,p[y]=m),m=m.next}}}function ef(o,a=0,c){const h=Ye(),p=nn(),m=Rh(p,20+o,16,null,c||null);null===m.projection&&(m.projection=a),ml(),64!=(64&m.flags)&&function(o,a,c){Xp(a[11],0,a,c,oa(o,c,a),Ah(c.parent||a[6],c,a))}(p,h,m)}function sv(o,a,c){return U_(o,"",a,"",c),sv}function U_(o,a,c,h,p){const m=Ye(),y=Rc(m,a,c,h);return y!==ot&&ro(nn(),Zn(),m,o,y,m[11],p,!1),U_}function ov(o,a,c,h,p){const m=o[c+1],y=null===a;let C=h?bi(m):Mi(m),M=!1;for(;0!==C&&(!1===M||y);){const k=o[C+1];dE(o[C],a)&&(M=!0,o[C+1]=h?aa(k):Ar(k)),C=h?bi(k):Mi(k)}M&&(o[c+1]=h?Ar(m):aa(m))}function dE(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&xl(o,a)>=0}const zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function av(o){return o.substring(zi.key,zi.keyEnd)}function fE(o,a){const c=zi.textEnd;return c===a?-1:(a=zi.keyEnd=function(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,zi.key=a,c),Yr(o,a,c))}function Yr(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function vg(o,a,c){return ao(o,a,c,!1),vg}function ko(o,a){return ao(o,a,null,!0),ko}function hv(o){lo($r,Ul,o,!0)}function Ul(o,a){for(let c=function(o){return function(o){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=o.length}(o),fE(o,Yr(o,0,zi.textEnd))}(a);c>=0;c=fE(a,c))$r(o,av(a),!0)}function ao(o,a,c,h){const p=Ye(),m=nn(),y=Wo(2);m.firstUpdatePass&&_E(m,o,y,h),a!==ot&&Ir(p,y,a)&&zS(m,m.data[Tr()],p,p[11],o,p[y+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ee(Mo(o)))),o}(a,c),h,y)}function lo(o,a,c,h){const p=nn(),m=Wo(2);p.firstUpdatePass&&_E(p,null,m,h);const y=Ye();if(c!==ot&&Ir(y,m,c)){const C=p.data[Tr()];if(DE(C,h)&&!q_(p,m)){let M=h?C.classesWithoutHost:C.stylesWithoutHost;null!==M&&(c=Z(M,c||"")),rE(p,C,y,c,h)}else!function(o,a,c,h,p,m,y,C){p===ot&&(p=wt);let M=0,S=0,k=0<p.length?p[0]:null,j=0<m.length?m[0]:null;for(;null!==k||null!==j;){const W=M<p.length?p[M+1]:void 0,ne=S<m.length?m[S+1]:void 0;let Oe,ue=null;k===j?(M+=2,S+=2,W!==ne&&(ue=j,Oe=ne)):null===j||null!==k&&k<j?(M+=2,ue=k):(S+=2,ue=j,Oe=ne),null!==ue&&zS(o,a,c,h,ue,Oe,y,C),k=M<p.length?p[M]:null,j=S<m.length?m[S]:null}}(p,C,y,y[11],y[m+1],y[m+1]=function(o,a,c){if(null==c||""===c)return wt;const h=[],p=Mo(c);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(h,m,p[m]);else"string"==typeof p&&a(h,p);return h}(o,a,c),h,m)}}function q_(o,a){return a>=o.expandoStartIndex}function _E(o,a,c,h){const p=o.data;if(null===p[c+1]){const m=p[Tr()],y=q_(o,c);DE(m,h)&&null===a&&!y&&(a=!1),a=function(o,a,c,h){const p=function(o){const a=kt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(c=Z_(c=pv(null,o,a,c,h),a.attrs,h),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==p)if(c=pv(p,o,a,c,h),null===m){let M=function(o,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==Mi(h))return o[bi(h)]}(o,a,h);void 0!==M&&Array.isArray(M)&&(M=pv(null,o,a,M[1],h),M=Z_(M,a.attrs,h),function(o,a,c,h){o[bi(c?a.classBindings:a.styleBindings)]=h}(o,a,h,M))}else m=function(o,a,c){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=Z_(h,o[m].hostAttrs,c);return Z_(h,a.attrs,c)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),c}(p,m,a,h),function(o,a,c,h,p,m){let y=m?a.classBindings:a.styleBindings,C=bi(y),M=Mi(y);o[h]=c;let k,S=!1;if(Array.isArray(c)){const j=c;k=j[1],(null===k||xl(j,k)>0)&&(S=!0)}else k=c;if(p)if(0!==M){const W=bi(o[C+1]);o[h+1]=bn(W,C),0!==W&&(o[W+1]=Oc(o[W+1],h)),o[C+1]=function(o,a){return 131071&o|a<<17}(o[C+1],h)}else o[h+1]=bn(C,0),0!==C&&(o[C+1]=Oc(o[C+1],h)),C=h;else o[h+1]=bn(M,0),0===C?C=h:o[M+1]=Oc(o[M+1],h),M=h;S&&(o[h+1]=Ar(o[h+1])),ov(o,k,h,!0),ov(o,k,h,!1),function(o,a,c,h,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&xl(m,a)>=0&&(c[h+1]=aa(c[h+1]))}(a,k,o,h,m),y=bn(C,M),m?a.classBindings=y:a.styleBindings=y}(p,m,a,c,y,h)}}function pv(o,a,c,h,p){let m=null;const y=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<y&&(m=a[C],h=Z_(h,m.hostAttrs,p),m!==o);)C++;return null!==o&&(c.directiveStylingLast=C),h}function Z_(o,a,c){const h=c?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?p=y:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),$r(o,y,!!c||a[++m]))}return void 0===o?null:o}function zS(o,a,c,h,p,m,y,C){if(!(3&a.type))return;const M=o.data,S=M[C+1];gv(function(o){return 1==(1&o)}(S)?CE(M,a,c,p,Mi(S),y):void 0)||(gv(m)||function(o){return 2==(2&o)}(S)&&(m=CE(M,null,c,p,C,y)),function(o,a,c,h,p){const m=qn(o);if(a)p?m?o.addClass(c,h):c.classList.add(h):m?o.removeClass(c,h):c.classList.remove(h);else{let y=-1===h.indexOf("-")?void 0:cs.DashCase;if(null==p)m?o.removeStyle(c,h,y):c.style.removeProperty(h);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),y|=cs.Important),m?o.setStyle(c,h,p,y):c.style.setProperty(h,p,C?"important":"")}}}(h,y,$o(Tr(),c),p,m))}function CE(o,a,c,h,p,m){const y=null===a;let C;for(;p>0;){const M=o[p],S=Array.isArray(M),k=S?M[1]:M,j=null===k;let W=c[p+1];W===ot&&(W=j?wt:void 0);let ne=j?Kd(W,h):k===h?W:void 0;if(S&&!gv(ne)&&(ne=Kd(M,h)),gv(ne)&&(C=ne,y))return C;const ue=o[p+1];p=y?bi(ue):Mi(ue)}if(null!==a){let M=m?a.residualClasses:a.residualStyles;null!=M&&(C=Kd(M,h))}return C}function gv(o){return void 0!==o}function DE(o,a){return 0!=(o.flags&(a?16:32))}function xE(o,a=""){const c=Ye(),h=nn(),p=o+20,m=h.firstCreatePass?Rh(h,p,1,a,null):h.data[p],y=c[p]=Th(c[11],a);Yu(h,c,y,m),rs(m,!1)}function mv(o){return K_("",o,""),mv}function K_(o,a,c){const h=Ye(),p=Rc(h,o,a,c);return p!==ot&&function(o,a,c){const h=$o(a,o);Wp(o[11],h,c)}(h,Tr(),p),K_}function OE(o,a,c,h,p,m,y,C,M){lo($r,Ul,Zh(Ye(),o,a,c,h,p,m,y,C,M),!0)}function ty(o,a,c){const h=Ye();return Ir(h,Co(),a)&&ro(nn(),Zn(),h,o,a,h[11],c,!0),ty}const od=void 0;var eA=["en",[["a","p"],["AM","PM"],od],[["AM","PM"],od,od],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],od,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],od,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",od,"{1} 'at' {0}",od],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let rf={};function ny(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=xv(a);if(c)return c;const h=a.split("-")[0];if(c=xv(h),c)return c;if("en"===h)return eA;throw new Error(`Missing locale data for the locale "${o}".`)}function iy(o){return ny(o)[Ft.PluralCase]}function xv(o){return o in rf||(rf[o]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[o]),rf[o]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const BE=["zero","one","two","few","many"],ry="en-US",sf={marker:"element"},af={marker:"ICU"};var Fn=(()=>((Fn=Fn||{})[Fn.SHIFT=2]="SHIFT",Fn[Fn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Fn[Fn.COMMENT=2]="COMMENT",Fn))();let sy=ry;function oy(o){(function(o,a){null==o&&st(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(sy=o.toLowerCase().replace(/_/g,"-"))}function qr(o,a,c){const h=a.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?qp(o,0,c):Bn(c[p])}function Mv(o,a,c,h,p){const m=a.insertBeforeIndex;if(Array.isArray(m)){let y=h,C=null;if(3&a.type||(C=y,y=p),null!==y&&0==(2&a.flags))for(let M=1;M<m.length;M++)Bl(o,y,c[m[M]],C,!1)}}function kr(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const h=o[c];Bc(h)||rA(h,a)&&null===Sv(h)&&qa(h,a.index)}}function Bc(o){return!(64&o.type)}function rA(o,a){return Bc(a)||o.index>a.index}function Sv(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function qa(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(no(qr,Mv),o.insertBeforeIndex=a)}function Za(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function ay(o,a,c){const h=v0(o,c,64,null,null);return kr(a,h),h}function ad(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function VE(o){return o>>>17}function Av(o){return(131070&o)>>>1}let Eg=0,Dg=0;function HE(o,a,c,h){const p=c[11];let y,m=null;for(let C=0;C<a.length;C++){const M=a[C];if("string"==typeof M){const S=a[++C];null===c[S]&&(c[S]=Th(p,M))}else if("number"==typeof M)switch(1&M){case 0:const S=VE(M);let k,j;if(null===m&&(m=S,y=Tc(p,h)),S===m?(k=h,j=y):(k=null,j=Bn(c[S])),null!==j){const Oe=Av(M);Bl(p,j,c[Oe],k,!1);const Je=Za(o,Oe);if(null!==Je&&"object"==typeof Je){const Ve=ad(Je,c);null!==Ve&&HE(o,Je.create[Ve],c,c[Je.anchorIdx])}}break;case 1:const ne=a[++C],ue=a[++C];T0(p,$o(M>>>1,c),null,null,ne,ue,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${M}"`)}else switch(M){case af:const S=a[++C],k=a[++C];null===c[k]&&nr(c[k]=g0(p,S),c);break;case sf:const j=a[++C],W=a[++C];null===c[W]&&nr(c[W]=Mh(p,j,null),c)}}}function lA(o,a,c,h,p){for(let m=0;m<c.length;m++){const y=c[m],C=c[++m];if(y&p){let M="";for(let S=m+1;S<=m+C;S++){const k=c[S];if("string"==typeof k)M+=k;else if("number"==typeof k)if(k<0)M+=be(a[h-k]);else{const j=k>>>2;switch(3&k){case 1:const W=c[++S],ne=c[++S],ue=o.data[j];"string"==typeof ue?T0(a[11],a[j],null,ue,W,M,ne):ro(o,ue,a,W,M,a[11],ne,!1);break;case 0:const Oe=a[j];null!==Oe&&Wp(a[11],Oe,M);break;case 2:cA(o,Za(o,j),a,M);break;case 3:zE(o,Za(o,j),h,a)}}}}else{const M=c[m+1];if(M>0&&3==(3&M)){const k=Za(o,M>>>2);a[k.currentCaseLViewIndex]<0&&zE(o,k,h,a)}}m+=C}}function zE(o,a,c,h){let p=h[a.currentCaseLViewIndex];if(null!==p){let m=Eg;p<0&&(p=h[a.currentCaseLViewIndex]=~p,m=-1),lA(o,h,a.update[p],c,m)}}function cA(o,a,c,h){const p=function(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const h=function(o,a){const c=iy(a)(parseInt(o,10)),h=BE[c];return void 0!==h?h:"other"}(a,sy);c=o.cases.indexOf(h),-1===c&&"other"!==h&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,h);if(ad(a,c)!==p&&(UE(o,a,c),c[a.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const y=c[a.anchorIdx];y&&HE(o,a.create[p],c,y)}}function UE(o,a,c){let h=ad(a,c);if(null!==h){const p=a.remove[h];for(let m=0;m<p.length;m++){const y=p[m];if(y>0){const C=$o(y,c);null!==C&&Kp(c[11],C)}else UE(o,Za(o,~y),c)}}}function lf(){const o=[];let c,h,a=-1;function m(C,M){a=0;const S=ad(C,M);h=null!==S?C.remove[S]:wt}function y(){if(a<h.length){const C=h[a++];return C>0?c[C]:(o.push(a,h),m(c[1].data[~C],c),y())}return 0===o.length?null:(h=o.pop(),a=o.pop(),y())}return function(C,M){for(c=M;o.length;)o.pop();return m(C.value,M),y}}const cy=/\ufffd(\d+):?\d*\ufffd/gi,hA=/\ufffd(\d+)\ufffd/,fA=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,pA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,gA=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,xg=/\uE500/g;function $E(o,a,c,h,p,m,y){const C=Fh(o,h,1,null);let M=C<<Fn.SHIFT,S=Ys();a===S&&(S=null),null===S&&(M|=Fn.APPEND_EAGERLY),y&&(M|=Fn.COMMENT,function(o){void 0===Rl&&(Rl=o())}(lf)),p.push(M,null===m?"":m);const k=v0(o,C,y?32:1,null===m?"":m,null);kr(c,k);const j=k.index;return rs(k,!1),null!==S&&a!==S&&function(o,a){let c=o.insertBeforeIndex;null===c?(no(qr,Mv),c=o.insertBeforeIndex=[null,a]):(function(o,a,c){o!=a&&st(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(S,j),k}function yA(o,a,c,h,p,m,y){const C=y.match(cy),M=$E(o,a,c,m,h,C?null:y,!1);C&&Pt(p,y,M.index,null,0,null)}function Pt(o,a,c,h,p,m){const y=o.length,C=y+1;o.push(null,null);const M=y+2,S=a.split(cy);let k=0;for(let j=0;j<S.length;j++){const W=S[j];if(1&j){const ne=p+parseInt(W,10);o.push(-1-ne),k|=Ka(ne)}else""!==W&&o.push(W)}return o.push(c<<2|(h?1:0)),h&&o.push(h,m),o[y]=k,o[C]=o.length-M,k}function Ka(o){return 1<<Math.min(o,31)}function GE(o){let a,m,c="",h=0,p=!1;for(;null!==(a=pA.exec(o));)p?a[0]===`\ufffd/*${m}\ufffd`&&(h=a.index,p=!1):(c+=o.substring(h,a.index+a[0].length),m=a[1],p=!0);return c+=o.substr(h),c}function vA(o,a,c,h,p,m){let y=0;const C={type:p.type,currentCaseLViewIndex:Fh(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function(o,a,c){o.push(Ka(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,p,m),function(o,a,c){const h=o.data[a];null===h?o.data[a]=c:h.value=c}(o,m,C);const M=p.values;for(let S=0;S<M.length;S++){const k=M[S],j=[];for(let W=0;W<k.length;W++){const ne=k[W];if("string"!=typeof ne){const ue=j.push(ne)-1;k[W]=`\x3c!--\ufffd${ue}\ufffd--\x3e`}}y=IP(o,C,a,c,h,p.cases[S],k.join(""),j)|y}y&&function(o,a,c){o.push(a,1,c<<2|3)}(c,y,m)}function YE(o){const a=[],c=[];let h=1,p=0;const m=Iv(o=o.replace(fA,function(y,C,M){return h="select"===M?0:1,p=parseInt(C.substr(1),10),""}));for(let y=0;y<m.length;){let C=m[y++].trim();1===h&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&a.push(C);const M=Iv(m[y++]);a.length>c.length&&c.push(M)}return{type:h,mainBinding:p,cases:a,values:c}}function Iv(o){if(!o)return[];let a=0;const c=[],h=[],p=/[{}]/g;let m;for(p.lastIndex=0;m=p.exec(o);){const C=m.index;if("}"==m[0]){if(c.pop(),0==c.length){const M=o.substring(a,C);fA.test(M)?h.push(YE(M)):h.push(M),a=C+1}}else{if(0==c.length){const M=o.substring(a,C);h.push(M),a=C+1}c.push("{")}}const y=o.substring(a);return h.push(y),h}function IP(o,a,c,h,p,m,y,C){const M=[],S=[],k=[];a.cases.push(m),a.create.push(M),a.remove.push(S),a.update.push(k);const W=Sp(Ma()).getInertBodyElement(y),ne=dh(W)||W;return ne?Vc(o,a,c,h,M,S,k,ne,p,C,0):0}function Vc(o,a,c,h,p,m,y,C,M,S,k){let j=0,W=C.firstChild;for(;W;){const ne=Fh(o,c,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const ue=W,Oe=ue.tagName.toLowerCase();if(wc.hasOwnProperty(Oe)){KE(p,sf,Oe,M,ne),o.data[ne]=Oe;const Mt=ue.attributes;for(let $t=0;$t<Mt.length;$t++){const hn=Mt.item($t),Cn=hn.name.toLowerCase();hn.value.match(cy)?ch.hasOwnProperty(Cn)&&Pt(y,hn.value,ne,hn.name,0,Ip[Cn]?ea:ju[Cn]?Km:null):wA(p,ne,hn)}j=Vc(o,a,c,h,p,m,y,W,ne,S,k+1)|j,qE(m,ne,k)}break;case Node.TEXT_NODE:const we=W.textContent||"",Je=we.match(cy);KE(p,null,Je?"":we,M,ne),qE(m,ne,k),Je&&(j=Pt(y,we,ne,null,0,null)|j);break;case Node.COMMENT_NODE:const Ve=hA.exec(W.textContent||"");if(Ve){const $t=S[parseInt(Ve[1],10)];KE(p,af,"",M,ne),vA(o,c,h,M,$t,ne),ZE(m,ne,k)}}W=W.nextSibling}return j}function qE(o,a,c){0===c&&o.push(a)}function ZE(o,a,c){0===c&&(o.push(~a),o.push(a))}function KE(o,a,c,h,p){null!==a&&o.push(a),o.push(c,p,function(o,a,c){return 0|a<<17|c<<1}(0,h,p))}function wA(o,a,c){o.push(a<<1|1,c.name,c.value)}function JE(o,a,c=-1){const h=nn(),p=Ye(),m=20+o,y=Sa(h.consts,a),C=Ys();h.firstCreatePass&&function(o,a,c,h,p,m){const y=Ys(),C=[],M=[],S=[[]],k=function(o){return o.replace(xg," ")}(p=function(o,a){if(function(o){return-1===o}(a))return GE(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return GE(o.substring(c,h))}}(p,m)).split(gA);for(let j=0;j<k.length;j++){let W=k[j];if(0==(1&j)){const ne=Iv(W);for(let ue=0;ue<ne.length;ue++){let Oe=ne[ue];if(0==(1&ue)){const we=Oe;""!==we&&yA(o,y,S[0],C,M,c,we)}else{const we=Oe;if("object"!=typeof we)throw new Error(`Unable to parse ICU expression in "${p}" message.`);vA(o,c,M,a,we,$E(o,y,S[0],c,C,"",!0).index)}}}else{const ne=47===W.charCodeAt(0),Oe=(W.charCodeAt(ne?1:0),20+Number.parseInt(W.substring(ne?2:1)));if(ne)S.shift(),rs(Ys(),!1);else{const we=ay(o,S[0],Oe);S.unshift([]),rs(we,!0)}}}o.data[h]={create:C,update:M}}(h,null===C?0:C.index,p,m,y,c);const M=h.data[m],k=h_(h,C===p[6]?null:C,p);(function(o,a,c,h){const p=o[11];for(let m=0;m<a.length;m++){const y=a[m++],C=a[m],M=(y&Fn.COMMENT)===Fn.COMMENT,S=(y&Fn.APPEND_EAGERLY)===Fn.APPEND_EAGERLY,k=y>>>Fn.SHIFT;let j=o[k];null===j&&(j=o[k]=M?p.createComment(C):Th(p,C)),S&&null!==c&&Bl(p,c,j,h,!1)}})(p,M.create,k,C&&8&C.type?p[C.index]:null),yu(!0)}function QE(o,a,c){JE(o,a,c),yu(!1)}function Nv(o){return function(o){o&&(Eg|=1<<Math.min(Dg,31)),Dg++}(Ir(Ye(),Co(),o)),Nv}function eD(o){!function(o,a,c){if(Dg>0){const h=o.data[c];lA(o,a,Array.isArray(h)?h:h.update,xs()-Dg-1,Eg)}Eg=0,Dg=0}(nn(),Ye(),o+20)}function Pv(o,a,c,h,p){if(o=fe(o),Array.isArray(o))for(let m=0;m<o.length;m++)Pv(o[m],a,c,h,p);else{const m=nn(),y=Ye();let C=ed(o)?o:fe(o.provide),M=I0(o);const S=yi(),k=1048575&S.providerIndexes,j=S.directiveStart,W=S.providerIndexes>>20;if(ed(o)||!o.multi){const ne=new Ts(M,p,mg),ue=Fv(C,a,p?k:k+W,j);-1===ue?(Ot(Wd(S,y),m,C),Rv(m,o,a.length),a.push(C),S.directiveStart++,S.directiveEnd++,p&&(S.providerIndexes+=1048576),c.push(ne),y.push(ne)):(c[ue]=ne,y[ue]=ne)}else{const ne=Fv(C,a,k+W,j),ue=Fv(C,a,k,k+W),Oe=ne>=0&&c[ne],we=ue>=0&&c[ue];if(p&&!we||!p&&!Oe){Ot(Wd(S,y),m,C);const Je=function(o,a,c,h,p){const m=new Ts(o,c,mg);return m.multi=[],m.index=a,m.componentProviders=0,tD(m,p,h&&!c),m}(p?NA:IA,c.length,p,h,M);!p&&we&&(c[ue].providerFactory=Je),Rv(m,o,a.length,0),a.push(C),S.directiveStart++,S.directiveEnd++,p&&(S.providerIndexes+=1048576),c.push(Je),y.push(Je)}else Rv(m,o,ne>-1?ne:ue,tD(c[p?ue:ne],M,!p&&h));!p&&h&&we&&c[ue].componentProviders++}}}function Rv(o,a,c,h){const p=ed(a);if(p||function(o){return!!o.useClass}(a)){const y=(a.useClass||a).prototype.ngOnDestroy;if(y){const C=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const M=C.indexOf(c);-1===M?C.push(c,[h,y]):C[M+1].push(h,y)}else C.push(c,y)}}}function tD(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Fv(o,a,c,h){for(let p=c;p<h;p++)if(a[p]===o)return p;return-1}function IA(o,a,c,h){return Lv(this.multi,[])}function NA(o,a,c,h){const p=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=uc(c,c[1],this.providerFactory.index,h);m=C.slice(0,y),Lv(p,m);for(let M=y;M<C.length;M++)m.push(C[M])}else m=[],Lv(p,m);return m}function Lv(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Bv(o,a=[]){return c=>{c.providersResolver=(h,p)=>function(o,a,c){const h=nn();if(h.firstCreatePass){const p=Ws(o);Pv(c,h.data,h.blueprint,p,!0),Pv(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class iD{}const rD="ngComponent";class RP{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${ee(o)}. Did you add it to @NgModule.entryComponents?`);return a[rD]=o,a}(a)}}let cf=(()=>{class o{}return o.NULL=new RP,o})();function uf(...o){}function df(o,a){return new Ja(is(o,a))}const sD=function(){return df(yi(),Ye())};let Ja=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=sD,o})();function oD(o){return o instanceof Ja?o.nativeElement:o}class $l{}let Xa=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>FA(),o})();const FA=function(){const o=Ye(),c=li(yi().index,o);return function(o){return o[11]}(ws(c)?c:o)};let Hv=(()=>{class o{}return o.\u0275prov=In({token:o,providedIn:"root",factory:()=>null}),o})();class zv{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Uv=new zv("12.2.10");class ld{constructor(){}supports(a){return Wh(a)}create(a){return new BP(a)}}const Tg=(o,a)=>a;class BP{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Tg}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,p=0,m=null;for(;c||h;){const y=!h||c&&c.currentIndex<lD(h,p,m)?c:h,C=lD(y,p,m),M=y.currentIndex;if(y===h)p--,h=h._nextRemoved;else if(c=c._next,null==y.previousIndex)p++;else{m||(m=[]);const S=C-p,k=M-p;if(S!=k){for(let W=0;W<S;W++){const ne=W<m.length?m[W]:m[W]=0,ue=ne+W;k<=ue&&ue<S&&(m[W]=ne+1)}m[y.previousIndex]=k-S}}C!==M&&a(y,C,M)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Wh(a))throw new Error(`Error trying to diff '${ee(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,y,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)m=a[C],y=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,y)?(h&&(c=this._verifyReinsertion(c,m,y,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,C),h=!0),c=c._next}else p=0,function(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[$h()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,C=>{y=this._trackByFn(p,C),null!==c&&Object.is(c.trackById,y)?(h&&(c=this._verifyReinsertion(c,C,y,p)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,y,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,p)):a=this._addAfter(new VA(c,h),m,p),a}_verifyReinsertion(a,c,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const p=null===c?this._itHead:c._next;return a._next=p,a._prev=c,null===p?this._itTail=a:p._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new aD),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class VA{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jA{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class aD{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new jA,this.map.set(c,h)),h.add(a)}get(a,c){const p=this.map.get(a);return p?p.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lD(o,a,c){const h=o.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+a+p}class Wv{constructor(){}supports(a){return a instanceof Map||Gh(a)}create(){return new cD}}class cD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Gh(a)))throw new Error(`Error trying to diff '${ee(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,c);const m=p._prev,y=p._next;return m&&(m._next=y),y&&(y._prev=m),p._next=null,p._prev=null,p}const h=new uD(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class uD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dD(){return new gy([new ld])}let gy=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||dD()),deps:[[o,new Os,new xo]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=In({token:o,providedIn:"root",factory:dD}),o})();function Gv(){return new Mg([new Wv])}let Mg=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||Gv()),deps:[[o,new Os,new xo]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=In({token:o,providedIn:"root",factory:Gv}),o})();function hf(o,a,c,h,p=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&h.push(Bn(m)),ki(m))for(let C=10;C<m.length;C++){const M=m[C],S=M[1].firstChild;null!==S&&hf(M[1],M,S,h)}const y=c.type;if(8&y)hf(o,a,c.child,h);else if(32&y){const C=Hp(c,a);let M;for(;M=C();)h.push(M)}else if(16&y){const C=Zp(a,c);if(Array.isArray(C))h.push(...C);else{const M=ra(a[16]);hf(M[1],M,C,h,!0)}}c=p?c.projectionNext:c.next}return h}class Sg{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return hf(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(ki(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(Ll(a,h),Dl(c,h))}this._attachedToViewContainer=!1}Yp(this._lView[1],this._lView)}onDestroy(a){E0(this._lView[1],this._lView,null,a)}markForCheck(){S0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){x_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,c){mu(!0);try{x_(o,a,c)}finally{mu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Ac(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class HA extends Sg{constructor(a){super(a),this._view=a}detectChanges(){wC(this._view)}checkNoChanges(){!function(o){mu(!0);try{wC(o)}finally{mu(!1)}}(this._view)}get context(){return null}}const my=function(o){return function(o,a,c){if(fl(o)&&!c){const h=li(o.index,a);return new Sg(h,h)}return 47&o.type?new Sg(a[16],a):null}(yi(),Ye(),16==(16&o))};let fD=(()=>{class o{}return o.__NG_ELEMENT_ID__=my,o})();const Yv=[new Wv],pD=new gy([new ld]),qv=new Mg(Yv),YA=function(){return yy(yi(),Ye())};let _y=(()=>{class o{}return o.__NG_ELEMENT_ID__=YA,o})();const qA=_y,ZA=class extends qA{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a){const c=this._declarationTContainer.tViews,h=tg(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(c)),ng(c,h,a),new Sg(h)}};function yy(o,a){return 4&o.type?new ZA(a,o,df(o,a)):null}class cd{}class by{}const Zv=function(){return yD(yi(),Ye())};let wy=(()=>{class o{}return o.__NG_ELEMENT_ID__=Zv,o})();const mD=wy,gn=class extends mD{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return df(this._hostTNode,this._hostLView)}get injector(){return new vl(this._hostTNode,this._hostLView)}get parentInjector(){const a=bl(this._hostTNode,this._hostLView);if(Bm(a)){const c=yl(a,this._hostLView),h=cc(a);return new vl(c[1].data[h+8],c)}return new vl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=_D(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){const p=a.createEmbeddedView(c||{});return this.insert(p,h),p}createComponent(a,c,h,p,m){const y=h||this.parentInjector;if(!m&&null==a.ngModule&&y){const M=y.get(cd,null);M&&(m=M)}const C=a.create(y,p,void 0,m);return this.insert(C.hostView,c),C}insert(a,c){const h=a._lView,p=h[1];if(ki(h[3])){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const j=h[3],W=new gn(j,j[6],j[3]);W.detach(W.indexOf(a))}}const m=this._adjustIndex(c),y=this._lContainer;!function(o,a,c,h){const p=10+h,m=c.length;h>0&&(c[p-1][4]=a),h<m-10?(a[4]=c[p],_p(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(y,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=128}(p,h,y,m);const C=qu(m,y),M=h[11],S=Tc(M,y[7]);return null!==S&&function(o,a,c,h,p,m){h[0]=p,h[6]=a,Ac(o,h,c,1,p,m)}(p,y[6],M,h,S,C),a.attachToViewContainerRef(),_p(Og(y),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=_D(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=Ll(this._lContainer,c);h&&(Dl(Og(this._lContainer),c),Yp(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=Ll(this._lContainer,c);return h&&null!=Dl(Og(this._lContainer),c)?new Sg(h):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function _D(o){return o[8]}function Og(o){return o[8]||(o[8]=[])}function yD(o,a){let c;const h=a[o.index];if(ki(h))c=h;else{let p;if(8&o.type)p=Bn(h);else{const m=a[11];p=m.createComment("");const y=is(o,a);Bl(m,Tc(m,y),p,function(o,a){return qn(o)?o.nextSibling(a):a.nextSibling}(m,y),!1)}a[o.index]=c=vC(h,a,p,o),D_(a,c)}return new gn(c,o,a)}const Ps={};class Cf extends cf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Di(a);return new h1(c,this.ngModule)}}function Ry(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const kD=new Hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ec});class h1 extends iD{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=a.selectors.map(It).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Ry(this.componentDef.inputs)}get outputs(){return Ry(this.componentDef.outputs)}create(a,c,h,p){const m=(p=p||this.ngModule)?function(o,a){return{get:(c,h,p)=>{const m=o.get(c,Ps,p);return m!==Ps||h===Ps?m:a.get(c,h,p)}}}(a,p.injector):a,y=m.get($l,uu),C=m.get(Hv,null),M=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=h?function(o,a,c){if(qn(o))return o.selectRootElement(a,c===en.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(M,h,this.componentDef.encapsulation):Mh(y.createRenderer(null,this.componentDef),S,function(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(S)),j=this.componentDef.onPush?576:528,W=function(o,a){return{components:[],scheduler:o||Ec,clean:KM,playerHandler:a||null,flags:0}}(),ne=v_(0,null,null,1,0,null,null,null,null,null),ue=tg(null,ne,W,j,null,null,y,M,C,m);let Oe,we;vu(ue);try{const Je=function(o,a,c,h,p,m){const y=c[1];c[20]=o;const M=Rh(y,20,2,"#host",null),S=M.mergedAttrs=a.hostAttrs;null!==S&&(T_(M,S,!0),null!==o&&(Ud(p,o,S),null!==M.classes&&Ih(p,o,M.classes),null!==M.styles&&m_(p,o,M.styles)));const k=h.createRenderer(o,a),j=tg(c,dC(a),null,a.onPush?64:16,c[20],M,h,k,m||null,null);return y.firstCreatePass&&(Ot(Wd(M,c),y,a.type),E_(y,M),x0(M,c.length,1)),D_(c,j),c[20]=j}(k,this.componentDef,ue,y,M);if(k)if(h)Ud(M,k,["ng-version",Uv.full]);else{const{attrs:Ve,classes:Mt}=function(o){const a=[],c=[];let h=1,p=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++h]):8===p&&c.push(m);else{if(!V(p))break;p=m}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Ve&&Ud(M,k,Ve),Mt&&Mt.length>0&&Ih(M,k,Mt.join(" "))}if(we=Zf(ne,20),void 0!==c){const Ve=we.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const $t=c[Mt];Ve.push(null!=$t?Array.from($t):null)}}Oe=function(o,a,c,h,p){const m=c[1],y=function(o,a,c){const h=yi();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),bC(o,h,a,Fh(o,a,1,null),c));const p=uc(a,o,h.directiveStart,h);nr(p,a);const m=is(h,a);return m&&nr(m,a),p}(m,c,a);if(h.components.push(y),o[8]=y,p&&p.forEach(M=>M(y,a)),a.contentQueries){const M=yi();a.contentQueries(1,y,M.directiveStart)}const C=yi();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Eo(C.index),Xu(c[1],C,0,C.directiveStart,C.directiveEnd,a),gC(a,y)),y}(Je,this.componentDef,ue,W,[R_]),ng(ne,ue,null)}finally{Cu()}return new RD(this.componentType,Oe,df(we,ue),ue,we)}}class RD extends class{}{constructor(a,c,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new HA(p),this.componentType=a}get injector(){return new vl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const pd=new Map;class wO extends cd{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cf(this);const h=Zi(a),p=a[Ci]||null;p&&oy(p),this._bootstrapComponents=Ao(h.bootstrap),this._r3Injector=OC(a,c,[{provide:cd,useValue:this},{provide:cf,useValue:this.componentFactoryResolver}],ee(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Kn.THROW_IF_NOT_FOUND,h=yt.Default){return a===Kn||a===cd||a===Bh?this:this._r3Injector.get(a,c,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class g1 extends by{constructor(a){super(),this.moduleType=a,null!==Zi(a)&&function(o){const a=new Set;!function c(h){const p=Zi(h,!0),m=p.id;null!==m&&(function(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${ee(a)} vs ${ee(a.name)}`)}(m,pd.get(m),h),pd.set(m,h));const y=Ao(p.imports);for(const C of y)a.has(C)||(a.add(C),c(C))}(o)}(a)}create(a){return new wO(this.moduleType,a)}}function BD(o,a,c){const h=mr()+o,p=Ye();return p[h]===ot?ui(p,h,c?a.call(c):a()):function(o,a){return o[a]}(p,h)}function VD(o,a,c,h){return _1(Ye(),mr(),o,a,c,h)}function jD(o,a,c,h,p){return function(o,a,c,h,p,m,y){const C=a+c;return Hl(o,C,p,m)?ui(o,C+2,y?h.call(y,p,m):h(p,m)):Bg(o,C+2)}(Ye(),mr(),o,a,c,h,p)}function m1(o,a,c,h,p,m){return function(o,a,c,h,p,m,y,C){const M=a+c;return function(o,a,c,h,p){const m=Hl(o,a,c,h);return Ir(o,a+2,p)||m}(o,M,p,m,y)?ui(o,M+3,C?h.call(C,p,m,y):h(p,m,y)):Bg(o,M+3)}(Ye(),mr(),o,a,c,h,p,m)}function Bg(o,a){const c=o[a];return c===ot?void 0:c}function _1(o,a,c,h,p,m){const y=a+c;return Ir(o,y,p)?ui(o,y+1,m?h.call(m,p):h(p)):Bg(o,y+1)}function v1(o,a){const c=nn();let h;const p=o+20;c.firstCreatePass?(h=function(o,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(o===h.name)return h}throw new Qe("302",`The pipe '${o}' could not be found!`)}(a,c.pipeRegistry),c.data[p]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,h.onDestroy)):h=c.data[p];const m=h.factory||(h.factory=wo(h.type)),y=$n(mg);try{const C=lp(!1),M=m();return lp(C),function(o,a,c,h){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=h}(c,Ye(),p,M),M}finally{$n(y)}}function WD(o,a,c){const h=o+20,p=Ye(),m=Es(p,h);return function(o,a){Or.isWrapped(a)&&(a=Or.unwrap(a),o[xs()]=ot);return a}(p,function(o,a){return o[1].data[a].pure}(p,h)?_1(p,mr(),a,m.transform,c,m):m.transform(c))}function C1(o){return a=>{setTimeout(o,void 0,a)}}const el=class extends H.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){var p,m,y;let C=a,M=c||(()=>null),S=h;if(a&&"object"==typeof a){const j=a;C=null===(p=j.next)||void 0===p?void 0:p.bind(j),M=null===(m=j.error)||void 0===m?void 0:m.bind(j),S=null===(y=j.complete)||void 0===y?void 0:y.bind(j)}this.__isAsync&&(M=C1(M),C&&(C=C1(C)),S&&(S=C1(S)));const k=super.subscribe({next:C,error:M,complete:S});return a instanceof q.w0&&a.add(k),k}};function SO(){return this._results[$h()]()}class Ly{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=$h(),h=Ly.prototype;h[c]||(h[c]=SO)}get changes(){return this._changes||(this._changes=new el)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const p=Ur(a);(this._changesDetected=!function(o,a,c){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],m=a[h];if(c&&(p=c(p),m=c(m)),m!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class By{constructor(a){this.queryList=a,this.matches=null}clone(){return new By(this.queryList)}setDirty(){this.queryList.setDirty()}}class GD{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,p=[];for(let m=0;m<h;m++){const y=c.getByIndex(m);p.push(this.queries[y.indexInDeclarationView].clone())}return new GD(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==RO(a,c).matches&&this.queries[c].setDirty()}}class Zc{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class Vy{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==c?c.push(m):c=[m])}return null!==c?new Vy(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class YD{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new YD(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,c,GP(c,m)),this.matchTNodeWithReadOption(a,c,Gd(c,a,m,!1,!1))}else h===_y?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Gd(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Ja||p===wy||p===_y&&4&c.type)this.addMatch(c.index,-2);else{const m=Gd(c,a,p,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function GP(o,a){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function jy(o,a,c,h){return-1===c?function(o,a){return 11&o.type?df(o,a):4&o.type?yy(o,a):null}(a,o):-2===c?function(o,a,c){return c===Ja?df(a,o):c===_y?yy(a,o):c===wy?yD(a,o):void 0}(o,a,h):uc(o,o[1],c,a)}function OO(o,a,c,h){const p=a[19].queries[h];if(null===p.matches){const m=o.data,y=c.matches,C=[];for(let M=0;M<y.length;M+=2){const S=y[M];C.push(S<0?null:jy(a,m[S],y[M+1],c.metadata.read))}p.matches=C}return p.matches}function qD(o,a,c,h){const p=o.queries.getByIndex(c),m=p.matches;if(null!==m){const y=OO(o,a,p,c);for(let C=0;C<m.length;C+=2){const M=m[C];if(M>0)h.push(y[C/2]);else{const S=m[C+1],k=a[-M];for(let j=10;j<k.length;j++){const W=k[j];W[17]===W[3]&&qD(W[1],W,S,h)}if(null!==k[9]){const j=k[9];for(let W=0;W<j.length;W++){const ne=j[W];qD(ne[1],ne,S,h)}}}}}return h}function Hg(o){const a=Ye(),c=nn(),h=lc();Vd(h+1);const p=RO(c,h);if(o.dirty&&du(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?qD(c,a,h,[]):OO(c,a,p,h);o.reset(m,oD),o.notifyOnChanges()}return!0}return!1}function ZD(o,a,c){const h=nn();h.firstCreatePass&&(PO(h,new Zc(o,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),kO(h,Ye(),a)}function KD(o,a,c,h){const p=nn();if(p.firstCreatePass){const m=yi();PO(p,new Zc(a,c,h),m.index),function(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(p,o),2==(2&c)&&(p.staticContentQueries=!0)}kO(p,Ye(),c)}function IO(){return o=Ye(),a=lc(),o[19].queries[a].queryList;var o,a}function kO(o,a,c){const h=new Ly(4==(4&c));E0(o,a,h,h.destroy),null===a[19]&&(a[19]=new GD),a[19].queries.push(new By(h))}function PO(o,a,c){null===o.queries&&(o.queries=new Vy),o.queries.track(new YD(a,c))}function RO(o,a){return o.queries.getByIndex(a)}function FO(o,a){return yy(o,a)}const fx=new Hn("Application Initializer");let Af=(()=>{class o{constructor(c){this.appInits=c,this.resolve=uf,this.reject=uf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(yr(m))c.push(m);else if(j_(m)){const y=new Promise((C,M)=>{m.subscribe({complete:C,error:M})});c.push(y)}}Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(ci(fx,8))},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();const XO=new Hn("AppId"),Xn={provide:XO,useFactory:function(){return`${Wg()}${Wg()}${Wg()}`},deps:[]};function Wg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wy=new Hn("Platform Initializer"),px=new Hn("Platform ID"),Gy=new Hn("appBootstrapListener");let gx=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();const Yy=new Hn("LocaleId"),mx=new Hn("DefaultCurrencyCode");class bx{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}const Zy=function(o){return new g1(o)},A1=Zy,Kc=function(o){return Promise.resolve(Zy(o))},sn=function(o){const a=Zy(o),h=Ao(Zi(o).declarations).reduce((p,m)=>{const y=Di(m);return y&&p.push(new h1(y)),p},[]);return new bx(a,h)},zt=sn,vr=function(o){return Promise.resolve(sn(o))};let tl=(()=>{class o{constructor(){this.compileModuleSync=A1,this.compileModuleAsync=Kc,this.compileModuleAndAllComponentsSync=zt,this.compileModuleAndAllComponentsAsync=vr}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();const iI=(()=>Promise.resolve(0))();function Ky(o){"undefined"==typeof Zone?iI.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Bs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new el(!1),this.onMicrotaskEmpty=new el(!1),this.onStable=new el(!1),this.onError=new el(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let o=Vt.requestAnimationFrame,a=Vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Vt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Jy(o),o.isCheckStableRunning=!0,O1(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Jy(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,m,y,C)=>{try{return Cx(o),c.invokeTask(p,m,y,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Ex(o)}},onInvoke:(c,h,p,m,y,C,M)=>{try{return Cx(o),c.invoke(p,m,y,C,M)}finally{o.shouldCoalesceRunChangeDetection&&a(),Ex(o)}},onHasTask:(c,h,p,m)=>{c.hasTask(p,m),h===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Jy(o),O1(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,h,p,m)=>(c.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,p){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+p,a,Qn,uf,uf);try{return m.runTask(y,c,h)}finally{m.cancelTask(y)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const Qn={};function O1(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Jy(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Cx(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ex(o){o._nesting--,O1(o)}class Dx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new el,this.onMicrotaskEmpty=new el,this.onStable=new el,this.onError=new el}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,p){return a.apply(c,h)}}let Of=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bs.assertNotInAngularZone(),Ky(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ky(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,h,p){return[]}}return o.\u0275fac=function(c){return new(c||o)(ci(Bs))},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})(),Zr=(()=>{class o{constructor(){this._applications=new Map,Yg.addToWindow(this)}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return Yg.findTestabilityInTree(this,c,h)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();class xx{addToWindow(a){}findTestabilityInTree(a,c,h){return null}}function oI(o){Yg=o}let Yg=new xx,I1=!0,N1=!1;function Tx(){return N1=!0,I1}function Mx(){if(N1)throw new Error("Cannot enable prod mode after platform setup.");I1=!1}let nl;const aI=new Hn("AllowMultipleToken");class _R{constructor(a,c){this.name=a,this.token=c}}function Sx(o,a,c=[]){const h=`Platform: ${a}`,p=new Hn(h);return(m=[])=>{let y=Ax();if(!y||y.injector.get(aI,!1))if(o)o(c.concat(m).concat({provide:p,useValue:!0}));else{const C=c.concat(m).concat({provide:p,useValue:!0},{provide:ig,useValue:"platform"});!function(o){if(nl&&!nl.destroyed&&!nl.injector.get(aI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nl=o.get(Xy);const a=o.get(Wy,null);a&&a.forEach(c=>c())}(Kn.create({providers:C,name:h}))}return function(o){const a=Ax();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(p)}}function Ax(){return nl&&!nl.destroyed?nl:null}let Xy=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const C=function(o,a){let c;return c="noop"===o?new Dx:("zone.js"===o?void 0:o)||new Bs({enableLongStackTrace:Tx(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),M=[{provide:Bs,useValue:C}];return C.run(()=>{const S=Kn.create({providers:M,parent:this.injector,name:c.moduleType.name}),k=c.create(S),j=k.injector.get(kl,null);if(!j)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const W=C.onError.subscribe({next:ne=>{j.handleError(ne)}});k.onDestroy(()=>{R1(this._modules,k),W.unsubscribe()})}),function(o,a,c){try{const h=c();return yr(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(j,C,()=>{const W=k.injector.get(Af);return W.runInitializers(),W.donePromise.then(()=>(oy(k.injector.get(Yy,ry)||ry),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,h=[]){const p=P1({},h);return function(o,a,c){const h=new g1(c);return Promise.resolve(h)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(c){const h=c.injector.get(qg);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${ee(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(ci(Kn))},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();function P1(o,a){return Array.isArray(a)?a.reduce(P1,o):Object.assign(Object.assign({},o),a)}let qg=(()=>{class o{constructor(c,h,p,m,y){this._zone=c,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new u.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),M=new u.y(S=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Bs.assertNotInAngularZone(),Ky(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{k.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(C,M.pipe((0,$.B)()))}bootstrap(c,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=c instanceof iD?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(p.componentType);const m=function(o){return o.isBoundToModule}(p)?void 0:this._injector.get(cd),C=p.create(Kn.NULL,[],h||p.selector,m),M=C.location.nativeElement,S=C.injector.get(Of,null),k=S&&C.injector.get(Zr);return S&&k&&k.registerApplication(M,S),C.onDestroy(()=>{this.detachView(C.hostView),R1(this.components,C),k&&k.unregisterApplication(M)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;R1(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Gy,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(ci(Bs),ci(Kn),ci(kl),ci(cf),ci(Af))},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();function R1(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}class eb{}class Xc{}const hI={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let fI=(()=>{class o{constructor(c,h){this._compiler=c,this._config=h||hI}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[h,p]=c.split("#");return void 0===p&&(p="default"),O(8255)(h).then(m=>m[p]).then(m=>Ix(m,h,p)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(c){let[h,p]=c.split("#"),m="NgFactory";return void 0===p&&(p="default",m=""),O(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(y=>y[p+m]).then(y=>Ix(y,h,p))}}return o.\u0275fac=function(c){return new(c||o)(ci(tl),ci(Xc,8))},o.\u0275prov=In({token:o,factory:o.\u0275fac}),o})();function Ix(o,a,c){if(!o)throw new Error(`Cannot find '${c}' in '${a}'`);return o}const Fx=function(o){return null},Bx=Sx(null,"core",[{provide:px,useValue:"unknown"},{provide:Xy,deps:[Kn]},{provide:Zr,deps:[]},{provide:gx,deps:[]}]),H1=[{provide:qg,useClass:qg,deps:[Bs,Kn,kl,cf,Af]},{provide:kD,deps:[Bs],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:Af,useClass:Af,deps:[[new xo,fx]]},{provide:tl,useClass:tl,deps:[]},Xn,{provide:gy,useFactory:function(){return pD},deps:[]},{provide:Mg,useFactory:function(){return qv},deps:[]},{provide:Yy,useFactory:function(o){return oy(o=o||"undefined"!=typeof $localize&&$localize.locale||ry),o},deps:[[new Sl(Yy),new xo,new Os]]},{provide:mx,useValue:"USD"}];let rb=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(ci(qg))},o.\u0275mod=cl({type:o}),o.\u0275inj=si({providers:H1}),o})()},6198:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7793),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9631),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1803),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4250),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9625),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5541),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(333),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(1867),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9032),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8578),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9014),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(906),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7281),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(9757),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(702),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(8980),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(170),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(5514),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(8150),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6536),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1121),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1747);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(re){const Y={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},O="function"==typeof re?re():re,u=Object.assign({},Y,{features:O.features||!!O.logOnly&&{pause:!0,export:!0,test:!0}||Y.features},O);if(u.maxAge&&u.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${u.maxAge}`);return u}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(Y,O){if(this.action=Y,this.timestamp=O,this.type=PERFORM_ACTION,void 0===Y.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(Y){this.timestamp=Y,this.type=RESET}}class Rollback{constructor(Y){this.timestamp=Y,this.type=ROLLBACK}}class Commit{constructor(Y){this.timestamp=Y,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(Y){this.id=Y,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(Y,O,H=!0){this.start=Y,this.end=O,this.active=H,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(Y){this.index=Y,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(Y){this.actionId=Y,this.type=JUMP_TO_ACTION}}class ImportState{constructor(Y){this.nextLiftedState=Y,this.type=IMPORT_STATE}}class LockChanges{constructor(Y){this.status=Y,this.type=LOCK_CHANGES}}class PauseRecording{constructor(Y){this.status=Y,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class re extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return re.\u0275fac=function(){let Y;return function(H){return(Y||(Y=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(re)))(H||re)}}(),re.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:re,factory:re.\u0275fac}),re})();function difference(re,Y){return re.filter(O=>Y.indexOf(O)<0)}function unliftState(re){const{computedStates:Y,currentStateIndex:O}=re;if(O>=Y.length){const{state:q}=Y[Y.length-1];return q}const{state:H}=Y[O];return H}function unliftAction(re){return re.actionsById[re.nextActionId-1]}function liftAction(re){return new PerformAction(re,+Date.now())}function sanitizeActions(re,Y){return Object.keys(Y).reduce((O,H)=>{const q=Number(H);return O[q]=sanitizeAction(re,Y[q],q),O},{})}function sanitizeAction(re,Y,O){return Object.assign(Object.assign({},Y),{action:re(Y.action,O)})}function sanitizeStates(re,Y){return Y.map((O,H)=>({state:sanitizeState(re,O.state,H),error:O.error}))}function sanitizeState(re,Y,O){return re(Y,O)}function shouldFilterActions(re){return re.predicate||re.actionsSafelist||re.actionsBlocklist}function filterLiftedState(re,Y,O,H){const q=[],u={},G=[];return re.stagedActionIds.forEach(($,X)=>{const ae=re.actionsById[$];!ae||X&&isActionFiltered(re.computedStates[X],ae,Y,O,H)||(u[$]=ae,q.push($),G.push(re.computedStates[X]))}),Object.assign(Object.assign({},re),{stagedActionIds:q,actionsById:u,computedStates:G})}function isActionFiltered(re,Y,O,H,q){const u=O&&!O(re,Y.action),G=H&&!Y.action.type.match(H.map(X=>escapeRegExp(X)).join("|")),$=q&&Y.action.type.match(q.map(X=>escapeRegExp(X)).join("|"));return u||G||$}function escapeRegExp(re){return re.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(re,Y,O){this.config=Y,this.dispatcher=O,this.devtoolsExtension=re,this.createActionStreams()}notify(re,Y){if(this.devtoolsExtension)if(re.type===PERFORM_ACTION){if(Y.isLocked||Y.isPaused)return;const O=unliftState(Y);if(shouldFilterActions(this.config)&&isActionFiltered(O,re,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const H=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,O,Y.currentStateIndex):O,q=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,re,Y.nextActionId):re;this.sendToReduxDevtools(()=>this.extensionConnection.send(q,H))}else{const O=Object.assign(Object.assign({},Y),{stagedActionIds:Y.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,Y.actionsById):Y.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,Y.computedStates):Y.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,O,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(re=>{const Y=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=Y,Y.init(),Y.subscribe(O=>re.next(O)),Y.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const re=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),Y=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.START)),O=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.STOP)),H=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)($=>this.unwrapAction($.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)($=>$.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(X=>X.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>$),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)($)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)($))),u=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)($=>$.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)($=>this.unwrapAction($.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),G=H.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O));this.start$=Y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(O)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>u)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>G))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(re){var Y;const O={name:re.name,features:re.features,serialize:re.serialize,autoPause:null!==(Y=re.autoPause)&&void 0!==Y&&Y};return!1!==re.maxAge&&(O.maxAge=re.maxAge),O}sendToReduxDevtools(re){try{re()}catch(Y){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",Y)}}}return DevtoolsExtension.\u0275fac=function(Y){return new(Y||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(re,Y,O,H,q){if(H)return{state:O,error:"Interrupted by an error up the chain"};let G,u=O;try{u=re(O,Y)}catch($){G=$.toString(),q.handleError($)}return{state:u,error:G}}function recomputeStates(re,Y,O,H,q,u,G,$,X){if(Y>=re.length&&re.length===u.length)return re;const ae=re.slice(0,Y),ee=u.length-(X?1:0);for(let Z=Y;Z<ee;Z++){const he=u[Z],_e=q[he].action,fe=ae[Z-1],Ue=fe?fe.state:H,je=fe?fe.error:void 0,ve=G.indexOf(he)>-1?fe:computeNextEntry(O,_e,Ue,je,$);ae.push(ve)}return X&&ae.push(re[re.length-1]),ae}function liftInitialState(re,Y){return{monitorState:Y(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:re,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(re,Y,O,H,q={}){return u=>(G,$)=>{let{monitorState:X,actionsById:ae,nextActionId:ee,stagedActionIds:Z,skippedActionIds:he,committedState:_e,currentStateIndex:fe,computedStates:Ue,isLocked:je,isPaused:Qe}=G||Y;function ve(te){let oe=te,le=Z.slice(1,oe+1);for(let ce=0;ce<le.length;ce++){if(Ue[ce+1].error){oe=ce,le=Z.slice(1,oe+1);break}delete ae[le[ce]]}he=he.filter(ce=>-1===le.indexOf(ce)),Z=[0,...Z.slice(oe+1)],_e=Ue[oe].state,Ue=Ue.slice(oe),fe=fe>oe?fe-oe:0}function xe(){ae={0:liftAction(INIT_ACTION)},ee=1,Z=[0],he=[],_e=Ue[fe].state,fe=0,Ue=[]}G||(ae=Object.create(ae));let be=0;switch($.type){case LOCK_CHANGES:je=$.status,be=1/0;break;case PAUSE_RECORDING:Qe=$.status,Qe?(Z=[...Z,ee],ae[ee]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ee++,be=Z.length-1,Ue=Ue.concat(Ue[Ue.length-1]),fe===Z.length-2&&fe++,be=1/0):xe();break;case RESET:ae={0:liftAction(INIT_ACTION)},ee=1,Z=[0],he=[],_e=re,fe=0,Ue=[];break;case COMMIT:xe();break;case ROLLBACK:ae={0:liftAction(INIT_ACTION)},ee=1,Z=[0],he=[],fe=0,Ue=[];break;case TOGGLE_ACTION:{const{id:te}=$;he=-1===he.indexOf(te)?[te,...he]:he.filter(le=>le!==te),be=Z.indexOf(te);break}case SET_ACTIONS_ACTIVE:{const{start:te,end:oe,active:le}=$,ce=[];for(let Re=te;Re<oe;Re++)ce.push(Re);he=le?difference(he,ce):[...he,...ce],be=Z.indexOf(te);break}case JUMP_TO_STATE:fe=$.index,be=1/0;break;case JUMP_TO_ACTION:{const te=Z.indexOf($.actionId);-1!==te&&(fe=te),be=1/0;break}case SWEEP:Z=difference(Z,he),he=[],fe=Math.min(fe,Z.length-1);break;case PERFORM_ACTION:{if(je)return G||Y;if(Qe||G&&isActionFiltered(G.computedStates[fe],$,q.predicate,q.actionsSafelist,q.actionsBlocklist)){const oe=Ue[Ue.length-1];Ue=[...Ue.slice(0,-1),computeNextEntry(u,$.action,oe.state,oe.error,O)],be=1/0;break}q.maxAge&&Z.length===q.maxAge&&ve(1),fe===Z.length-1&&fe++;const te=ee++;ae[te]=$,Z=[...Z,te],be=Z.length-1;break}case IMPORT_STATE:({monitorState:X,actionsById:ae,nextActionId:ee,stagedActionIds:Z,skippedActionIds:he,committedState:_e,currentStateIndex:fe,computedStates:Ue,isLocked:je,isPaused:Qe}=$.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:be=0,q.maxAge&&Z.length>q.maxAge&&(Ue=recomputeStates(Ue,be,u,_e,ae,Z,he,O,Qe),ve(Z.length-q.maxAge),be=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Ue.filter(oe=>oe.error).length>0)be=0,q.maxAge&&Z.length>q.maxAge&&(Ue=recomputeStates(Ue,be,u,_e,ae,Z,he,O,Qe),ve(Z.length-q.maxAge),be=1/0);else{if(!Qe&&!je){fe===Z.length-1&&fe++;const oe=ee++;ae[oe]=new PerformAction($,+Date.now()),Z=[...Z,oe],be=Z.length-1,Ue=recomputeStates(Ue,be,u,_e,ae,Z,he,O,Qe)}Ue=Ue.map(oe=>Object.assign(Object.assign({},oe),{state:u(oe.state,RECOMPUTE_ACTION)})),fe=Z.length-1,q.maxAge&&Z.length>q.maxAge&&ve(Z.length-q.maxAge),be=1/0}break;default:be=1/0}return Ue=recomputeStates(Ue,be,u,_e,ae,Z,he,O,Qe),X=H(X,$),{monitorState:X,actionsById:ae,nextActionId:ee,stagedActionIds:Z,skippedActionIds:he,committedState:_e,currentStateIndex:fe,computedStates:Ue,isLocked:je,isPaused:Qe}}}let StoreDevtools=(()=>{class re{constructor(O,H,q,u,G,$,X,ae){const ee=liftInitialState(X,ae.monitor),Z=liftReducerWith(X,ee,$,ae.monitor,ae),he=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(H.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),u.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),O,u.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),_e=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Z)),fe=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Ue=he.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(_e),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:xe},[be,te])=>{let oe=te(xe,be);return be.type!==PERFORM_ACTION&&shouldFilterActions(ae)&&(oe=filterLiftedState(oe,ae.predicate,ae.actionsSafelist,ae.actionsBlocklist)),u.notify(be,oe),{state:oe,action:be}},{state:ee,action:null})).subscribe(({state:xe,action:be})=>{fe.next(xe),be.type===PERFORM_ACTION&&G.next(be.action)}),je=u.start$.subscribe(()=>{this.refresh()}),Qe=fe.asObservable(),ve=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=je,this.stateSubscription=Ue,this.dispatcher=O,this.liftedState=Qe,this.state=ve}dispatch(O){this.dispatcher.next(O)}next(O){this.dispatcher.next(O)}error(O){}complete(){}performAction(O){this.dispatch(new PerformAction(O,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(O){this.dispatch(new ToggleAction(O))}jumpToAction(O){this.dispatch(new JumpToAction(O))}jumpToState(O){this.dispatch(new JumpToState(O))}importState(O){this.dispatch(new ImportState(O))}lockChanges(O){this.dispatch(new LockChanges(O))}pauseRecording(O){this.dispatch(new PauseRecording(O))}}return re.\u0275fac=function(O){return new(O||re)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},re.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:re,factory:re.\u0275fac}),re})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(re,Y){return Boolean(re)||Y.monitor!==noMonitor}function createReduxDevtoolsExtension(){const re="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[re]?window[re]:null}function createStateObservable(re){return re.state}let StoreDevtoolsModule=(()=>{class re{static instrument(O={}){return{ngModule:re,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:O},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return re.\u0275fac=function(O){return new(O||re)},re.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:re}),re.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),re})()},9631:(re,Y,O)=>{"use strict";O.d(Y,{UO:()=>te,qg:()=>be,Y6:()=>Re,mK:()=>wa,n$:()=>ts,Y$:()=>oi,FR:()=>yt,yh:()=>hr,CK:()=>Yn,Aw:()=>Ho,cr:()=>Us,wb:()=>ur,qC:()=>si,PH:()=>je,ZF:()=>jo,Lq:()=>hl,P1:()=>Ei,on:()=>pr,Ky:()=>Qe,Ys:()=>fr});var H=O(7793),q=O(6490),u=O(4250),G=O(1505),$=O(333),X=O(9014),ee=O(6536),Z=O(1121),he=O(1747),_e=O(4195);const fe={};function je(ie,Be){if(fe[ie]=(fe[ie]||0)+1,"function"==typeof Be)return xe(ie,(...Ne)=>Object.assign(Object.assign({},Be(...Ne)),{type:ie}));switch(Be?Be._as:"empty"){case"empty":return xe(ie,()=>({type:ie}));case"props":return xe(ie,Ne=>Object.assign(Object.assign({},Ne),{type:ie}));default:throw new Error("Unexpected config.")}}function Qe(){return{_as:"props",_p:void 0}}function xe(ie,Be){return Object.defineProperty(Be,"type",{value:ie,writable:!1})}const be="@ngrx/store/init";let te=(()=>{class ie extends q.X{constructor(){super({type:be})}next(ge){if("function"==typeof ge)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===ge)throw new TypeError("Actions must be objects");if(void 0===ge.type)throw new TypeError("Actions must have a type property");super.next(ge)}complete(){}ngOnDestroy(){super.complete()}}return ie.\u0275fac=function(ge){return new(ge||ie)},ie.\u0275prov=H.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const oe=[te],le=new H.OlP("@ngrx/store Internal Root Guard"),ce=new H.OlP("@ngrx/store Internal Initial State"),Re=new H.OlP("@ngrx/store Initial State"),De=new H.OlP("@ngrx/store Reducer Factory"),ke=new H.OlP("@ngrx/store Internal Reducer Factory Provider"),Ee=new H.OlP("@ngrx/store Initial Reducers"),Q=new H.OlP("@ngrx/store Internal Initial Reducers"),de=new H.OlP("@ngrx/store Store Features"),Ie=new H.OlP("@ngrx/store Internal Store Reducers"),ze=new H.OlP("@ngrx/store Internal Feature Reducers"),He=new H.OlP("@ngrx/store Internal Feature Configs"),Ae=new H.OlP("@ngrx/store Internal Store Features"),it=new H.OlP("@ngrx/store Internal Feature Reducers Token"),Te=new H.OlP("@ngrx/store Feature Reducers"),Kt=new H.OlP("@ngrx/store User Provided Meta Reducers"),mt=new H.OlP("@ngrx/store Meta Reducers"),Et=new H.OlP("@ngrx/store Internal Resolved Meta Reducers"),st=new H.OlP("@ngrx/store User Runtime Checks Config"),At=new H.OlP("@ngrx/store Internal User Runtime Checks Config"),Mn=new H.OlP("@ngrx/store Internal Runtime Checks"),vo=new H.OlP("@ngrx/store Check if Action types are unique");function In(ie,Be={}){const ge=Object.keys(ie),Ne={};for(let lt=0;lt<ge.length;lt++){const an=ge[lt];"function"==typeof ie[an]&&(Ne[an]=ie[an])}const Ke=Object.keys(Ne);return function(an,Zt){an=void 0===an?Be:an;let Pn=!1;const _i={};for(let Yt=0;Yt<Ke.length;Yt++){const xr=Ke[Yt],ki=an[xr],rc=(0,Ne[xr])(ki,Zt);_i[xr]=rc,Pn=Pn||rc!==ki}return Pn?_i:an}}function si(...ie){return function(Be){if(0===ie.length)return Be;const ge=ie[ie.length-1];return ie.slice(0,-1).reduceRight((Ke,lt)=>lt(Ke),ge(Be))}}function ji(ie,Be){return Array.isArray(Be)&&Be.length>0&&(ie=si.apply(null,[...Be,ie])),(ge,Ne)=>{const Ke=ie(ge);return(lt,an)=>Ke(lt=void 0===lt?Ne:lt,an)}}class ts extends u.y{}class wa extends te{}const ur="@ngrx/store/update-reducers";let Hs=(()=>{class ie extends q.X{constructor(ge,Ne,Ke,lt){super(lt(Ke,Ne)),this.dispatcher=ge,this.initialState=Ne,this.reducers=Ke,this.reducerFactory=lt}get currentReducers(){return this.reducers}addFeature(ge){this.addFeatures([ge])}addFeatures(ge){const Ne=ge.reduce((Ke,{reducers:lt,reducerFactory:an,metaReducers:Zt,initialState:Pn,key:_i})=>{const Yt="function"==typeof lt?function(ie){const Be=Array.isArray(ie)&&ie.length>0?si(...ie):ge=>ge;return(ge,Ne)=>(ge=Be(ge),(Ke,lt)=>ge(Ke=void 0===Ke?Ne:Ke,lt))}(Zt)(lt,Pn):ji(an,Zt)(lt,Pn);return Ke[_i]=Yt,Ke},{});this.addReducers(Ne)}removeFeature(ge){this.removeFeatures([ge])}removeFeatures(ge){this.removeReducers(ge.map(Ne=>Ne.key))}addReducer(ge,Ne){this.addReducers({[ge]:Ne})}addReducers(ge){this.reducers=Object.assign(Object.assign({},this.reducers),ge),this.updateReducers(Object.keys(ge))}removeReducer(ge){this.removeReducers([ge])}removeReducers(ge){ge.forEach(Ne=>{this.reducers=function(ie,Be){return Object.keys(ie).filter(ge=>ge!==Be).reduce((ge,Ne)=>Object.assign(ge,{[Ne]:ie[Ne]}),{})}(this.reducers,Ne)}),this.updateReducers(ge)}updateReducers(ge){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ur,features:ge})}ngOnDestroy(){this.complete()}}return ie.\u0275fac=function(ge){return new(ge||ie)(H.LFG(wa),H.LFG(Re),H.LFG(Ee),H.LFG(De))},ie.\u0275prov=H.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Ca=[Hs,{provide:ts,useExisting:Hs},{provide:wa,useExisting:te}];let oi=(()=>{class ie extends G.x{ngOnDestroy(){this.complete()}}return ie.\u0275fac=function(){let Be;return function(Ne){return(Be||(Be=H.n5z(ie)))(Ne||ie)}}(),ie.\u0275prov=H.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const Ea=[oi];class yt extends u.y{}let dr=(()=>{class ie extends q.X{constructor(ge,Ne,Ke,lt){super(lt);const _i=ge.pipe((0,ee.Q)($.N)).pipe((0,Z.M)(Ne)).pipe((0,he.R)(ou,{state:lt}));this.stateSubscription=_i.subscribe(({state:Yt,action:xr})=>{this.next(Yt),Ke.next(xr)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return ie.\u0275fac=function(ge){return new(ge||ie)(H.LFG(te),H.LFG(ts),H.LFG(oi),H.LFG(Re))},ie.\u0275prov=H.Yz7({token:ie,factory:ie.\u0275fac}),ie.INIT=be,ie})();function ou(ie={state:void 0},[Be,ge]){const{state:Ne}=ie;return{state:ge(Ne,Be),action:Be}}const $n=[dr,{provide:yt,useExisting:dr}];let hr=(()=>{class ie extends u.y{constructor(ge,Ne,Ke){super(),this.actionsObserver=Ne,this.reducerManager=Ke,this.source=ge}select(ge,...Ne){return fr.call(null,ge,...Ne)(this)}lift(ge){const Ne=new ie(this,this.actionsObserver,this.reducerManager);return Ne.operator=ge,Ne}dispatch(ge){this.actionsObserver.next(ge)}next(ge){this.actionsObserver.next(ge)}error(ge){this.actionsObserver.error(ge)}complete(){this.actionsObserver.complete()}addReducer(ge,Ne){this.reducerManager.addReducer(ge,Ne)}removeReducer(ge){this.reducerManager.removeReducer(ge)}}return ie.\u0275fac=function(ge){return new(ge||ie)(H.LFG(yt),H.LFG(te),H.LFG(Hs))},ie.\u0275prov=H.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const jr=[hr];function fr(ie,Be,...ge){return function(Ke){let lt;if("string"==typeof ie){const an=[Be,...ge].filter(Boolean);lt=Ke.pipe(function(...ie){const Be=ie.length;if(0===Be)throw new Error("list of properties cannot be empty.");return(0,X.U)(ge=>{let Ne=ge;for(let Ke=0;Ke<Be;Ke++){const lt=null==Ne?void 0:Ne[ie[Ke]];if(void 0===lt)return;Ne=lt}return Ne})}(ie,...an))}else{if("function"!=typeof ie)throw new TypeError(`Unexpected type '${typeof ie}' in select operator, expected 'string' or 'function'`);lt=Ke.pipe((0,X.U)(an=>ie(an,Be)))}return lt.pipe((0,_e.x)())}}const _s="https://ngrx.io/guide/store/configuration/runtime-checks";function Bo(ie){return void 0===ie}function en(ie){return null===ie}function Wn(ie){return Array.isArray(ie)}function Vt(ie){return"object"==typeof ie&&null!==ie}function bt(ie){return"function"==typeof ie}function Ci(ie,Be){return ie===Be}function kn(ie,Be,ge){for(let Ne=0;Ne<ie.length;Ne++)if(!ge(ie[Ne],Be[Ne]))return!0;return!1}function Hr(ie,Be=Ci,ge=Ci){let lt,Ne=null,Ke=null;return{memoized:function(){if(void 0!==lt)return lt.result;if(!Ne)return Ke=ie.apply(null,arguments),Ne=arguments,Ke;if(!kn(arguments,Ne,Be))return Ke;const Yt=ie.apply(null,arguments);return Ne=arguments,ge(Ke,Yt)?Ke:(Ke=Yt,Yt)},reset:function(){Ne=null,Ke=null},setResult:function(Yt){lt={result:Yt}},clearResult:function(){lt=void 0}}}function Ei(...ie){return function(ie,Be={stateFn:ll}){return function(...ge){let Ne=ge;if(Array.isArray(Ne[0])){const[Yt,...xr]=Ne;Ne=[...Yt,...xr]}const Ke=Ne.slice(0,Ne.length-1),lt=Ne[Ne.length-1],an=Ke.filter(Yt=>Yt.release&&"function"==typeof Yt.release),Zt=ie(function(...Yt){return lt.apply(null,Yt)}),Pn=Hr(function(Yt,xr){return Be.stateFn.apply(null,[Yt,Ke,xr,Zt])});return Object.assign(Pn.memoized,{release:function(){Pn.reset(),Zt.reset(),an.forEach(Yt=>Yt.release())},projector:Zt.memoized,setResult:Pn.setResult,clearResult:Pn.clearResult})}}(Hr)(...ie)}function ll(ie,Be,ge,Ne){if(void 0===ge){const lt=Be.map(an=>an(ie));return Ne.memoized.apply(null,lt)}const Ke=Be.map(lt=>lt(ie,ge));return Ne.memoized.apply(null,[...Ke,ge])}function jo(ie){return Ei(Be=>{const ge=Be[ie];return(0,H.X6Q)()&&!(ie in Be)&&console.warn(`@ngrx/store: The feature name "${ie}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${ie}', ...) or StoreModule.forFeature('${ie}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ge},Be=>Be)}function ic(ie){Object.freeze(ie);const Be=bt(ie);return Object.getOwnPropertyNames(ie).forEach(ge=>{if(!ge.startsWith("\u0275")&&function(ie,Be){return Object.prototype.hasOwnProperty.call(ie,Be)}(ie,ge)&&(!Be||"caller"!==ge&&"callee"!==ge&&"arguments"!==ge)){const Ne=ie[ge];(Vt(Ne)||bt(Ne))&&!Object.isFrozen(Ne)&&ic(Ne)}}),ie}function Di(ie,Be=[]){return(Bo(ie)||en(ie))&&0===Be.length?{path:["root"],value:ie}:Object.keys(ie).reduce((Ne,Ke)=>{if(Ne)return Ne;const lt=ie[Ke];return function(ie){return bt(ie)&&ie.hasOwnProperty("\u0275cmp")}(lt)?Ne:!(Bo(lt)||en(lt)||function(ie){return"number"==typeof ie}(lt)||function(ie){return"boolean"==typeof ie}(lt)||function(ie){return"string"==typeof ie}(lt)||Wn(lt))&&(function(ie){if(!function(ie){return Vt(ie)&&!Wn(ie)}(ie))return!1;const Be=Object.getPrototypeOf(ie);return Be===Object.prototype||null===Be}(lt)?Di(lt,[...Be,Ke]):{path:[...Be,Ke],value:lt})},!1)}function bs(ie,Be){if(!1===ie)return;const ge=ie.path.join("."),Ne=new Error(`Detected unserializable ${Be} at "${ge}". ${_s}#strict${Be}serializability`);throw Ne.value=ie.value,Ne.unserializablePath=ge,Ne}function Zi(ie){return(0,H.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},ie):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ul({strictActionSerializability:ie,strictStateSerializability:Be}){return ge=>ie||Be?function(ie,Be){return function(ge,Ne){Be.action(Ne)&&bs(Di(Ne),"action");const Ke=ie(ge,Ne);return Be.state()&&bs(Di(Ke),"state"),Ke}}(ge,{action:Ne=>ie&&!pt(Ne),state:()=>Be}):ge}function zr({strictActionImmutability:ie,strictStateImmutability:Be}){return ge=>ie||Be?function(ie,Be){return function(ge,Ne){const Ke=Be.action(Ne)?ic(Ne):Ne,lt=ie(ge,Ke);return Be.state()?ic(lt):lt}}(ge,{action:Ne=>ie&&!pt(Ne),state:()=>Be}):ge}function pt(ie){return ie.type.startsWith("@ngrx")}function Jt({strictActionWithinNgZone:ie}){return Be=>ie?function(ie,Be){return function(ge,Ne){if(Be.action(Ne)&&!H.R0b.isInAngularZone())throw new Error(`Action '${Ne.type}' running outside NgZone. ${_s}#strictactionwithinngzone`);return ie(ge,Ne)}}(Be,{action:ge=>ie&&!pt(ge)}):Be}function qt(ie){return[{provide:At,useValue:ie},{provide:st,useFactory:zs,deps:[At]},{provide:Mn,deps:[st],useFactory:Zi},{provide:mt,multi:!0,deps:[Mn],useFactory:zr},{provide:mt,multi:!0,deps:[Mn],useFactory:ul},{provide:mt,multi:!0,deps:[Mn],useFactory:Jt}]}function Ki(){return[{provide:vo,multi:!0,deps:[Mn],useFactory:Gn}]}function zs(ie){return ie}function Gn(ie){if(!ie.strictActionTypeUniqueness)return;const Be=Object.entries(fe).filter(([,ge])=>ge>1).map(([ge])=>ge);if(Be.length)throw new Error(`Action types are registered more than once, ${Be.map(ge=>`"${ge}"`).join(", ")}. ${_s}#strictactiontypeuniqueness`)}let Us=(()=>{class ie{constructor(ge,Ne,Ke,lt,an,Zt){}}return ie.\u0275fac=function(ge){return new(ge||ie)(H.LFG(te),H.LFG(ts),H.LFG(oi),H.LFG(hr),H.LFG(le,8),H.LFG(vo,8))},ie.\u0275mod=H.oAB({type:ie}),ie.\u0275inj=H.cJS({}),ie})(),Yn=(()=>{class ie{constructor(ge,Ne,Ke,lt,an){this.features=ge,this.featureReducers=Ne,this.reducerManager=Ke;const Zt=ge.map((Pn,_i)=>{const xr=Ne.shift()[_i];return Object.assign(Object.assign({},Pn),{reducers:xr,initialState:vs(Pn.initialState)})});Ke.addFeatures(Zt)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return ie.\u0275fac=function(ge){return new(ge||ie)(H.LFG(Ae),H.LFG(Te),H.LFG(Hs),H.LFG(Us),H.LFG(vo,8))},ie.\u0275mod=H.oAB({type:ie}),ie.\u0275inj=H.cJS({}),ie})(),Ho=(()=>{class ie{static forRoot(ge,Ne={}){return{ngModule:Us,providers:[{provide:le,useFactory:$s,deps:[[hr,new H.FiY,new H.tp0]]},{provide:ce,useValue:Ne.initialState},{provide:Re,useFactory:vs,deps:[ce]},{provide:Q,useValue:ge},{provide:Ie,useExisting:ge instanceof H.OlP?ge:Q},{provide:Ee,deps:[H.zs3,Q,[new H.tBr(Ie)]],useFactory:Da},{provide:Kt,useValue:Ne.metaReducers?Ne.metaReducers:[]},{provide:Et,deps:[mt,Kt],useFactory:zo},{provide:ke,useValue:Ne.reducerFactory?Ne.reducerFactory:In},{provide:De,deps:[ke,Et],useFactory:ji},oe,Ca,Ea,$n,jr,qt(Ne.runtimeChecks),Ki()]}}static forFeature(ge,Ne,Ke={}){return{ngModule:Yn,providers:[{provide:He,multi:!0,useValue:ge instanceof Object?{}:Ke},{provide:de,multi:!0,useValue:{key:ge instanceof Object?ge.name:ge,reducerFactory:Ke instanceof H.OlP||!Ke.reducerFactory?In:Ke.reducerFactory,metaReducers:Ke instanceof H.OlP||!Ke.metaReducers?[]:Ke.metaReducers,initialState:Ke instanceof H.OlP||!Ke.initialState?void 0:Ke.initialState}},{provide:Ae,deps:[H.zs3,He,de],useFactory:Xt},{provide:ze,multi:!0,useValue:ge instanceof Object?ge.reducer:Ne},{provide:it,multi:!0,useExisting:Ne instanceof H.OlP?Ne:ze},{provide:Te,multi:!0,deps:[H.zs3,ze,[new H.tBr(it)]],useFactory:dl},Ki()]}}}return ie.\u0275fac=function(ge){return new(ge||ie)},ie.\u0275mod=H.oAB({type:ie}),ie.\u0275inj=H.cJS({}),ie})();function Da(ie,Be){return Be instanceof H.OlP?ie.get(Be):Be}function Xt(ie,Be,ge){return ge.map((Ne,Ke)=>{if(Be[Ke]instanceof H.OlP){const lt=ie.get(Be[Ke]);return{key:Ne.key,reducerFactory:lt.reducerFactory?lt.reducerFactory:In,metaReducers:lt.metaReducers?lt.metaReducers:[],initialState:lt.initialState}}return Ne})}function dl(ie,Be){return Be.map(Ne=>Ne instanceof H.OlP?ie.get(Ne):Ne)}function vs(ie){return"function"==typeof ie?ie():ie}function zo(ie,Be){return ie.concat(Be)}function $s(ie){if(ie)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function pr(...ie){return{reducer:ie.pop(),types:ie.map(Ne=>Ne.type)}}function hl(ie,...Be){const ge=new Map;for(const Ne of Be)for(const Ke of Ne.types){const lt=ge.get(Ke);ge.set(Ke,lt?(Zt,Pn)=>Ne.reducer(lt(Zt,Pn),Pn):Ne.reducer)}return function(Ne=ie,Ke){const lt=ge.get(Ke.type);return lt?lt(Ne,Ke):Ne}}},7202:(re,Y)=>{function O(q){if(q)return function(q){for(var u in O.prototype)q[u]=O.prototype[u];return q}(q)}Y.Q=O,O.prototype.on=O.prototype.addEventListener=function(q,u){return this._callbacks=this._callbacks||{},(this._callbacks["$"+q]=this._callbacks["$"+q]||[]).push(u),this},O.prototype.once=function(q,u){function G(){this.off(q,G),u.apply(this,arguments)}return G.fn=u,this.on(q,G),this},O.prototype.off=O.prototype.removeListener=O.prototype.removeAllListeners=O.prototype.removeEventListener=function(q,u){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var G=this._callbacks["$"+q];if(!G)return this;if(1==arguments.length)return delete this._callbacks["$"+q],this;for(var $,X=0;X<G.length;X++)if(($=G[X])===u||$.fn===u){G.splice(X,1);break}return 0===G.length&&delete this._callbacks["$"+q],this},O.prototype.emitReserved=O.prototype.emit=function(q){this._callbacks=this._callbacks||{};for(var u=new Array(arguments.length-1),G=this._callbacks["$"+q],$=1;$<arguments.length;$++)u[$-1]=arguments[$];if(G){$=0;for(var X=(G=G.slice(0)).length;$<X;++$)G[$].apply(this,u)}return this},O.prototype.listeners=function(q){return this._callbacks=this._callbacks||{},this._callbacks["$"+q]||[]},O.prototype.hasListeners=function(q){return!!this.listeners(q).length}},4500:re=>{re.exports=function(O,H){return Array.prototype.slice.call(O,H)}},7949:re=>{function Y(O){this.ms=(O=O||{}).min||100,this.max=O.max||1e4,this.factor=O.factor||2,this.jitter=O.jitter>0&&O.jitter<=1?O.jitter:0,this.attempts=0}re.exports=Y,Y.prototype.duration=function(){var O=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var H=Math.random(),q=Math.floor(H*this.jitter*O);O=0==(1&Math.floor(10*H))?O-q:O+q}return 0|Math.min(O,this.max)},Y.prototype.reset=function(){this.attempts=0},Y.prototype.setMin=function(O){this.ms=O},Y.prototype.setMax=function(O){this.max=O},Y.prototype.setJitter=function(O){this.jitter=O}},4190:re=>{function Y(H){if(H)return function(H){for(var q in Y.prototype)H[q]=Y.prototype[q];return H}(H)}re.exports=Y,Y.prototype.on=Y.prototype.addEventListener=function(H,q){return this._callbacks=this._callbacks||{},(this._callbacks["$"+H]=this._callbacks["$"+H]||[]).push(q),this},Y.prototype.once=function(H,q){function u(){this.off(H,u),q.apply(this,arguments)}return u.fn=q,this.on(H,u),this},Y.prototype.off=Y.prototype.removeListener=Y.prototype.removeAllListeners=Y.prototype.removeEventListener=function(H,q){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var u=this._callbacks["$"+H];if(!u)return this;if(1==arguments.length)return delete this._callbacks["$"+H],this;for(var G,$=0;$<u.length;$++)if((G=u[$])===q||G.fn===q){u.splice($,1);break}return 0===u.length&&delete this._callbacks["$"+H],this},Y.prototype.emit=function(H){this._callbacks=this._callbacks||{};for(var q=new Array(arguments.length-1),u=this._callbacks["$"+H],G=1;G<arguments.length;G++)q[G-1]=arguments[G];if(u){G=0;for(var $=(u=u.slice(0)).length;G<$;++G)u[G].apply(this,q)}return this},Y.prototype.listeners=function(H){return this._callbacks=this._callbacks||{},this._callbacks["$"+H]||[]},Y.prototype.hasListeners=function(H){return!!this.listeners(H).length}},8275:(re,Y,O)=>{"use strict";var H=O(5456);re.exports=function(u,G,$){!u||H(function(){u.apply($||null,G||[])})}},927:(re,Y,O)=>{"use strict";var H=O(4500),q=O(8275);re.exports=function(G,$){var X=$||{},ae={};return void 0===G&&(G={}),G.on=function(ee,Z){return ae[ee]?ae[ee].push(Z):ae[ee]=[Z],G},G.once=function(ee,Z){return Z._once=!0,G.on(ee,Z),G},G.off=function(ee,Z){var he=arguments.length;if(1===he)delete ae[ee];else if(0===he)ae={};else{var _e=ae[ee];if(!_e)return G;_e.splice(_e.indexOf(Z),1)}return G},G.emit=function(){var ee=H(arguments);return G.emitterSnapshot(ee.shift()).apply(this,ee)},G.emitterSnapshot=function(ee){var Z=(ae[ee]||[]).slice(0);return function(){var he=H(arguments),_e=this||G;if("error"===ee&&!1!==X.throws&&!Z.length)throw 1===he.length?he[0]:he;return Z.forEach(function(Ue){X.async?q(Ue,he,_e):Ue.apply(_e,he),Ue._once&&G.off(ee,Ue)}),G}},G}},5885:(re,Y,O)=>{"use strict";var H=O(1423),q=O(1708),u=global.document,G=function(ve,xe,be,te){return ve.addEventListener(xe,be,te)},$=function(ve,xe,be,te){return ve.removeEventListener(xe,be,te)},X=[];function je(ve,xe,be){var te=function(ve,xe,be){var te,oe;for(te=0;te<X.length;te++)if((oe=X[te]).element===ve&&oe.type===xe&&oe.fn===be)return te}(ve,xe,be);if(te){var oe=X[te].wrapper;return X.splice(te,1),oe}}global.addEventListener||(G=function(ve,xe,be){return ve.attachEvent("on"+xe,function(ve,xe,be){var te=je(ve,xe,be)||function(ve,xe,be){return function(oe){var le=oe||global.event;le.target=le.target||le.srcElement,le.preventDefault=le.preventDefault||function(){le.returnValue=!1},le.stopPropagation=le.stopPropagation||function(){le.cancelBubble=!0},le.which=le.which||le.keyCode,be.call(ve,le)}}(ve,0,be);return X.push({wrapper:te,element:ve,type:xe,fn:be}),te}(ve,xe,be))},$=function(ve,xe,be){var te=je(ve,xe,be);if(te)return ve.detachEvent("on"+xe,te)}),re.exports={add:G,remove:$,fabricate:function(ve,xe,be){var ce,te=-1===q.indexOf(xe)?new H(xe,{detail:be}):(u.createEvent?(ce=u.createEvent("Event")).initEvent(xe,!0,!0):u.createEventObject&&(ce=u.createEventObject()),ce);ve.dispatchEvent?ve.dispatchEvent(te):ve.fireEvent("on"+xe,te)}}},1708:re=>{"use strict";var Y=[],O="",H=/^on/;for(O in global)H.test(O)&&Y.push(O.slice(2));re.exports=Y},1423:re=>{var Y=global.CustomEvent;re.exports=function(){try{var H=new Y("cat",{detail:{foo:"bar"}});return"cat"===H.type&&"bar"===H.detail.foo}catch(q){}return!1}()?Y:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(q,u){var G=document.createEvent("CustomEvent");return u?G.initCustomEvent(q,u.bubbles,u.cancelable,u.detail):G.initCustomEvent(q,!1,!1,void 0),G}:function(q,u){var G=document.createEventObject();return G.type=q,u?(G.bubbles=Boolean(u.bubbles),G.cancelable=Boolean(u.cancelable),G.detail=u.detail):(G.bubbles=!1,G.cancelable=!1,G.detail=void 0),G}},4972:re=>{"use strict";var Y=function(xe){return!(!(ve=xe)||"object"!=typeof ve||function(ve){var xe=Object.prototype.toString.call(ve);return"[object RegExp]"===xe||"[object Date]"===xe||function(ve){return ve.$$typeof===u}(ve)}(xe));var ve},u="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function X(ve,xe){return!1!==xe.clone&&xe.isMergeableObject(ve)?je(function(ve){return Array.isArray(ve)?[]:{}}(ve),ve,xe):ve}function ae(ve,xe,be){return ve.concat(xe).map(function(te){return X(te,be)})}function he(ve){return Object.keys(ve).concat(function(ve){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(ve).filter(function(xe){return ve.propertyIsEnumerable(xe)}):[]}(ve))}function _e(ve,xe){try{return xe in ve}catch(be){return!1}}function je(ve,xe,be){(be=be||{}).arrayMerge=be.arrayMerge||ae,be.isMergeableObject=be.isMergeableObject||Y,be.cloneUnlessOtherwiseSpecified=X;var te=Array.isArray(xe);return te===Array.isArray(ve)?te?be.arrayMerge(ve,xe,be):function(ve,xe,be){var te={};return be.isMergeableObject(ve)&&he(ve).forEach(function(oe){te[oe]=X(ve[oe],be)}),he(xe).forEach(function(oe){(function(ve,xe){return _e(ve,xe)&&!(Object.hasOwnProperty.call(ve,xe)&&Object.propertyIsEnumerable.call(ve,xe))})(ve,oe)||(te[oe]=_e(ve,oe)&&be.isMergeableObject(xe[oe])?function(ve,xe){if(!xe.customMerge)return je;var be=xe.customMerge(ve);return"function"==typeof be?be:je}(oe,be)(ve[oe],xe[oe],be):X(xe[oe],be))}),te}(ve,xe,be):X(xe,be)}je.all=function(xe,be){if(!Array.isArray(xe))throw new Error("first argument should be an array");return xe.reduce(function(te,oe){return je(te,oe,be)},{})},re.exports=je},296:re=>{"use strict";var Y={};function q($){var X=Y[$];return X?X.lastIndex=0:Y[$]=X=new RegExp("(?:^|\\s)"+$+"(?:\\s|$)","g"),X}re.exports={add:function($,X){var ae=$.className;ae.length?q(X).test(ae)||($.className+=" "+X):$.className=X},rm:function($,X){$.className=$.className.replace(q(X)," ").trim()}}},4157:(re,Y,O)=>{"use strict";var H=O(927),q=O(5885),u=O(296),G=document,$=G.documentElement;function ae(ce,Re,De,ke){global.navigator.pointerEnabled?q[Re](ce,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[De],ke):global.navigator.msPointerEnabled?q[Re](ce,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[De],ke):(q[Re](ce,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[De],ke),q[Re](ce,De,ke))}function ee(ce){if(void 0!==ce.touches)return ce.touches.length;if(void 0!==ce.which&&0!==ce.which)return ce.which;if(void 0!==ce.buttons)return ce.buttons;var Re=ce.button;return void 0!==Re?1&Re?1:2&Re?3:4&Re?2:0:void 0}function Z(ce){var Re=ce.getBoundingClientRect();return{left:Re.left+he("scrollLeft","pageXOffset"),top:Re.top+he("scrollTop","pageYOffset")}}function he(ce,Re){return void 0!==global[Re]?global[Re]:$.clientHeight?$[ce]:G.body[ce]}function _e(ce,Re,De){var Ee,ke=(ce=ce||{}).className||"";return ce.className+=" gu-hide",Ee=G.elementFromPoint(Re,De),ce.className=ke,Ee}function fe(){return!1}function Ue(){return!0}function je(ce){return ce.width||ce.right-ce.left}function Qe(ce){return ce.height||ce.bottom-ce.top}function ve(ce){return ce.parentNode===G?null:ce.parentNode}function xe(ce){return"INPUT"===ce.tagName||"TEXTAREA"===ce.tagName||"SELECT"===ce.tagName||be(ce)}function be(ce){return!(!ce||"false"===ce.contentEditable)&&("true"===ce.contentEditable||be(ve(ce)))}function te(ce){return ce.nextElementSibling||function(){var De=ce;do{De=De.nextSibling}while(De&&1!==De.nodeType);return De}()}function le(ce,Re){var De=function(ce){return ce.targetTouches&&ce.targetTouches.length?ce.targetTouches[0]:ce.changedTouches&&ce.changedTouches.length?ce.changedTouches[0]:ce}(Re),ke={pageX:"clientX",pageY:"clientY"};return ce in ke&&!(ce in De)&&ke[ce]in De&&(ce=ke[ce]),De[ce]}re.exports=function(ce,Re){var De=arguments.length;1===De&&!1===Array.isArray(ce)&&(Re=ce,ce=[]);var ke,Ee,Q,de,Ie,ze,He,Ae,it,Te,Kt,Et,mt=null,st=Re||{};void 0===st.moves&&(st.moves=Ue),void 0===st.accepts&&(st.accepts=Ue),void 0===st.invalid&&(st.invalid=oi),void 0===st.containers&&(st.containers=ce||[]),void 0===st.isContainer&&(st.isContainer=fe),void 0===st.copy&&(st.copy=!1),void 0===st.copySortSource&&(st.copySortSource=!1),void 0===st.revertOnSpill&&(st.revertOnSpill=!1),void 0===st.removeOnSpill&&(st.removeOnSpill=!1),void 0===st.direction&&(st.direction="vertical"),void 0===st.ignoreInputTextSelection&&(st.ignoreInputTextSelection=!0),void 0===st.mirrorContainer&&(st.mirrorContainer=G.body);var At=H({containers:st.containers,start:Hs,end:Ea,cancel:hr,remove:$n,destroy:si,canMove:ur,dragging:!1});return!0===st.removeOnSpill&&At.on("over",Bo).on("out",en),vo(),At;function Mn(We){return-1!==At.containers.indexOf(We)||st.isContainer(We)}function vo(We){var xt=We?"remove":"add";ae($,xt,"mousedown",qi),ae($,xt,"mouseup",dr)}function In(We){ae($,We?"remove":"add","mousemove",ts)}function Lt(We){var xt=We?"remove":"add";q[xt]($,"selectstart",ji),q[xt]($,"click",ji)}function si(){vo(!0),dr({})}function ji(We){Et&&We.preventDefault()}function qi(We){if(ze=We.clientX,He=We.clientY,1===ee(We)&&!We.metaKey&&!We.ctrlKey){var bt=We.target,wt=wa(bt);!wt||(Et=wt,In(),"mousedown"===We.type&&(xe(bt)?bt.focus():We.preventDefault()))}}function ts(We){if(Et){if(0===ee(We))return void dr({});if(!(void 0!==We.clientX&&Math.abs(We.clientX-ze)<=(st.slideFactorX||0)&&void 0!==We.clientY&&Math.abs(We.clientY-He)<=(st.slideFactorY||0))){if(st.ignoreInputTextSelection){var xt=le("clientX",We)||0,bt=le("clientY",We)||0;if(xe(G.elementFromPoint(xt,bt)))return}var Gt=Et;In(!0),Lt(),Ea(),Ca(Gt);var wn=Z(Q);de=le("pageX",We)-wn.left,Ie=le("pageY",We)-wn.top,u.add(Te||Q,"gu-transit"),Wn(),_s(We)}}}function wa(We){if(!(At.dragging&&ke||Mn(We))){for(var xt=We;ve(We)&&!1===Mn(ve(We));)if(st.invalid(We,xt)||!(We=ve(We)))return;var bt=ve(We);if(bt&&!st.invalid(We,xt)&&st.moves(We,bt,xt,te(We)))return{item:We,source:bt}}}function ur(We){return!!wa(We)}function Hs(We){var xt=wa(We);xt&&Ca(xt)}function Ca(We){Vt(We.item,We.source)&&(Te=We.item.cloneNode(!0),At.emit("cloned",Te,We.item,"copy")),Ee=We.source,Q=We.item,Ae=it=te(We.item),At.dragging=!0,At.emit("drag",Q,Ee)}function oi(){return!1}function Ea(){if(At.dragging){var We=Te||Q;ou(We,ve(We))}}function yt(){Et=!1,In(!0),Lt(!0)}function dr(We){if(yt(),At.dragging){var xt=Te||Q,bt=le("clientX",We)||0,wt=le("clientY",We)||0,wn=mi(_e(ke,bt,wt),bt,wt);wn&&(Te&&st.copySortSource||!Te||wn!==Ee)?ou(xt,wn):st.removeOnSpill?$n():hr()}}function ou(We,xt){var bt=ve(We);Te&&st.copySortSource&&xt===Ee&&bt.removeChild(Q),fr(xt)?At.emit("cancel",We,Ee,Ee):At.emit("drop",We,xt,Ee,it),jr()}function $n(){if(At.dragging){var We=Te||Q,xt=ve(We);xt&&xt.removeChild(We),At.emit(Te?"cancel":"remove",We,xt,Ee),jr()}}function hr(We){if(At.dragging){var xt=arguments.length>0?We:st.revertOnSpill,bt=Te||Q,wt=ve(bt),Gt=fr(wt);!1===Gt&&xt&&(Te?wt&&wt.removeChild(Te):Ee.insertBefore(bt,Ae)),Gt||xt?At.emit("cancel",bt,Ee,Ee):At.emit("drop",bt,wt,Ee,it),jr()}}function jr(){var We=Te||Q;yt(),Nt(),We&&u.rm(We,"gu-transit"),Kt&&clearTimeout(Kt),At.dragging=!1,mt&&At.emit("out",We,mt,Ee),At.emit("dragend",We),Ee=Q=Te=Ae=it=Kt=mt=null}function fr(We,xt){var bt;return bt=void 0!==xt?xt:ke?it:te(Te||Q),We===Ee&&bt===Ae}function mi(We,xt,bt){for(var wt=We;wt&&!Gt();)wt=ve(wt);return wt;function Gt(){if(!1===Mn(wt))return!1;var on=Rt(wt,We),Nn=Vo(wt,on,xt,bt);return!!fr(wt,Nn)||st.accepts(Q,wt,Ee,Nn)}}function _s(We){if(ke){We.preventDefault();var xt=le("clientX",We)||0,bt=le("clientY",We)||0,Gt=bt-Ie;ke.style.left=xt-de+"px",ke.style.top=Gt+"px";var wn=Te||Q,on=_e(ke,xt,bt),Nn=mi(on,xt,bt),Ci=null!==Nn&&Nn!==mt;(Ci||null===Nn)&&(mt&&Ei("out"),mt=Nn,Ci&&Ei("over"));var kn=ve(wn);if(Nn!==Ee||!Te||st.copySortSource){var ei,Hr=Rt(Nn,on);if(null!==Hr)ei=Vo(Nn,Hr,xt,bt);else{if(!0!==st.revertOnSpill||Te)return void(Te&&kn&&kn.removeChild(wn));ei=Ae,Nn=Ee}(null===ei&&Ci||ei!==wn&&ei!==te(wn))&&(it=ei,Nn.insertBefore(wn,ei),At.emit("shadow",wn,Nn,Ee))}else kn&&kn.removeChild(wn)}function Ei(jo){At.emit(jo,wn,mt,Ee)}}function Bo(We){u.rm(We,"gu-hide")}function en(We){At.dragging&&u.add(We,"gu-hide")}function Wn(){if(!ke){var We=Q.getBoundingClientRect();(ke=Q.cloneNode(!0)).style.width=je(We)+"px",ke.style.height=Qe(We)+"px",u.rm(ke,"gu-transit"),u.add(ke,"gu-mirror"),st.mirrorContainer.appendChild(ke),ae($,"add","mousemove",_s),u.add(st.mirrorContainer,"gu-unselectable"),At.emit("cloned",ke,Q,"mirror")}}function Nt(){ke&&(u.rm(st.mirrorContainer,"gu-unselectable"),ae($,"remove","mousemove",_s),ve(ke).removeChild(ke),ke=null)}function Rt(We,xt){for(var bt=xt;bt!==We&&ve(bt)!==We;)bt=ve(bt);return bt===$?null:bt}function Vo(We,xt,bt,wt){var kn,Gt="horizontal"===st.direction;return xt!==We?(kn=xt.getBoundingClientRect(),function(kn){return kn?te(xt):xt}(Gt?bt>kn.left+je(kn)/2:wt>kn.top+Qe(kn)/2)):function(){var ei,Hr,Ei,kn=We.children.length;for(ei=0;ei<kn;ei++)if(Ei=(Hr=We.children[ei]).getBoundingClientRect(),Gt&&Ei.left+Ei.width/2>bt||!Gt&&Ei.top+Ei.height/2>wt)return Hr;return null}()}function Vt(We,xt){return"boolean"==typeof st.copy?st.copy:st.copy(We,xt)}}},6484:re=>{try{re.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Y){re.exports=!1}},8898:(re,Y)=>{Y.encode=function(O){var H="";for(var q in O)O.hasOwnProperty(q)&&(H.length&&(H+="&"),H+=encodeURIComponent(q)+"="+encodeURIComponent(O[q]));return H},Y.decode=function(O){for(var H={},q=O.split("&"),u=0,G=q.length;u<G;u++){var $=q[u].split("=");H[decodeURIComponent($[0])]=decodeURIComponent($[1])}return H}},1528:re=>{var Y=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,O=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];re.exports=function(G){var $=G,X=G.indexOf("["),ae=G.indexOf("]");-1!=X&&-1!=ae&&(G=G.substring(0,X)+G.substring(X,ae).replace(/:/g,";")+G.substring(ae,G.length));for(var ee=Y.exec(G||""),Z={},he=14;he--;)Z[O[he]]=ee[he]||"";return-1!=X&&-1!=ae&&(Z.source=$,Z.host=Z.host.substring(1,Z.host.length-1).replace(/;/g,":"),Z.authority=Z.authority.replace("[","").replace("]","").replace(/;/g,":"),Z.ipv6uri=!0),Z.pathNames=function(u,G){var X=G.replace(/\/{2,9}/g,"/").split("/");return("/"==G.substr(0,1)||0===G.length)&&X.splice(0,1),"/"==G.substr(G.length-1,1)&&X.splice(X.length-1,1),X}(0,Z.path),Z.queryKey=function(u,G){var $={};return G.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(X,ae,ee){ae&&($[ae]=ee)}),$}(0,Z.query),Z}},6490:(re,Y,O)=>{"use strict";O.d(Y,{X:()=>q});var H=O(1505);class q extends H.x{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const $=super._subscribe(G);return!$.closed&&G.next(this._value),$}getValue(){const{hasError:G,thrownError:$,_value:X}=this;if(G)throw $;return this._throwIfClosed(),X}next(G){super.next(this._value=G)}}},4250:(re,Y,O)=>{"use strict";O.d(Y,{y:()=>he});var H=O(5372),q=O(8234),u=O(2515),G=O(841);var ae=O(6164),ee=O(6062),Z=O(2589);let he=(()=>{class je{constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const xe=new je;return xe.source=this,xe.operator=ve,xe}subscribe(ve,xe,be){const te=function(je){return je&&je instanceof H.Lv||function(je){return je&&(0,ee.m)(je.next)&&(0,ee.m)(je.error)&&(0,ee.m)(je.complete)}(je)&&(0,q.Nn)(je)}(ve)?ve:new H.Hp(ve,xe,be);return(0,Z.x)(()=>{const{operator:oe,source:le}=this;te.add(oe?oe.call(te,le):le?this._subscribe(te):this._trySubscribe(te))}),te}_trySubscribe(ve){try{return this._subscribe(ve)}catch(xe){ve.error(xe)}}forEach(ve,xe){return new(xe=_e(xe))((be,te)=>{let oe;oe=this.subscribe(le=>{try{ve(le)}catch(ce){te(ce),null==oe||oe.unsubscribe()}},te,be)})}_subscribe(ve){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(ve)}[u.L](){return this}pipe(...ve){return function(je){return 0===je.length?G.y:1===je.length?je[0]:function(ve){return je.reduce((xe,be)=>be(xe),ve)}}(ve)(this)}toPromise(ve){return new(ve=_e(ve))((xe,be)=>{let te;this.subscribe(oe=>te=oe,oe=>be(oe),()=>xe(te))})}}return je.create=Qe=>new je(Qe),je})();function _e(je){var Qe;return null!==(Qe=null!=je?je:ae.v.Promise)&&void 0!==Qe?Qe:Promise}},1867:(re,Y,O)=>{"use strict";O.d(Y,{t:()=>u});var H=O(1505),q=O(7502);class u extends H.x{constructor($=1/0,X=1/0,ae=q.l){super(),this._bufferSize=$,this._windowTime=X,this._timestampProvider=ae,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=X===1/0,this._bufferSize=Math.max(1,$),this._windowTime=Math.max(1,X)}next($){const{isStopped:X,_buffer:ae,_infiniteTimeWindow:ee,_timestampProvider:Z,_windowTime:he}=this;X||(ae.push($),!ee&&ae.push(Z.now()+he)),this._trimBuffer(),super.next($)}_subscribe($){this._throwIfClosed(),this._trimBuffer();const X=this._innerSubscribe($),{_infiniteTimeWindow:ae,_buffer:ee}=this,Z=ee.slice();for(let he=0;he<Z.length&&!$.closed;he+=ae?1:2)$.next(Z[he]);return this._checkFinalizedStatuses($),X}_trimBuffer(){const{_bufferSize:$,_timestampProvider:X,_buffer:ae,_infiniteTimeWindow:ee}=this,Z=(ee?1:2)*$;if($<1/0&&Z<ae.length&&ae.splice(0,ae.length-Z),!ee){const he=X.now();let _e=0;for(let fe=1;fe<ae.length&&ae[fe]<=he;fe+=2)_e=fe;_e&&ae.splice(0,_e+1)}}}},1505:(re,Y,O)=>{"use strict";O.d(Y,{x:()=>ae});var H=O(4250),q=O(8234);const G=(0,O(6431).d)(Z=>function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=O(2962),X=O(2589);let ae=(()=>{class Z extends H.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const fe=new ee(this,this);return fe.operator=_e,fe}_throwIfClosed(){if(this.closed)throw new G}next(_e){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const fe=this.observers.slice();for(const Ue of fe)Ue.next(_e)}})}error(_e){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:fe}=this;for(;fe.length;)fe.shift().error(_e)}})}complete(){(0,X.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:fe,isStopped:Ue,observers:je}=this;return fe||Ue?q.Lc:(je.push(_e),new q.w0(()=>(0,$.P)(je,_e)))}_checkFinalizedStatuses(_e){const{hasError:fe,thrownError:Ue,isStopped:je}=this;fe?_e.error(Ue):je&&_e.complete()}asObservable(){const _e=new H.y;return _e.source=this,_e}}return Z.create=(he,_e)=>new ee(he,_e),Z})();class ee extends ae{constructor(he,_e){super(),this.destination=he,this.source=_e}next(he){var _e,fe;null===(fe=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===fe||fe.call(_e,he)}error(he){var _e,fe;null===(fe=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===fe||fe.call(_e,he)}complete(){var he,_e;null===(_e=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===_e||_e.call(he)}_subscribe(he){var _e,fe;return null!==(fe=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(he))&&void 0!==fe?fe:q.Lc}}},5372:(re,Y,O)=>{"use strict";O.d(Y,{Hp:()=>Ue,Lv:()=>fe});var H=O(6062),q=O(8234),u=O(6164),G=O(7067),$=O(4324);const X=Z("C",void 0,void 0);function Z(be,te,oe){return{kind:be,value:te,error:oe}}var he=O(6925),_e=O(2589);class fe extends q.w0{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,q.Nn)(te)&&te.add(this)):this.destination=xe}static create(te,oe,le){return new Ue(te,oe,le)}next(te){this.isStopped?ve(Z("N",te,void 0),this):this._next(te)}error(te){this.isStopped?ve(Z("E",void 0,te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?ve(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends fe{constructor(te,oe,le){let ce;if(super(),(0,H.m)(te))ce=te;else if(te){let Re;({next:ce,error:oe,complete:le}=te),this&&u.v.useDeprecatedNextContext?(Re=Object.create(te),Re.unsubscribe=()=>this.unsubscribe()):Re=te,ce=null==ce?void 0:ce.bind(Re),oe=null==oe?void 0:oe.bind(Re),le=null==le?void 0:le.bind(Re)}this.destination={next:ce?je(ce):$.Z,error:je(null!=oe?oe:Qe),complete:le?je(le):$.Z}}}function je(be,te){return(...oe)=>{try{be(...oe)}catch(le){u.v.useDeprecatedSynchronousErrorHandling?(0,_e.O)(le):(0,G.h)(le)}}}function Qe(be){throw be}function ve(be,te){const{onStoppedNotification:oe}=u.v;oe&&he.z.setTimeout(()=>oe(be,te))}const xe={closed:!0,next:$.Z,error:Qe,complete:$.Z}},8234:(re,Y,O)=>{"use strict";O.d(Y,{Lc:()=>X,w0:()=>$,Nn:()=>ae});var H=O(6062);const u=(0,O(6431).d)(Z=>function(_e){Z(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((fe,Ue)=>`${Ue+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var G=O(2962);class ${constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const je of _e)je.remove(this);else _e.remove(this);const{initialTeardown:fe}=this;if((0,H.m)(fe))try{fe()}catch(je){he=je instanceof u?je.errors:[je]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const je of Ue)try{ee(je)}catch(Qe){he=null!=he?he:[],Qe instanceof u?he=[...he,...Qe.errors]:he.push(Qe)}}if(he)throw new u(he)}}add(he){var _e;if(he&&he!==this)if(this.closed)ee(he);else{if(he instanceof $){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._teardowns=null!==(_e=this._teardowns)&&void 0!==_e?_e:[]).push(he)}}_hasParent(he){const{_parentage:_e}=this;return _e===he||Array.isArray(_e)&&_e.includes(he)}_addParent(he){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(he),_e):_e?[_e,he]:he}_removeParent(he){const{_parentage:_e}=this;_e===he?this._parentage=null:Array.isArray(_e)&&(0,G.P)(_e,he)}remove(he){const{_teardowns:_e}=this;_e&&(0,G.P)(_e,he),he instanceof $&&he._removeParent(this)}}$.EMPTY=(()=>{const Z=new $;return Z.closed=!0,Z})();const X=$.EMPTY;function ae(Z){return Z instanceof $||Z&&"closed"in Z&&(0,H.m)(Z.remove)&&(0,H.m)(Z.add)&&(0,H.m)(Z.unsubscribe)}function ee(Z){(0,H.m)(Z)?Z():Z.unsubscribe()}},6164:(re,Y,O)=>{"use strict";O.d(Y,{v:()=>H});const H={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},1803:(re,Y,O)=>{"use strict";O.d(Y,{E:()=>q});const q=new(O(4250).y)($=>$.complete())},8409:(re,Y,O)=>{"use strict";O.d(Y,{D:()=>Re});var H=O(3274),q=O(6536),u=O(5063);function G(De,ke=0){return(0,u.e)((Ee,Q)=>{Q.add(De.schedule(()=>Ee.subscribe(Q),ke))})}var ae=O(4250),Z=O(4985),he=O(6062),_e=O(2800);function Ue(De,ke){if(!De)throw new Error("Iterable cannot be null");return new ae.y(Ee=>{(0,_e.f)(Ee,ke,()=>{const Q=De[Symbol.asyncIterator]();(0,_e.f)(Ee,ke,()=>{Q.next().then(de=>{de.done?Ee.complete():Ee.next(de.value)})},0,!0)})})}var je=O(1164),Qe=O(7481),ve=O(3230),xe=O(9231),be=O(8929),te=O(3923),oe=O(5677);function Re(De,ke){return ke?function(De,ke){if(null!=De){if((0,je.c)(De))return function(De,ke){return(0,H.Xf)(De).pipe(G(ke),(0,q.Q)(ke))}(De,ke);if((0,ve.z)(De))return function(De,ke){return new ae.y(Ee=>{let Q=0;return ke.schedule(function(){Q===De.length?Ee.complete():(Ee.next(De[Q++]),Ee.closed||this.schedule())})})}(De,ke);if((0,Qe.t)(De))return function(De,ke){return(0,H.Xf)(De).pipe(G(ke),(0,q.Q)(ke))}(De,ke);if((0,be.D)(De))return Ue(De,ke);if((0,xe.T)(De))return function(De,ke){return new ae.y(Ee=>{let Q;return(0,_e.f)(Ee,ke,()=>{Q=De[Z.h](),(0,_e.f)(Ee,ke,()=>{let de,Ie;try{({value:de,done:Ie}=Q.next())}catch(ze){return void Ee.error(ze)}Ie?Ee.complete():Ee.next(de)},0,!0)}),()=>(0,he.m)(null==Q?void 0:Q.return)&&Q.return()})}(De,ke);if((0,oe.L)(De))return function(De,ke){return Ue((0,oe.Q)(De),ke)}(De,ke)}throw(0,te.z)(De)}(De,ke):(0,H.Xf)(De)}},3274:(re,Y,O)=>{"use strict";O.d(Y,{Xf:()=>Ue});var H=O(8189),q=O(3230),u=O(7481),G=O(4250),$=O(1164),X=O(8929),ae=O(3923),ee=O(9231),Z=O(5677),he=O(6062),_e=O(7067),fe=O(2515);function Ue(le){if(le instanceof G.y)return le;if(null!=le){if((0,$.c)(le))return function(le){return new G.y(ce=>{const Re=le[fe.L]();if((0,he.m)(Re.subscribe))return Re.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,q.z)(le))return function(le){return new G.y(ce=>{for(let Re=0;Re<le.length&&!ce.closed;Re++)ce.next(le[Re]);ce.complete()})}(le);if((0,u.t)(le))return function(le){return new G.y(ce=>{le.then(Re=>{ce.closed||(ce.next(Re),ce.complete())},Re=>ce.error(Re)).then(null,_e.h)})}(le);if((0,X.D)(le))return be(le);if((0,ee.T)(le))return function(le){return new G.y(ce=>{for(const Re of le)if(ce.next(Re),ce.closed)return;ce.complete()})}(le);if((0,Z.L)(le))return function(le){return be((0,Z.Q)(le))}(le)}throw(0,ae.z)(le)}function be(le){return new G.y(ce=>{(function(le,ce){var Re,De,ke,Ee;return(0,H.mG)(this,void 0,void 0,function*(){try{for(Re=(0,H.KL)(le);!(De=yield Re.next()).done;)if(ce.next(De.value),ce.closed)return}catch(Q){ke={error:Q}}finally{try{De&&!De.done&&(Ee=Re.return)&&(yield Ee.call(Re))}finally{if(ke)throw ke.error}}ce.complete()})})(le,ce).catch(Re=>ce.error(Re))})}},5541:(re,Y,O)=>{"use strict";O.d(Y,{T:()=>X});var H=O(1015),q=O(3274),u=O(1803),G=O(633),$=O(8409);function X(...ae){const ee=(0,G.yG)(ae),Z=(0,G._6)(ae,1/0),he=ae;return he.length?1===he.length?(0,q.Xf)(he[0]):(0,H.J)(Z)((0,$.D)(he,ee)):u.E}},9625:(re,Y,O)=>{"use strict";O.d(Y,{of:()=>u});var H=O(633),q=O(8409);function u(...G){const $=(0,H.yG)(G);return(0,q.D)(G,$)}},8849:(re,Y,O)=>{"use strict";O.d(Y,{Q:()=>q});var H=O(5372);class q extends H.Lv{constructor(G,$,X,ae,ee){super(G),this.onFinalize=ee,this._next=$?function(Z){try{$(Z)}catch(he){G.error(he)}}:super._next,this._error=ae?function(Z){try{ae(Z)}catch(he){G.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(Z){G.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var G;const{closed:$}=this;super.unsubscribe(),!$&&(null===(G=this.onFinalize)||void 0===G||G.call(this))}}},702:(re,Y,O)=>{"use strict";O.d(Y,{K:()=>G});var H=O(3274),q=O(8849),u=O(5063);function G($){return(0,u.e)((X,ae)=>{let he,ee=null,Z=!1;ee=X.subscribe(new q.Q(ae,void 0,void 0,_e=>{he=(0,H.Xf)($(_e,G($)(X))),ee?(ee.unsubscribe(),ee=null,he.subscribe(ae)):Z=!0})),Z&&(ee.unsubscribe(),ee=null,he.subscribe(ae))})}},906:(re,Y,O)=>{"use strict";O.d(Y,{b:()=>u});var H=O(119),q=O(6062);function u(G,$){return(0,q.m)($)?(0,H.z)(G,$,1):(0,H.z)(G,1)}},9757:(re,Y,O)=>{"use strict";O.d(Y,{b:()=>G});var H=O(8864),q=O(5063),u=O(8849);function G($,X=H.z){return(0,q.e)((ae,ee)=>{let Z=null,he=null,_e=null;const fe=()=>{if(Z){Z.unsubscribe(),Z=null;const je=he;he=null,ee.next(je)}};function Ue(){const je=_e+$,Qe=X.now();if(Qe<je)return Z=this.schedule(void 0,je-Qe),void ee.add(Z);fe()}ae.subscribe(new u.Q(ee,je=>{he=je,_e=X.now(),Z||(Z=X.schedule(Ue,$),ee.add(Z))},()=>{fe(),ee.complete()},void 0,()=>{he=Z=null}))})}},4195:(re,Y,O)=>{"use strict";O.d(Y,{x:()=>G});var H=O(841),q=O(5063),u=O(8849);function G(X,ae=H.y){return X=null!=X?X:$,(0,q.e)((ee,Z)=>{let he,_e=!0;ee.subscribe(new u.Q(Z,fe=>{const Ue=ae(fe);(_e||!X(he,Ue))&&(_e=!1,he=Ue,Z.next(fe))}))})}function $(X,ae){return X===ae}},8578:(re,Y,O)=>{"use strict";O.d(Y,{h:()=>u});var H=O(5063),q=O(8849);function u(G,$){return(0,H.e)((X,ae)=>{let ee=0;X.subscribe(new q.Q(ae,Z=>G.call($,Z,ee++)&&ae.next(Z)))})}},9014:(re,Y,O)=>{"use strict";O.d(Y,{U:()=>u});var H=O(5063),q=O(8849);function u(G,$){return(0,H.e)((X,ae)=>{let ee=0;X.subscribe(new q.Q(ae,Z=>{ae.next(G.call($,Z,ee++))}))})}},1015:(re,Y,O)=>{"use strict";O.d(Y,{J:()=>u});var H=O(119),q=O(841);function u(G=1/0){return(0,H.z)(q.y,G)}},119:(re,Y,O)=>{"use strict";O.d(Y,{z:()=>ee});var H=O(9014),q=O(3274),u=O(5063),$=(O(2800),O(8849)),ae=O(6062);function ee(Z,he,_e=1/0){return(0,ae.m)(he)?ee((fe,Ue)=>(0,H.U)((je,Qe)=>he(fe,je,Ue,Qe))((0,q.Xf)(Z(fe,Ue))),_e):("number"==typeof he&&(_e=he),(0,u.e)((fe,Ue)=>function(Z,he,_e,fe,Ue,je,Qe,ve){const xe=[];let be=0,te=0,oe=!1;const le=()=>{oe&&!xe.length&&!be&&he.complete()},ce=De=>be<fe?Re(De):xe.push(De),Re=De=>{be++;let ke=!1;(0,q.Xf)(_e(De,te++)).subscribe(new $.Q(he,Ee=>{he.next(Ee)},()=>{ke=!0},void 0,()=>{if(ke)try{for(be--;xe.length&&be<fe;){const Ee=xe.shift();Re(Ee)}le()}catch(Ee){he.error(Ee)}}))};return Z.subscribe(new $.Q(he,ce,()=>{oe=!0,le()})),()=>{}}(fe,Ue,Z,_e)))}},6536:(re,Y,O)=>{"use strict";O.d(Y,{Q:()=>G});var H=O(2800),q=O(5063),u=O(8849);function G($,X=0){return(0,q.e)((ae,ee)=>{ae.subscribe(new u.Q(ee,Z=>(0,H.f)(ee,$,()=>ee.next(Z),X),()=>(0,H.f)(ee,$,()=>ee.complete(),X),Z=>(0,H.f)(ee,$,()=>ee.error(Z),X)))})}},1747:(re,Y,O)=>{"use strict";O.d(Y,{R:()=>G});var H=O(5063),q=O(8849);function u($,X,ae,ee,Z){return(he,_e)=>{let fe=ae,Ue=X,je=0;he.subscribe(new q.Q(_e,Qe=>{const ve=je++;Ue=fe?$(Ue,Qe,ve):(fe=!0,Qe),ee&&_e.next(Ue)},Z&&(()=>{fe&&_e.next(Ue),_e.complete()})))}}function G($,X){return(0,H.e)(u($,X,arguments.length>=2,!0))}},9032:(re,Y,O)=>{"use strict";O.d(Y,{B:()=>X});var H=O(8409),q=O(8980),u=O(1505),G=O(5372),$=O(5063);function X(ee={}){const{connector:Z=(()=>new u.x),resetOnError:he=!0,resetOnComplete:_e=!0,resetOnRefCountZero:fe=!0}=ee;return Ue=>{let je=null,Qe=null,ve=null,xe=0,be=!1,te=!1;const oe=()=>{null==Qe||Qe.unsubscribe(),Qe=null},le=()=>{oe(),je=ve=null,be=te=!1},ce=()=>{const Re=je;le(),null==Re||Re.unsubscribe()};return(0,$.e)((Re,De)=>{xe++,!te&&!be&&oe();const ke=ve=null!=ve?ve:Z();De.add(()=>{xe--,0===xe&&!te&&!be&&(Qe=ae(ce,fe))}),ke.subscribe(De),je||(je=new G.Hp({next:Ee=>ke.next(Ee),error:Ee=>{te=!0,oe(),Qe=ae(le,he,Ee),ke.error(Ee)},complete:()=>{be=!0,oe(),Qe=ae(le,_e),ke.complete()}}),(0,H.D)(Re).subscribe(je))})(Ue)}}function ae(ee,Z,...he){return!0===Z?(ee(),null):!1===Z?null:Z(...he).pipe((0,q.q)(1)).subscribe(()=>ee())}},8150:(re,Y,O)=>{"use strict";O.d(Y,{T:()=>q});var H=O(8578);function q(u){return(0,H.h)((G,$)=>u<=$)}},5514:(re,Y,O)=>{"use strict";O.d(Y,{w:()=>G});var H=O(3274),q=O(5063),u=O(8849);function G($,X){return(0,q.e)((ae,ee)=>{let Z=null,he=0,_e=!1;const fe=()=>_e&&!Z&&ee.complete();ae.subscribe(new u.Q(ee,Ue=>{null==Z||Z.unsubscribe();let je=0;const Qe=he++;(0,H.Xf)($(Ue,Qe)).subscribe(Z=new u.Q(ee,ve=>ee.next(X?X(Ue,ve,Qe,je++):ve),()=>{Z=null,fe()}))},()=>{_e=!0,fe()}))})}},8980:(re,Y,O)=>{"use strict";O.d(Y,{q:()=>G});var H=O(1803),q=O(5063),u=O(8849);function G($){return $<=0?()=>H.E:(0,q.e)((X,ae)=>{let ee=0;X.subscribe(new u.Q(ae,Z=>{++ee<=$&&(ae.next(Z),$<=ee&&ae.complete())}))})}},170:(re,Y,O)=>{"use strict";O.d(Y,{R:()=>$});var H=O(5063),q=O(8849),u=O(3274),G=O(4324);function $(X){return(0,H.e)((ae,ee)=>{(0,u.Xf)(X).subscribe(new q.Q(ee,()=>ee.complete(),G.Z)),!ee.closed&&ae.subscribe(ee)})}},7281:(re,Y,O)=>{"use strict";O.d(Y,{V:()=>Z});var H=O(8864),q=O(1877),u=O(5063),G=O(3274),$=O(6431),X=O(8849),ae=O(2800);const ee=(0,$.d)(_e=>function(Ue=null){_e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Ue});function Z(_e,fe){const{first:Ue,each:je,with:Qe=he,scheduler:ve=(null!=fe?fe:H.z),meta:xe=null}=(0,q.q)(_e)?{first:_e}:"number"==typeof _e?{each:_e}:_e;if(null==Ue&&null==je)throw new TypeError("No timeout provided.");return(0,u.e)((be,te)=>{let oe,le,ce=null,Re=0;const De=ke=>{le=(0,ae.f)(te,ve,()=>{try{oe.unsubscribe(),(0,G.Xf)(Qe({meta:xe,lastValue:ce,seen:Re})).subscribe(te)}catch(Ee){te.error(Ee)}},ke)};oe=be.subscribe(new X.Q(te,ke=>{null==le||le.unsubscribe(),Re++,te.next(ce=ke),je>0&&De(je)},void 0,void 0,()=>{(null==le?void 0:le.closed)||null==le||le.unsubscribe(),ce=null})),De(null!=Ue?"number"==typeof Ue?Ue:+Ue-ve.now():je)})}function he(_e){throw new ee(_e)}},1121:(re,Y,O)=>{"use strict";O.d(Y,{M:()=>ae});var H=O(5063),q=O(8849),u=O(3274),G=O(841),$=O(4324),X=O(633);function ae(...ee){const Z=(0,X.jO)(ee);return(0,H.e)((he,_e)=>{const fe=ee.length,Ue=new Array(fe);let je=ee.map(()=>!1),Qe=!1;for(let ve=0;ve<fe;ve++)(0,u.Xf)(ee[ve]).subscribe(new q.Q(_e,xe=>{Ue[ve]=xe,!Qe&&!je[ve]&&(je[ve]=!0,(Qe=je.every(G.y))&&(je=null))},$.Z));he.subscribe(new q.Q(_e,ve=>{if(Qe){const xe=[ve,...Ue];_e.next(Z?Z(...xe):xe)}}))})}},4482:(re,Y,O)=>{"use strict";O.d(Y,{o:()=>$});var H=O(8234);class q extends H.w0{constructor(ae,ee){super()}schedule(ae,ee=0){return this}}const u={setInterval(...X){const{delegate:ae}=u;return((null==ae?void 0:ae.setInterval)||setInterval)(...X)},clearInterval(X){const{delegate:ae}=u;return((null==ae?void 0:ae.clearInterval)||clearInterval)(X)},delegate:void 0};var G=O(2962);class $ extends q{constructor(ae,ee){super(ae,ee),this.scheduler=ae,this.work=ee,this.pending=!1}schedule(ae,ee=0){if(this.closed)return this;this.state=ae;const Z=this.id,he=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(he,Z,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(he,this.id,ee),this}requestAsyncId(ae,ee,Z=0){return u.setInterval(ae.flush.bind(ae,this),Z)}recycleAsyncId(ae,ee,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return ee;u.clearInterval(ee)}execute(ae,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(ae,ee);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ee){let he,Z=!1;try{this.work(ae)}catch(_e){Z=!0,he=_e||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),he}unsubscribe(){if(!this.closed){const{id:ae,scheduler:ee}=this,{actions:Z}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(Z,this),null!=ae&&(this.id=this.recycleAsyncId(ee,ae,null)),this.delay=null,super.unsubscribe()}}}},4488:(re,Y,O)=>{"use strict";O.d(Y,{v:()=>u});var H=O(7502);class q{constructor($,X=q.now){this.schedulerActionCtor=$,this.now=X}schedule($,X=0,ae){return new this.schedulerActionCtor(this,$).schedule(ae,X)}}q.now=H.l.now;class u extends q{constructor($,X=q.now){super($,X),this.actions=[],this._active=!1,this._scheduled=void 0}flush($){const{actions:X}=this;if(this._active)return void X.push($);let ae;this._active=!0;do{if(ae=$.execute($.state,$.delay))break}while($=X.shift());if(this._active=!1,ae){for(;$=X.shift();)$.unsubscribe();throw ae}}}},8864:(re,Y,O)=>{"use strict";O.d(Y,{z:()=>u,P:()=>G});var H=O(4482);const u=new(O(4488).v)(H.o),G=u},7502:(re,Y,O)=>{"use strict";O.d(Y,{l:()=>H});const H={now:()=>(H.delegate||Date).now(),delegate:void 0}},333:(re,Y,O)=>{"use strict";O.d(Y,{N:()=>$});var H=O(4482),u=O(4488);const $=new class extends u.v{}(class extends H.o{constructor(ee,Z){super(ee,Z),this.scheduler=ee,this.work=Z}schedule(ee,Z=0){return Z>0?super.schedule(ee,Z):(this.delay=Z,this.state=ee,this.scheduler.flush(this),this)}execute(ee,Z){return Z>0||this.closed?super.execute(ee,Z):this._execute(ee,Z)}requestAsyncId(ee,Z,he=0){return null!=he&&he>0||null==he&&this.delay>0?super.requestAsyncId(ee,Z,he):ee.flush(this)}})},6925:(re,Y,O)=>{"use strict";O.d(Y,{z:()=>H});const H={setTimeout(...q){const{delegate:u}=H;return((null==u?void 0:u.setTimeout)||setTimeout)(...q)},clearTimeout(q){const{delegate:u}=H;return((null==u?void 0:u.clearTimeout)||clearTimeout)(q)},delegate:void 0}},4985:(re,Y,O)=>{"use strict";O.d(Y,{h:()=>q});const q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},2515:(re,Y,O)=>{"use strict";O.d(Y,{L:()=>H});const H="function"==typeof Symbol&&Symbol.observable||"@@observable"},633:(re,Y,O)=>{"use strict";O.d(Y,{jO:()=>G,yG:()=>$,_6:()=>X});var H=O(6062),q=O(2627);function u(ae){return ae[ae.length-1]}function G(ae){return(0,H.m)(u(ae))?ae.pop():void 0}function $(ae){return(0,q.K)(u(ae))?ae.pop():void 0}function X(ae,ee){return"number"==typeof u(ae)?ae.pop():ee}},2962:(re,Y,O)=>{"use strict";function H(q,u){if(q){const G=q.indexOf(u);0<=G&&q.splice(G,1)}}O.d(Y,{P:()=>H})},6431:(re,Y,O)=>{"use strict";function H(q){const G=q($=>{Error.call($),$.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}O.d(Y,{d:()=>H})},2589:(re,Y,O)=>{"use strict";O.d(Y,{x:()=>u,O:()=>G});var H=O(6164);let q=null;function u($){if(H.v.useDeprecatedSynchronousErrorHandling){const X=!q;if(X&&(q={errorThrown:!1,error:null}),$(),X){const{errorThrown:ae,error:ee}=q;if(q=null,ae)throw ee}}else $()}function G($){H.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=$)}},2800:(re,Y,O)=>{"use strict";function H(q,u,G,$=0,X=!1){const ae=u.schedule(function(){G(),X?q.add(this.schedule(null,$)):this.unsubscribe()},$);if(q.add(ae),!X)return ae}O.d(Y,{f:()=>H})},841:(re,Y,O)=>{"use strict";function H(q){return q}O.d(Y,{y:()=>H})},3230:(re,Y,O)=>{"use strict";O.d(Y,{z:()=>H});const H=q=>q&&"number"==typeof q.length&&"function"!=typeof q},8929:(re,Y,O)=>{"use strict";O.d(Y,{D:()=>q});var H=O(6062);function q(u){return Symbol.asyncIterator&&(0,H.m)(null==u?void 0:u[Symbol.asyncIterator])}},1877:(re,Y,O)=>{"use strict";function H(q){return q instanceof Date&&!isNaN(q)}O.d(Y,{q:()=>H})},6062:(re,Y,O)=>{"use strict";function H(q){return"function"==typeof q}O.d(Y,{m:()=>H})},1164:(re,Y,O)=>{"use strict";O.d(Y,{c:()=>u});var H=O(2515),q=O(6062);function u(G){return(0,q.m)(G[H.L])}},9231:(re,Y,O)=>{"use strict";O.d(Y,{T:()=>u});var H=O(4985),q=O(6062);function u(G){return(0,q.m)(null==G?void 0:G[H.h])}},7481:(re,Y,O)=>{"use strict";O.d(Y,{t:()=>q});var H=O(6062);function q(u){return(0,H.m)(null==u?void 0:u.then)}},5677:(re,Y,O)=>{"use strict";O.d(Y,{Q:()=>u,L:()=>G});var H=O(8189),q=O(6062);function u($){return(0,H.FC)(this,arguments,function*(){const ae=$.getReader();try{for(;;){const{value:ee,done:Z}=yield(0,H.qq)(ae.read());if(Z)return yield(0,H.qq)(void 0);yield yield(0,H.qq)(ee)}}finally{ae.releaseLock()}})}function G($){return(0,q.m)(null==$?void 0:$.getReader)}},2627:(re,Y,O)=>{"use strict";O.d(Y,{K:()=>q});var H=O(6062);function q(u){return u&&(0,H.m)(u.schedule)}},5063:(re,Y,O)=>{"use strict";O.d(Y,{A:()=>q,e:()=>u});var H=O(6062);function q(G){return(0,H.m)(null==G?void 0:G.lift)}function u(G){return $=>{if(q($))return $.lift(function(X){try{return G(X,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},4324:(re,Y,O)=>{"use strict";function H(){}O.d(Y,{Z:()=>H})},7067:(re,Y,O)=>{"use strict";O.d(Y,{h:()=>u});var H=O(6164),q=O(6925);function u(G){q.z.setTimeout(()=>{const{onUnhandledError:$}=H.v;if(!$)throw G;$(G)})}},3923:(re,Y,O)=>{"use strict";function H(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Y,{z:()=>H})},5456:re=>{var Y="function"==typeof setImmediate;re.exports=Y?function(H){setImmediate(H)}:function(H){setTimeout(H,0)}},6725:function(re,Y){var O,q;void 0!==(q="function"==typeof(O=function(u){"use strict";u.__esModule=!0,u.sort=function(te,oe,le,ce){if(!Array.isArray(te))throw new TypeError("Can only sort arrays");oe?"function"!=typeof oe&&(ce=le,le=oe,oe=he):oe=he,le||(le=0),ce||(ce=te.length);var Re=ce-le;if(!(Re<2)){var De=0;if(Re<32)return void je(te,le,ce,le+(De=fe(te,le,ce,oe)),oe);var ke=new xe(te,oe),Ee=function(te){for(var oe=0;te>=32;)oe|=1&te,te>>=1;return te+oe}(Re);do{if((De=fe(te,le,ce,oe))<Ee){var Q=Re;Q>Ee&&(Q=Ee),je(te,le,le+Q,le+De,oe),De=Q}ke.pushRun(le,De),ke.mergeRuns(),Re-=De,le+=De}while(0!==Re);ke.forceMergeRuns()}};var ee=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function Z(te){return te<1e5?te<100?te<10?0:1:te<1e4?te<1e3?2:3:4:te<1e7?te<1e6?5:6:te<1e9?te<1e8?7:8:9}function he(te,oe){if(te===oe)return 0;if(~~te===te&&~~oe===oe){if(0===te||0===oe)return te<oe?-1:1;if(te<0||oe<0){if(oe>=0)return-1;if(te>=0)return 1;te=-te,oe=-oe}var le=Z(te),ce=Z(oe),Re=0;return le<ce?(te*=ee[ce-le-1],oe/=10,Re=-1):le>ce&&(oe*=ee[le-ce-1],te/=10,Re=1),te===oe?Re:te<oe?-1:1}var De=String(te),ke=String(oe);return De===ke?0:De<ke?-1:1}function fe(te,oe,le,ce){var Re=oe+1;if(Re===le)return 1;if(ce(te[Re++],te[oe])<0){for(;Re<le&&ce(te[Re],te[Re-1])<0;)Re++;!function(te,oe,le){for(le--;oe<le;){var ce=te[oe];te[oe++]=te[le],te[le--]=ce}}(te,oe,Re)}else for(;Re<le&&ce(te[Re],te[Re-1])>=0;)Re++;return Re-oe}function je(te,oe,le,ce,Re){for(ce===oe&&ce++;ce<le;ce++){for(var De=te[ce],ke=oe,Ee=ce;ke<Ee;){var Q=ke+Ee>>>1;Re(De,te[Q])<0?Ee=Q:ke=Q+1}var de=ce-ke;switch(de){case 3:te[ke+3]=te[ke+2];case 2:te[ke+2]=te[ke+1];case 1:te[ke+1]=te[ke];break;default:for(;de>0;)te[ke+de]=te[ke+de-1],de--}te[ke]=De}}function Qe(te,oe,le,ce,Re,De){var ke=0,Ee=0,Q=1;if(De(te,oe[le+Re])>0){for(Ee=ce-Re;Q<Ee&&De(te,oe[le+Re+Q])>0;)ke=Q,(Q=1+(Q<<1))<=0&&(Q=Ee);Q>Ee&&(Q=Ee),ke+=Re,Q+=Re}else{for(Ee=Re+1;Q<Ee&&De(te,oe[le+Re-Q])<=0;)ke=Q,(Q=1+(Q<<1))<=0&&(Q=Ee);Q>Ee&&(Q=Ee);var de=ke;ke=Re-Q,Q=Re-de}for(ke++;ke<Q;){var Ie=ke+(Q-ke>>>1);De(te,oe[le+Ie])>0?ke=Ie+1:Q=Ie}return Q}function ve(te,oe,le,ce,Re,De){var ke=0,Ee=0,Q=1;if(De(te,oe[le+Re])<0){for(Ee=Re+1;Q<Ee&&De(te,oe[le+Re-Q])<0;)ke=Q,(Q=1+(Q<<1))<=0&&(Q=Ee);Q>Ee&&(Q=Ee);var de=ke;ke=Re-Q,Q=Re-de}else{for(Ee=ce-Re;Q<Ee&&De(te,oe[le+Re+Q])>=0;)ke=Q,(Q=1+(Q<<1))<=0&&(Q=Ee);Q>Ee&&(Q=Ee),ke+=Re,Q+=Re}for(ke++;ke<Q;){var Ie=ke+(Q-ke>>>1);De(te,oe[le+Ie])<0?Q=Ie:ke=Ie+1}return Q}var xe=function(){function te(oe,le){(function(te,oe){if(!(te instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,te),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=oe,this.compare=le,this.length=oe.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return te.prototype.pushRun=function(le,ce){this.runStart[this.stackSize]=le,this.runLength[this.stackSize]=ce,this.stackSize+=1},te.prototype.mergeRuns=function(){for(;this.stackSize>1;){var le=this.stackSize-2;if(le>=1&&this.runLength[le-1]<=this.runLength[le]+this.runLength[le+1]||le>=2&&this.runLength[le-2]<=this.runLength[le]+this.runLength[le-1])this.runLength[le-1]<this.runLength[le+1]&&le--;else if(this.runLength[le]>this.runLength[le+1])break;this.mergeAt(le)}},te.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var le=this.stackSize-2;le>0&&this.runLength[le-1]<this.runLength[le+1]&&le--,this.mergeAt(le)}},te.prototype.mergeAt=function(le){var ce=this.compare,Re=this.array,De=this.runStart[le],ke=this.runLength[le],Ee=this.runStart[le+1],Q=this.runLength[le+1];this.runLength[le]=ke+Q,le===this.stackSize-3&&(this.runStart[le+1]=this.runStart[le+2],this.runLength[le+1]=this.runLength[le+2]),this.stackSize--;var de=ve(Re[Ee],Re,De,ke,0,ce);De+=de,0!=(ke-=de)&&0!==(Q=Qe(Re[De+ke-1],Re,Ee,Q,Q-1,ce))&&(ke<=Q?this.mergeLow(De,ke,Ee,Q):this.mergeHigh(De,ke,Ee,Q))},te.prototype.mergeLow=function(le,ce,Re,De){var ke=this.compare,Ee=this.array,Q=this.tmp,de=0;for(de=0;de<ce;de++)Q[de]=Ee[le+de];var Ie=0,ze=Re,He=le;if(Ee[He++]=Ee[ze++],0!=--De)if(1!==ce){for(var Ae=this.minGallop;;){var it=0,Te=0,Kt=!1;do{if(ke(Ee[ze],Q[Ie])<0){if(Ee[He++]=Ee[ze++],Te++,it=0,0==--De){Kt=!0;break}}else if(Ee[He++]=Q[Ie++],it++,Te=0,1==--ce){Kt=!0;break}}while((it|Te)<Ae);if(Kt)break;do{if(0!==(it=ve(Ee[ze],Q,Ie,ce,0,ke))){for(de=0;de<it;de++)Ee[He+de]=Q[Ie+de];if(He+=it,Ie+=it,(ce-=it)<=1){Kt=!0;break}}if(Ee[He++]=Ee[ze++],0==--De){Kt=!0;break}if(0!==(Te=Qe(Q[Ie],Ee,ze,De,0,ke))){for(de=0;de<Te;de++)Ee[He+de]=Ee[ze+de];if(He+=Te,ze+=Te,0==(De-=Te)){Kt=!0;break}}if(Ee[He++]=Q[Ie++],1==--ce){Kt=!0;break}Ae--}while(it>=7||Te>=7);if(Kt)break;Ae<0&&(Ae=0),Ae+=2}if(this.minGallop=Ae,Ae<1&&(this.minGallop=1),1===ce){for(de=0;de<De;de++)Ee[He+de]=Ee[ze+de];Ee[He+De]=Q[Ie]}else{if(0===ce)throw new Error("mergeLow preconditions were not respected");for(de=0;de<ce;de++)Ee[He+de]=Q[Ie+de]}}else{for(de=0;de<De;de++)Ee[He+de]=Ee[ze+de];Ee[He+De]=Q[Ie]}else for(de=0;de<ce;de++)Ee[He+de]=Q[Ie+de]},te.prototype.mergeHigh=function(le,ce,Re,De){var ke=this.compare,Ee=this.array,Q=this.tmp,de=0;for(de=0;de<De;de++)Q[de]=Ee[Re+de];var Ie=le+ce-1,ze=De-1,He=Re+De-1,Ae=0,it=0;if(Ee[He--]=Ee[Ie--],0!=--ce)if(1!==De){for(var Te=this.minGallop;;){var Kt=0,mt=0,Et=!1;do{if(ke(Q[ze],Ee[Ie])<0){if(Ee[He--]=Ee[Ie--],Kt++,mt=0,0==--ce){Et=!0;break}}else if(Ee[He--]=Q[ze--],mt++,Kt=0,1==--De){Et=!0;break}}while((Kt|mt)<Te);if(Et)break;do{if(0!=(Kt=ce-ve(Q[ze],Ee,le,ce,ce-1,ke))){for(ce-=Kt,it=1+(He-=Kt),Ae=1+(Ie-=Kt),de=Kt-1;de>=0;de--)Ee[it+de]=Ee[Ae+de];if(0===ce){Et=!0;break}}if(Ee[He--]=Q[ze--],1==--De){Et=!0;break}if(0!=(mt=De-Qe(Ee[Ie],Q,0,De,De-1,ke))){for(De-=mt,it=1+(He-=mt),Ae=1+(ze-=mt),de=0;de<mt;de++)Ee[it+de]=Q[Ae+de];if(De<=1){Et=!0;break}}if(Ee[He--]=Ee[Ie--],0==--ce){Et=!0;break}Te--}while(Kt>=7||mt>=7);if(Et)break;Te<0&&(Te=0),Te+=2}if(this.minGallop=Te,Te<1&&(this.minGallop=1),1===De){for(it=1+(He-=ce),Ae=1+(Ie-=ce),de=ce-1;de>=0;de--)Ee[it+de]=Ee[Ae+de];Ee[He]=Q[ze]}else{if(0===De)throw new Error("mergeHigh preconditions were not respected");for(Ae=He-(De-1),de=0;de<De;de++)Ee[Ae+de]=Q[de]}}else{for(it=1+(He-=ce),Ae=1+(Ie-=ce),de=ce-1;de>=0;de--)Ee[it+de]=Ee[Ae+de];Ee[He]=Q[ze]}else for(Ae=He-(De-1),de=0;de<De;de++)Ee[Ae+de]=Q[de]},te}()})?O.apply(Y,[Y]):O)&&(re.exports=q)},1849:(re,Y,O)=>{re.exports=O(6725)},3199:(re,Y,O)=>{var H=O(95),q=O(6202),u=q;u.v1=H,u.v4=q,re.exports=u},9374:re=>{for(var Y=[],O=0;O<256;++O)Y[O]=(O+256).toString(16).substr(1);re.exports=function(q,u){var G=u||0;return[Y[q[G++]],Y[q[G++]],Y[q[G++]],Y[q[G++]],"-",Y[q[G++]],Y[q[G++]],"-",Y[q[G++]],Y[q[G++]],"-",Y[q[G++]],Y[q[G++]],"-",Y[q[G++]],Y[q[G++]],Y[q[G++]],Y[q[G++]],Y[q[G++]],Y[q[G++]]].join("")}},3454:re=>{var Y="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(Y){var O=new Uint8Array(16);re.exports=function(){return Y(O),O}}else{var H=new Array(16);re.exports=function(){for(var G,u=0;u<16;u++)0==(3&u)&&(G=4294967296*Math.random()),H[u]=G>>>((3&u)<<3)&255;return H}}},95:(re,Y,O)=>{var u,G,H=O(3454),q=O(9374),$=0,X=0;re.exports=function(ee,Z,he){var _e=Z&&he||0,fe=Z||[],Ue=(ee=ee||{}).node||u,je=void 0!==ee.clockseq?ee.clockseq:G;if(null==Ue||null==je){var Qe=H();null==Ue&&(Ue=u=[1|Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5]]),null==je&&(je=G=16383&(Qe[6]<<8|Qe[7]))}var ve=void 0!==ee.msecs?ee.msecs:(new Date).getTime(),xe=void 0!==ee.nsecs?ee.nsecs:X+1,be=ve-$+(xe-X)/1e4;if(be<0&&void 0===ee.clockseq&&(je=je+1&16383),(be<0||ve>$)&&void 0===ee.nsecs&&(xe=0),xe>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$=ve,X=xe,G=je;var te=(1e4*(268435455&(ve+=122192928e5))+xe)%4294967296;fe[_e++]=te>>>24&255,fe[_e++]=te>>>16&255,fe[_e++]=te>>>8&255,fe[_e++]=255&te;var oe=ve/4294967296*1e4&268435455;fe[_e++]=oe>>>8&255,fe[_e++]=255&oe,fe[_e++]=oe>>>24&15|16,fe[_e++]=oe>>>16&255,fe[_e++]=je>>>8|128,fe[_e++]=255&je;for(var le=0;le<6;++le)fe[_e+le]=Ue[le];return Z||q(fe)}},6202:(re,Y,O)=>{var H=O(3454),q=O(9374);re.exports=function(G,$,X){var ae=$&&X||0;"string"==typeof G&&($="binary"===G?new Array(16):null,G=null);var ee=(G=G||{}).random||(G.rng||H)();if(ee[6]=15&ee[6]|64,ee[8]=63&ee[8]|128,$)for(var Z=0;Z<16;++Z)$[ae+Z]=ee[Z];return $||q(ee)}},1969:function(re,Y){!function(O){var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q(v){var E={exports:{}};return v(E,E.exports),E.exports}var u=function(v){return v&&v.Math==Math&&v},G=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof H&&H)||function(){return this}()||Function("return this")(),$=function(v){try{return!!v()}catch(E){return!0}},X=!$(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ae={}.propertyIsEnumerable,ee=Object.getOwnPropertyDescriptor,Z={f:ee&&!ae.call({1:2},1)?function(v){var E=ee(this,v);return!!E&&E.enumerable}:ae},he=function(v,E){return{enumerable:!(1&v),configurable:!(2&v),writable:!(4&v),value:E}},_e={}.toString,fe=function(v){return _e.call(v).slice(8,-1)},Ue="".split,je=$(function(){return!Object("z").propertyIsEnumerable(0)})?function(v){return"String"==fe(v)?Ue.call(v,""):Object(v)}:Object,Qe=function(v){if(null==v)throw TypeError("Can't call method on "+v);return v},ve=function(v){return je(Qe(v))},xe=function(v){return"object"==typeof v?null!==v:"function"==typeof v},be=function(v,E){if(!xe(v))return v;var D,x;if(E&&"function"==typeof(D=v.toString)&&!xe(x=D.call(v))||"function"==typeof(D=v.valueOf)&&!xe(x=D.call(v))||!E&&"function"==typeof(D=v.toString)&&!xe(x=D.call(v)))return x;throw TypeError("Can't convert object to primitive value")},te={}.hasOwnProperty,oe=function(v,E){return te.call(v,E)},le=G.document,ce=xe(le)&&xe(le.createElement),Re=function(v){return ce?le.createElement(v):{}},De=!X&&!$(function(){return 7!=Object.defineProperty(Re("div"),"a",{get:function(){return 7}}).a}),ke=Object.getOwnPropertyDescriptor,Ee={f:X?ke:function(v,E){if(v=ve(v),E=be(E,!0),De)try{return ke(v,E)}catch(D){}if(oe(v,E))return he(!Z.f.call(v,E),v[E])}},Q=/#|\.prototype\./,de=function(v,E){var D=ze[Ie(v)];return D==Ae||D!=He&&("function"==typeof E?$(E):!!E)},Ie=de.normalize=function(v){return String(v).replace(Q,".").toLowerCase()},ze=de.data={},He=de.NATIVE="N",Ae=de.POLYFILL="P",it=de,Te={},Kt=function(v){if("function"!=typeof v)throw TypeError(String(v)+" is not a function");return v},mt=function(v,E,D){if(Kt(v),void 0===E)return v;switch(D){case 0:return function(){return v.call(E)};case 1:return function(x){return v.call(E,x)};case 2:return function(x,A){return v.call(E,x,A)};case 3:return function(x,A,R){return v.call(E,x,A,R)}}return function(){return v.apply(E,arguments)}},Et=function(v){if(!xe(v))throw TypeError(String(v)+" is not an object");return v},st=Object.defineProperty,At={f:X?st:function(v,E,D){if(Et(v),E=be(E,!0),Et(D),De)try{return st(v,E,D)}catch(x){}if("get"in D||"set"in D)throw TypeError("Accessors not supported");return"value"in D&&(v[E]=D.value),v}},Mn=X?function(v,E,D){return At.f(v,E,he(1,D))}:function(v,E,D){return v[E]=D,v},vo=Ee.f,In=function(v){var E=function(D,x,A){if(this instanceof v){switch(arguments.length){case 0:return new v;case 1:return new v(D);case 2:return new v(D,x)}return new v(D,x,A)}return v.apply(this,arguments)};return E.prototype=v.prototype,E},Lt=function(v,E){var D,x,A,R,B,V,z,se,Se=v.target,Ce=v.global,rt=v.stat,ht=v.proto,Tt=Ce?G:rt?G[Se]:(G[Se]||{}).prototype,It=Ce?Te:Te[Se]||(Te[Se]={}),gt=It.prototype;for(A in E)D=!it(Ce?A:Se+(rt?".":"#")+A,v.forced)&&Tt&&oe(Tt,A),B=It[A],D&&(V=v.noTargetGet?(se=vo(Tt,A))&&se.value:Tt[A]),R=D&&V?V:E[A],D&&typeof B==typeof R||(z=v.bind&&D?mt(R,G):v.wrap&&D?In(R):ht&&"function"==typeof R?mt(Function.call,R):R,(v.sham||R&&R.sham||B&&B.sham)&&Mn(z,"sham",!0),It[A]=z,ht&&(oe(Te,x=Se+"Prototype")||Mn(Te,x,{}),Te[x][A]=R,v.real&&gt&&!gt[A]&&Mn(gt,A,R)))},si=Array.isArray||function(v){return"Array"==fe(v)},ji=Math.ceil,qi=Math.floor,ts=function(v){return isNaN(v=+v)?0:(v>0?qi:ji)(v)},wa=Math.min,ur=function(v){return v>0?wa(ts(v),9007199254740991):0},Hs=function(v,E,D,x,A,R,B,V){for(var z,se=A,Se=0,Ce=!!B&&mt(B,V,3);Se<x;){if(Se in D){if(z=Ce?Ce(D[Se],Se,E):D[Se],R>0&&si(z))se=Hs(v,E,z,ur(z.length),se,R-1)-1;else{if(se>=9007199254740991)throw TypeError("Exceed the acceptable array length");v[se]=z}se++}Se++}return se},Ca=Hs,oi=function(v){return Object(Qe(v))},Ea="__core-js_shared__",yt=G[Ea]||function(v,E){try{Mn(G,v,E)}catch(D){G[v]=E}return E}(Ea,{}),dr=q(function(v){(v.exports=function(E,D){return yt[E]||(yt[E]=void 0!==D?D:{})})("versions",[]).push({version:"3.7.0",mode:"pure",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),ou=0,$n=Math.random(),hr=function(v){return"Symbol("+String(void 0===v?"":v)+")_"+(++ou+$n).toString(36)},jr=!!Object.getOwnPropertySymbols&&!$(function(){return!String(Symbol())}),fr=jr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,mi=dr("wks"),_s=G.Symbol,Bo=fr?_s:_s&&_s.withoutSetter||hr,en=function(v){return oe(mi,v)||(mi[v]=jr&&oe(_s,v)?_s[v]:Bo("Symbol."+v)),mi[v]},Wn=en("species"),Nt=function(v,E){var D;return si(v)&&("function"!=typeof(D=v.constructor)||D!==Array&&!si(D.prototype)?xe(D)&&null===(D=D[Wn])&&(D=void 0):D=void 0),new(void 0===D?Array:D)(0===E?0:E)};Lt({target:"Array",proto:!0},{flatMap:function(v){var E,D=oi(this),x=ur(D.length);return Kt(v),(E=Nt(D,0)).length=Ca(E,D,D,x,0,1,v,arguments.length>1?arguments[1]:void 0),E}});var Rt,Vo,Vt=function(v){return Te[v+"Prototype"]},We=Vt("Array").flatMap,xt=Array.prototype,wt=[].push,Gt=function(v){var E=1==v,D=2==v,x=3==v,A=4==v,R=6==v,B=5==v||R;return function(V,z,se,Se){for(var Ce,rt,ht=oi(V),Tt=je(ht),It=mt(z,se,3),gt=ur(Tt.length),vt=0,ot=Se||Nt,pn=E?ot(V,gt):D?ot(V,0):void 0;gt>vt;vt++)if((B||vt in Tt)&&(rt=It(Ce=Tt[vt],vt,ht),v))if(E)pn[vt]=rt;else if(rt)switch(v){case 3:return!0;case 5:return Ce;case 6:return vt;case 2:wt.call(pn,Ce)}else if(A)return!1;return R?-1:x||A?A:pn}},wn={forEach:Gt(0),map:Gt(1),filter:Gt(2),some:Gt(3),every:Gt(4),find:Gt(5),findIndex:Gt(6)},on=function(v){return"function"==typeof v?v:void 0},Nn=function(v,E){return arguments.length<2?on(Te[v])||on(G[v]):Te[v]&&Te[v][E]||G[v]&&G[v][E]},Ci=Nn("navigator","userAgent")||"",kn=G.process,ei=kn&&kn.versions,Hr=ei&&ei.v8;Hr?Vo=(Rt=Hr.split("."))[0]+Rt[1]:Ci&&(!(Rt=Ci.match(/Edge\/(\d+)/))||Rt[1]>=74)&&(Rt=Ci.match(/Chrome\/(\d+)/))&&(Vo=Rt[1]);var Ei=Vo&&+Vo,ll=en("species"),ns=function(v){return Ei>=51||!$(function(){var E=[];return(E.constructor={})[ll]=function(){return{foo:1}},1!==E[v](Boolean).foo})},jo=Object.defineProperty,au={},cl=function(v){throw v},ys=function(v,E){if(oe(au,v))return au[v];E||(E={});var D=[][v],x=!!oe(E,"ACCESSORS")&&E.ACCESSORS,A=oe(E,0)?E[0]:cl,R=oe(E,1)?E[1]:void 0;return au[v]=!!D&&!$(function(){if(x&&!X)return!0;var B={length:-1};x?jo(B,1,{enumerable:!0,get:cl}):B[1]=1,D.call(B,A,R)})},Od=wn.map,ic=ns("map"),Id=ys("map");Lt({target:"Array",proto:!0,forced:!ic||!Id},{map:function(v){return Od(this,v,arguments.length>1?arguments[1]:void 0)}});var Di=Vt("Array").map,bs=Array.prototype,ai=function(v){var E=v.map;return v===bs||v instanceof Array&&E===bs.map?Di:E},Zi=wn.filter,ul=ns("filter"),zr=ys("filter");Lt({target:"Array",proto:!0,forced:!ul||!zr},{filter:function(v){return Zi(this,v,arguments.length>1?arguments[1]:void 0)}});var pt=Vt("Array").filter,Jt=Array.prototype,qt=function(v){var E=v.filter;return v===Jt||v instanceof Array&&E===Jt.filter?pt:E},Ki=function(v){return function(E,D,x,A){Kt(D);var R=oi(E),B=je(R),V=ur(R.length),z=v?V-1:0,se=v?-1:1;if(x<2)for(;;){if(z in B){A=B[z],z+=se;break}if(z+=se,v?z<0:V<=z)throw TypeError("Reduce of empty array with no initial value")}for(;v?z>=0:V>z;z+=se)z in B&&(A=D(A,B[z],z,R));return A}},zs={left:Ki(!1),right:Ki(!0)},Gn=function(v,E){var D=[][v];return!!D&&$(function(){D.call(null,E||function(){throw 1},1)})},Us="process"==fe(G.process),Yn=zs.left,Ho=Gn("reduce"),Da=ys("reduce",{1:0});Lt({target:"Array",proto:!0,forced:!Ho||!Da||!Us&&Ei>79&&Ei<83},{reduce:function(v){return Yn(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Xt=Vt("Array").reduce,dl=Array.prototype,vs=function(v){var E=v.reduce;return v===dl||v instanceof Array&&E===dl.reduce?Xt:E},zo=[].slice,$s={},pr=function(v,E,D){if(!(E in $s)){for(var x=[],A=0;A<E;A++)x[A]="a["+A+"]";$s[E]=Function("C,a","return new C("+x.join(",")+")")}return $s[E](v,D)},hl=Function.bind||function(v){var E=Kt(this),D=zo.call(arguments,1),x=function(){var A=D.concat(zo.call(arguments));return this instanceof x?pr(E,A.length,A):E.apply(v,A)};return xe(E.prototype)&&(x.prototype=E.prototype),x};Lt({target:"Function",proto:!0},{bind:hl});var ie=Vt("Function").bind,Be=Function.prototype,ge=function(v){var E=v.bind;return v===Be||v instanceof Function&&E===Be.bind?ie:E},Ne=function(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")};Lt({target:"Object",stat:!0,forced:!X,sham:!X},{defineProperty:At.f});var Ke=q(function(v){var E=Te.Object,D=v.exports=function(x,A,R){return E.defineProperty(x,A,R)};E.defineProperty.sham&&(D.sham=!0)}),lt=Ke;function an(v,E){for(var D=0;D<E.length;D++){var x=E[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),lt(v,x.key,x)}}var Zt=function(v,E,D){return E&&an(v.prototype,E),D&&an(v,D),v},Pn=function(){function v(E,D,x){var A,R,B;Ne(this,v),this._source=E,this._transformers=D,this._target=x,this._listeners={add:ge(A=this._add).call(A,this),remove:ge(R=this._remove).call(R,this),update:ge(B=this._update).call(B,this)}}return Zt(v,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(E){var D;return vs(D=this._transformers).call(D,function(x,A){return A(x)},E)}},{key:"_add",value:function(E,D){null!=D&&this._target.add(this._transformItems(this._source.get(D.items)))}},{key:"_update",value:function(E,D){null!=D&&this._target.update(this._transformItems(this._source.get(D.items)))}},{key:"_remove",value:function(E,D){null!=D&&this._target.remove(this._transformItems(D.oldData))}}]),v}(),_i=function(){function v(E){Ne(this,v),this._source=E,this._transformers=[]}return Zt(v,[{key:"filter",value:function(E){return this._transformers.push(function(D){return qt(D).call(D,E)}),this}},{key:"map",value:function(E){return this._transformers.push(function(D){return ai(D).call(D,E)}),this}},{key:"flatMap",value:function(E){return this._transformers.push(function(D){return function(v){var E=v.flatMap;return v===xt||v instanceof Array&&E===xt.flatMap?We:E}(D).call(D,E)}),this}},{key:"to",value:function(E){return new Pn(this._source,this._transformers,E)}}]),v}(),Yt=Ke,xr=Math.max,ws=Math.min,ki=function(v,E){var D=ts(v);return D<0?xr(D+E,0):ws(D,E)},rc=function(v){return function(E,D,x){var A,R=ve(E),B=ur(R.length),V=ki(x,B);if(v&&D!=D){for(;B>V;)if((A=R[V++])!=A)return!0}else for(;B>V;V++)if((v||V in R)&&R[V]===D)return v||V||0;return!v&&-1}},fl={includes:rc(!0),indexOf:rc(!1)},Uo={},Ws=fl.indexOf,Cs=function(v,E){var D,x=ve(v),A=0,R=[];for(D in x)!oe(Uo,D)&&oe(x,D)&&R.push(D);for(;E.length>A;)oe(x,D=E[A++])&&(~Ws(R,D)||R.push(D));return R},vm=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pi=Object.keys||function(v){return Cs(v,vm)},wm=X?Object.defineProperties:function(v,E){Et(v);for(var D,x=Pi(E),A=x.length,R=0;A>R;)At.f(v,D=x[R++],E[D]);return v};Lt({target:"Object",stat:!0,forced:!X,sham:!X},{defineProperties:wm});var Uw=q(function(v){var E=Te.Object,D=v.exports=function(x,A){return E.defineProperties(x,A)};E.defineProperties.sham&&(D.sham=!0)}),$w=vm.concat("length","prototype"),Cm={f:Object.getOwnPropertyNames||function(v){return Cs(v,$w)}},sc={f:Object.getOwnPropertySymbols},Pb=Nn("Reflect","ownKeys")||function(v){var E=Cm.f(Et(v)),D=sc.f;return D?E.concat(D(v)):E},oc=function(v,E,D){var x=be(E);x in v?At.f(v,x,he(0,D)):v[x]=D};Lt({target:"Object",stat:!0,sham:!X},{getOwnPropertyDescriptors:function(v){for(var E,D,x=ve(v),A=Ee.f,R=Pb(x),B={},V=0;R.length>V;)void 0!==(D=A(x,E=R[V++]))&&oc(B,E,D);return B}});var Rb=Te.Object.getOwnPropertyDescriptors,Fb=Ee.f,Ww=$(function(){Fb(1)});Lt({target:"Object",stat:!0,forced:!X||Ww,sham:!X},{getOwnPropertyDescriptor:function(v,E){return Fb(ve(v),E)}});var Em,Lb=q(function(v){var E=Te.Object,D=v.exports=function(x,A){return E.getOwnPropertyDescriptor(x,A)};E.getOwnPropertyDescriptor.sham&&(D.sham=!0)}),Gw=Nn("document","documentElement"),Bb=dr("keys"),Wf=function(v){return Bb[v]||(Bb[v]=hr(v))},Gf=Wf("IE_PROTO"),ac=function(){},Vb=function(v){return"<script>"+v+"<\/script>"},Nd=function(){try{Em=document.domain&&new ActiveXObject("htmlfile")}catch(x){}var v,E;Nd=Em?function(x){x.write(Vb("")),x.close();var A=x.parentWindow.Object;return x=null,A}(Em):((E=Re("iframe")).style.display="none",Gw.appendChild(E),E.src=String("javascript:"),(v=E.contentWindow.document).open(),v.write(Vb("document.F=Object")),v.close(),v.F);for(var D=vm.length;D--;)delete Nd.prototype[vm[D]];return Nd()};Uo[Gf]=!0;var xa=Object.create||function(v,E){var D;return null!==v?(ac.prototype=Et(v),D=new ac,ac.prototype=null,D[Gf]=v):D=Nd(),void 0===E?D:wm(D,E)},wo=Cm.f,kd={}.toString,Pd="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Dm={f:function(v){return Pd&&"[object Window]"==kd.call(v)?function(E){try{return wo(E)}catch(D){return Pd.slice()}}(v):wo(ve(v))}},Ji=function(v,E,D,x){x&&x.enumerable?v[E]=D:Mn(v,E,D)},Rd={f:en},xm=At.f,xi=function(v){var E=Te.Symbol||(Te.Symbol={});oe(E,v)||xm(E,v,{value:Rd.f(v)})},Tm={};Tm[en("toStringTag")]="z";var lu="[object z]"===String(Tm),Yw=en("toStringTag"),Gs="Arguments"==fe(function(){return arguments}()),Ta=lu?fe:function(v){var E,D,x;return void 0===v?"Undefined":null===v?"Null":"string"==typeof(D=function(A,R){try{return A[R]}catch(B){}}(E=Object(v),Yw))?D:Gs?fe(E):"Object"==(x=fe(E))&&"function"==typeof E.callee?"Arguments":x},jb=lu?{}.toString:function(){return"[object "+Ta(this)+"]"},Fd=At.f,Mm=en("toStringTag"),Ma=function(v,E,D,x){if(v){var A=D?v:v.prototype;oe(A,Mm)||Fd(A,Mm,{configurable:!0,value:E}),x&&!lu&&Mn(A,"toString",jb)}},qw=Function.toString;"function"!=typeof yt.inspectSource&&(yt.inspectSource=function(v){return qw.call(v)});var qn,cu,uu,Bn=G.WeakMap;if("function"==typeof Bn&&/native code/.test((0,yt.inspectSource)(Bn))){var $o=yt.state||(yt.state=new(0,G.WeakMap)),is=$o.get,zb=$o.has,Zf=$o.set;qn=function(v,E){return E.facade=v,Zf.call($o,v,E),E},cu=function(v){return is.call($o,v)||{}},uu=function(v){return zb.call($o,v)}}else{var Es=Wf("state");Uo[Es]=!0,qn=function(v,E){return E.facade=v,Mn(v,Es,E),E},cu=function(v){return oe(v,Es)?v[Es]:{}},uu=function(v){return oe(v,Es)}}var li={set:qn,get:cu,has:uu,enforce:function(v){return uu(v)?cu(v):qn(v,{})},getterFor:function(v){return function(E){var D;if(!xe(E)||(D=cu(E)).type!==v)throw TypeError("Incompatible receiver, "+v+" required");return D}}},du=wn.forEach,gr=Wf("hidden"),Kf="Symbol",Sa=en("toPrimitive"),hu=li.set,Jf=li.getterFor(Kf),kt=Object.prototype,Ds=G.Symbol,fu=Nn("JSON","stringify"),Xf=Ee.f,Aa=At.f,Qf=Dm.f,Ub=Z.f,Oa=dr("symbols"),Ye=dr("op-symbols"),nn=dr("string-to-symbol-registry"),pl=dr("symbol-to-string-registry"),yi=dr("wks"),pu=G.QObject,Ys=!pu||!pu.prototype||!pu.prototype.findChild,rs=X&&$(function(){return 7!=xa(Aa({},"a",{get:function(){return Aa(this,"a",{value:7}).a}})).a})?function(v,E,D){var x=Xf(kt,E);x&&delete kt[E],Aa(v,E,D),x&&v!==kt&&Aa(kt,E,x)}:Aa,gl=function(v,E){var D=Oa[v]=xa(Ds.prototype);return hu(D,{type:Kf,tag:v,description:E}),X||(D.description=E),D},ml=fr?function(v){return"symbol"==typeof v}:function(v){return Object(v)instanceof Ds},Ld=function(v,E,D){v===kt&&Ld(Ye,E,D),Et(v);var x=be(E,!0);return Et(D),oe(Oa,x)?(D.enumerable?(oe(v,gr)&&v[gr][x]&&(v[gr][x]=!1),D=xa(D,{enumerable:he(0,!1)})):(oe(v,gr)||Aa(v,gr,he(1,{})),v[gr][x]=!0),rs(v,x,D)):Aa(v,x,D)},ep=function(v,E){Et(v);var D=ve(E),x=Pi(D).concat(xs(D));return du(x,function(A){X&&!gu.call(D,A)||Ld(v,A,D[A])}),v},gu=function(v){var E=be(v,!0),D=Ub.call(this,E);return!(this===kt&&oe(Oa,E)&&!oe(Ye,E))&&(!(D||!oe(this,E)||!oe(Oa,E)||oe(this,gr)&&this[gr][E])||D)},mu=function(v,E){var D=ve(v),x=be(E,!0);if(D!==kt||!oe(Oa,x)||oe(Ye,x)){var A=Xf(D,x);return!A||!oe(Oa,x)||oe(D,gr)&&D[gr][x]||(A.enumerable=!0),A}},mr=function(v){var E=Qf(ve(v)),D=[];return du(E,function(x){oe(Oa,x)||oe(Uo,x)||D.push(x)}),D},xs=function(v){var E=v===kt,D=Qf(E?Ye:ve(v)),x=[];return du(D,function(A){!oe(Oa,A)||E&&!oe(kt,A)||x.push(Oa[A])}),x};if(jr||(Ji((Ds=function(){if(this instanceof Ds)throw TypeError("Symbol is not a constructor");var v=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,E=hr(v),D=function(x){this===kt&&D.call(Ye,x),oe(this,gr)&&oe(this[gr],E)&&(this[gr][E]=!1),rs(this,E,he(1,x))};return X&&Ys&&rs(kt,E,{configurable:!0,set:D}),gl(E,v)}).prototype,"toString",function(){return Jf(this).tag}),Ji(Ds,"withoutSetter",function(v){return gl(hr(v),v)}),Z.f=gu,At.f=Ld,Ee.f=mu,Cm.f=Dm.f=mr,sc.f=xs,Rd.f=function(v){return gl(en(v),v)},X&&Aa(Ds.prototype,"description",{configurable:!0,get:function(){return Jf(this).description}})),Lt({global:!0,wrap:!0,forced:!jr,sham:!jr},{Symbol:Ds}),du(Pi(yi),function(v){xi(v)}),Lt({target:Kf,stat:!0,forced:!jr},{for:function(v){var E=String(v);if(oe(nn,E))return nn[E];var D=Ds(E);return nn[E]=D,pl[D]=E,D},keyFor:function(v){if(!ml(v))throw TypeError(v+" is not a symbol");if(oe(pl,v))return pl[v]},useSetter:function(){Ys=!0},useSimple:function(){Ys=!1}}),Lt({target:"Object",stat:!0,forced:!jr,sham:!X},{create:function(v,E){return void 0===E?xa(v):ep(xa(v),E)},defineProperty:Ld,defineProperties:ep,getOwnPropertyDescriptor:mu}),Lt({target:"Object",stat:!0,forced:!jr},{getOwnPropertyNames:mr,getOwnPropertySymbols:xs}),Lt({target:"Object",stat:!0,forced:$(function(){sc.f(1)})},{getOwnPropertySymbols:function(v){return sc.f(oi(v))}}),fu){var _u=!jr||$(function(){var v=Ds();return"[null]"!=fu([v])||"{}"!=fu({a:v})||"{}"!=fu(Object(v))});Lt({target:"JSON",stat:!0,forced:_u},{stringify:function(v,E,D){for(var x,A=[v],R=1;arguments.length>R;)A.push(arguments[R++]);if(x=E,(xe(E)||void 0!==v)&&!ml(v))return si(E)||(E=function(B,V){if("function"==typeof x&&(V=x.call(this,B,V)),!ml(V))return V}),A[1]=E,fu.apply(null,A)}})}Ds.prototype[Sa]||Mn(Ds.prototype,Sa,Ds.prototype.valueOf),Ma(Ds,Kf),Uo[gr]=!0;var Co,Wo,Bd,yu=Te.Object.getOwnPropertySymbols,Go={},Sm=!$(function(){function v(){}return v.prototype.constructor=null,Object.getPrototypeOf(new v)!==v.prototype}),bu=Wf("IE_PROTO"),tp=Object.prototype,lc=Sm?Object.getPrototypeOf:function(v){return v=oi(v),oe(v,bu)?v[bu]:"function"==typeof v.constructor&&v instanceof v.constructor?v.constructor.prototype:v instanceof Object?tp:null},Vd=(en("iterator"),!1);[].keys&&("next"in(Bd=[].keys())?(Wo=lc(lc(Bd)))!==Object.prototype&&(Co=Wo):Vd=!0),null==Co&&(Co={});var np={IteratorPrototype:Co,BUGGY_SAFARI_ITERATORS:Vd},jd=np.IteratorPrototype,vu=function(){return this},Am=Object.setPrototypeOf||("__proto__"in{}?function(){var v,E=!1,D={};try{(v=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(D,[]),E=D instanceof Array}catch(x){}return function(x,A){return Et(x),function(R){if(!xe(R)&&null!==R)throw TypeError("Can't set "+String(R)+" as a prototype")}(A),E?v.call(x,A):x.__proto__=A,x}}():void 0),Om=np.IteratorPrototype,wu=np.BUGGY_SAFARI_ITERATORS,ip=en("iterator"),rp="values",sp="entries",Tr=function(){return this},Eo=function(v,E,D,x,A,R,B){var vt,yn;yn=E+" Iterator",(vt=D).prototype=xa(jd,{next:he(1,x)}),Ma(vt,yn,!1,!0),Go[yn]=vu;var V,z,se,Se=function(vt){if(vt===A&&It)return It;if(!wu&&vt in ht)return ht[vt];switch(vt){case"keys":case rp:case sp:return function(){return new D(this,vt)}}return function(){return new D(this)}},Ce=E+" Iterator",rt=!1,ht=v.prototype,Tt=ht[ip]||ht["@@iterator"]||A&&ht[A],It=!wu&&Tt||Se(A),gt="Array"==E&&ht.entries||Tt;if(gt&&(V=lc(gt.call(new v)),Om!==Object.prototype&&V.next&&(Ma(V,Ce,!0,!0),Go[Ce]=Tr)),A==rp&&Tt&&Tt.name!==rp&&(rt=!0,It=function(){return Tt.call(this)}),B&&ht[ip]!==It&&Mn(ht,ip,It),Go[E]=It,A)if(z={values:Se(rp),keys:R?It:Se("keys"),entries:Se(sp)},B)for(se in z)(wu||rt||!(se in ht))&&Ji(ht,se,z[se]);else Lt({target:E,proto:!0,forced:wu||rt},z);return z},Zn="Array Iterator",Zw=li.set,Kw=li.getterFor(Zn);Eo(Array,"Array",function(v,E){Zw(this,{type:Zn,target:ve(v),index:0,kind:E})},function(){var v=Kw(this),E=v.target,D=v.kind,x=v.index++;return!E||x>=E.length?(v.target=void 0,{value:void 0,done:!0}):"keys"==D?{value:x,done:!1}:"values"==D?{value:E[x],done:!1}:{value:[x,E[x]],done:!1}},"values"),Go.Arguments=Go.Array;var $b=en("toStringTag");for(var Im in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Nm=G[Im],op=Nm&&Nm.prototype;op&&Ta(op)!==$b&&Mn(op,$b,Im),Go[Im]=Go.Array}var Eu=function(v){return function(E,D){var x,A,R=String(Qe(E)),B=ts(D),V=R.length;return B<0||B>=V?v?"":void 0:(x=R.charCodeAt(B))<55296||x>56319||B+1===V||(A=R.charCodeAt(B+1))<56320||A>57343?v?R.charAt(B):x:v?R.slice(B,B+2):A-56320+(x-55296<<10)+65536}},_l=(Eu(!1),Eu(!0)),Du="String Iterator",xu=li.set,km=li.getterFor(Du);Eo(String,"String",function(v){xu(this,{type:Du,string:String(v),index:0})},function(){var v,E=km(this),D=E.string,x=E.index;return x>=D.length?{value:void 0,done:!0}:(v=_l(D,x),E.index+=v.length,{value:v,done:!1})});var Wb=en("iterator"),qs=function(v){if(null!=v)return v[Wb]||v["@@iterator"]||Go[Ta(v)]},Ts=function(v){var E=qs(v);if("function"!=typeof E)throw TypeError(String(v)+" is not iterable");return Et(E.call(v))},Hd=qs,Pm=function(v){var E=v.return;if(void 0!==E)return Et(E.call(v)).value},zd=function(v,E,D,x){try{return x?E(Et(D)[0],D[1]):E(D)}catch(A){throw Pm(v),A}},ap=en("iterator"),Gb=Array.prototype,Rm=function(v){return void 0!==v&&(Go.Array===v||Gb[ap]===v)},Yb=en("iterator"),Jw=!1;try{var Ud=0,Fm={next:function(){return{done:!!Ud++}},return:function(){Jw=!0}};Fm[Yb]=function(){return this},Array.from(Fm,function(){throw 2})}catch(v){}var Lm=!function(v,E){if(!Jw)return!1;var D=!1;try{var x={};x[Yb]=function(){return{next:function(){return{done:D=!0}}}},function(v){Array.from(v)}(x)}catch(A){}return D}();Lt({target:"Array",stat:!0,forced:Lm},{from:function(v){var E,D,x,A,R,B,V=oi(v),z="function"==typeof this?this:Array,se=arguments.length,Se=se>1?arguments[1]:void 0,Ce=void 0!==Se,rt=qs(V),ht=0;if(Ce&&(Se=mt(Se,se>2?arguments[2]:void 0,2)),null==rt||z==Array&&Rm(rt))for(D=new z(E=ur(V.length));E>ht;ht++)B=Ce?Se(V[ht],ht):V[ht],oc(D,ht,B);else for(R=(A=rt.call(V)).next,D=new z;!(x=R.call(A)).done;ht++)B=Ce?zd(A,Se,[x.value,ht],!0):x.value,oc(D,ht,B);return D.length=ht,D}});var Tu=Te.Array.from,Ms=Tu;Lt({target:"Array",proto:!0},{fill:function(v){for(var E=oi(this),D=ur(E.length),x=arguments.length,A=ki(x>1?arguments[1]:void 0,D),R=x>2?arguments[2]:void 0,B=void 0===R?D:ki(R,D);B>A;)E[A++]=v;return E}}),Vt("Array");var Bm=[].slice,cc=/MSIE .\./.test(Ci),$d=function(v){return function(E,D){var x=arguments.length>2,A=x?Bm.call(arguments,2):void 0;return v(x?function(){("function"==typeof E?E:Function(E)).apply(this,A)}:E,D)}};Lt({global:!0,bind:!0,forced:cc},{setTimeout:$d(G.setTimeout),setInterval:$d(G.setInterval)});var yl=Te.setTimeout,Mu=Nn("JSON","stringify"),lp=/[\uD800-\uDFFF]/g,Xw=/^[\uD800-\uDBFF]$/,cp=/^[\uDC00-\uDFFF]$/,qb=function(v,E,D){var x=D.charAt(E-1),A=D.charAt(E+1);return Xw.test(v)&&!cp.test(A)||cp.test(v)&&!Xw.test(x)?"\\u"+v.charCodeAt(0).toString(16):v},Zb=$(function(){return'"\\udf06\\ud834"'!==Mu("\udf06\ud834")||'"\\udead"'!==Mu("\udead")});Mu&&Lt({target:"JSON",stat:!0,forced:Zb},{stringify:function(v,E,D){var x=Mu.apply(null,arguments);return"string"==typeof x?x.replace(lp,qb):x}}),Te.JSON||(Te.JSON={stringify:JSON.stringify});Lt({target:"Object",stat:!0,sham:!X},{create:xa});var bl,Wd=Te.Object,up=function(v,E){return Wd.create(v,E)},dp=up,Ot=function(v,E,D){return E in v?lt(v,E,{value:D,enumerable:!0,configurable:!0,writable:!0}):v[E]=D,v},Vn="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",Do="["+Vn+"]",jn=RegExp("^"+Do+Do+"*"),Wt=RegExp(Do+Do+"*$"),Su=function(v){return function(E){var D=String(Qe(E));return 1&v&&(D=D.replace(jn,"")),2&v&&(D=D.replace(Wt,"")),D}},hp={start:Su(1),end:Su(2),trim:Su(3)},Yo=hp.trim;Lt({target:"String",proto:!0,forced:(bl="trim",$(function(){return!!Vn[bl]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[bl]()||Vn[bl].name!==bl}))},{trim:function(){return Yo(this)}}),Vt("String");var Gd=fl.indexOf,uc=[].indexOf,Vm=!!uc&&1/[1].indexOf(1,-0)<0,jm=Gn("indexOf"),fp=ys("indexOf",{ACCESSORS:!0,1:0});Lt({target:"Array",proto:!0,forced:Vm||!jm||!fp},{indexOf:function(v){return Vm?uc.apply(this,arguments)||0:Gd(this,v,arguments.length>1?arguments[1]:void 0)}}),Vt("Array");var vl=hp.trim,Ss=G.parseInt,Hm=/^[+-]?0[Xx]/,Yd=8!==Ss(Vn+"08")||22!==Ss(Vn+"0x16")?function(v,E){var D=vl(String(v));return Ss(D,E>>>0||(Hm.test(D)?16:10))}:Ss;Lt({global:!0,forced:parseInt!=Yd},{parseInt:Yd});var dc=Z.f,Ia=function(v){return function(E){for(var D,x=ve(E),A=Pi(x),R=A.length,B=0,V=[];R>B;)D=A[B++],X&&!dc.call(x,D)||V.push(v?[D,x[D]]:x[D]);return V}},wl=(Ia(!0),Ia(!1));Lt({target:"Object",stat:!0},{values:function(v){return wl(v)}});var hc=$(function(){lc(1)});Lt({target:"Object",stat:!0,forced:hc,sham:!Sm},{getPrototypeOf:function(v){return lc(oi(v))}});var pp=Te.Object.getPrototypeOf,Zs=fl.includes,Ri=ys("indexOf",{ACCESSORS:!0,1:0});Lt({target:"Array",proto:!0,forced:!Ri},{includes:function(v){return Zs(this,v,arguments.length>1?arguments[1]:void 0)}}),Vt("Array");var zm=en("match"),gp=function(v){if(xe(E=v)&&(void 0!==(D=E[zm])?D:"RegExp"==fe(E)))throw TypeError("The method doesn't accept regular expressions");var E,D;return v},mp=en("match");Lt({target:"String",proto:!0,forced:!function(v){var E=/./;try{"/./"[v](E)}catch(D){try{return E[mp]=!1,"/./"[v](E)}catch(x){}}return!1}("includes")},{includes:function(v){return!!~String(Qe(this)).indexOf(gp(v),arguments.length>1?arguments[1]:void 0)}}),Vt("String");var Cl=Object.assign,Hn=Object.defineProperty,qd=!Cl||$(function(){if(X&&1!==Cl({b:1},Cl(Hn({},"a",{enumerable:!0,get:function(){Hn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var v={},E={},D=Symbol(),x="abcdefghijklmnopqrst";return v[D]=7,x.split("").forEach(function(A){E[A]=A}),7!=Cl({},v)[D]||Pi(Cl({},E)).join("")!=x})?function(v,E){for(var D=oi(v),x=arguments.length,A=1,R=sc.f,B=Z.f;x>A;)for(var V,z=je(arguments[A++]),se=R?Pi(z).concat(R(z)):Pi(z),Se=se.length,Ce=0;Se>Ce;)V=se[Ce++],X&&!B.call(z,V)||(D[V]=z[V]);return D}:Cl;Lt({target:"Object",stat:!0,forced:Object.assign!==qd},{assign:qd});var Zd=Te.Object.assign,Kb=ns("splice"),eC=ys("splice",{ACCESSORS:!0,0:0,1:2}),_M=Math.max,yM=Math.min,bM=9007199254740991,vM="Maximum allowed length exceeded";Lt({target:"Array",proto:!0,forced:!Kb||!eC},{splice:function(v,E){var D,x,A,R,B,V,z=oi(this),se=ur(z.length),Se=ki(v,se),Ce=arguments.length;if(0===Ce?D=x=0:1===Ce?(D=0,x=se-Se):(D=Ce-2,x=yM(_M(ts(E),0),se-Se)),se+D-x>bM)throw TypeError(vM);for(A=Nt(z,x),R=0;R<x;R++)(B=Se+R)in z&&oc(A,R,z[B]);if(A.length=x,D<x){for(R=Se;R<se-x;R++)V=R+D,(B=R+x)in z?z[V]=z[B]:delete z[V];for(R=se;R>se-x+D;R--)delete z[R-1]}else if(D>x)for(R=se-x;R>Se;R--)V=R+D-1,(B=R+x-1)in z?z[V]=z[B]:delete z[V];for(R=0;R<D;R++)z[R+Se]=arguments[R+2];return z.length=se-x+D,A}});var wM=Vt("Array").splice,tC=Array.prototype,nC=function(v){var E=v.splice;return v===tC||v instanceof Array&&E===tC.splice?wM:E},Au=[].reverse,Jb=[1,2];Lt({target:"Array",proto:!0,forced:String(Jb)===String(Jb.reverse())},{reverse:function(){return si(this)&&(this.length=this.length),Au.call(this)}});var Ti=Vt("Array").reverse,El=Array.prototype,Xb=wn.forEach,Qb=Gn("forEach"),Ur=ys("forEach"),Ks=Qb&&Ur?[].forEach:function(v){return Xb(this,v,arguments.length>1?arguments[1]:void 0)};Lt({target:"Array",proto:!0,forced:[].forEach!=Ks},{forEach:Ks});var _p=Vt("Array").forEach,Dl=Array.prototype,Na={DOMTokenList:!0,NodeList:!0},qo=function(v){var E=v.forEach;return v===Dl||v instanceof Array&&E===Dl.forEach||Na.hasOwnProperty(Ta(v))?_p:E};Lt({target:"Array",stat:!0},{isArray:si});var e0=Te.Array.isArray,t0=e0,Fi=en("iterator"),yp=function(v){var E=Object(v);return void 0!==E[Fi]||"@@iterator"in E||Go.hasOwnProperty(Ta(E))},$r=en("isConcatSpreadable"),Kd=9007199254740991,xl="Maximum allowed index exceeded",n0=Ei>=51||!$(function(){var v=[];return v[$r]=!1,v.concat()[0]!==v}),Um=ns("concat"),Ou=function(v){if(!xe(v))return!1;var E=v[$r];return void 0!==E?!!E:si(v)};Lt({target:"Array",proto:!0,forced:!n0||!Um},{concat:function(v){var E,D,x,A,R,B=oi(this),V=Nt(B,0),z=0;for(E=-1,x=arguments.length;E<x;E++)if(Ou(R=-1===E?B:arguments[E])){if(z+(A=ur(R.length))>Kd)throw TypeError(xl);for(D=0;D<A;D++,z++)D in R&&oc(V,z,R[D])}else{if(z>=Kd)throw TypeError(xl);oc(V,z++,R)}return V.length=z,V}}),xi("asyncIterator"),xi("hasInstance"),xi("isConcatSpreadable"),xi("iterator"),xi("match"),xi("matchAll"),xi("replace"),xi("search"),xi("species"),xi("split"),xi("toPrimitive"),xi("toStringTag"),xi("unscopables"),Ma(G.JSON,"JSON",!0);var $m=Te.Symbol;xi("asyncDispose"),xi("dispose"),xi("observable"),xi("patternMatch"),xi("replaceAll");var pc=$m,Tl=Tu,gc=ns("slice"),Li=ys("slice",{ACCESSORS:!0,0:0,1:2}),Jd=en("species"),Wm=[].slice,Iu=Math.max;Lt({target:"Array",proto:!0,forced:!gc||!Li},{slice:function(v,E){var D,x,A,R=ve(this),B=ur(R.length),V=ki(v,B),z=ki(void 0===E?B:E,B);if(si(R)&&("function"!=typeof(D=R.constructor)||D!==Array&&!si(D.prototype)?xe(D)&&null===(D=D[Jd])&&(D=void 0):D=void 0,D===Array||void 0===D))return Wm.call(R,V,z);for(x=new(void 0===D?Array:D)(Iu(z-V,0)),A=0;V<z;V++,A++)V in R&&oc(x,A,R[V]);return x.length=A,x}});var Xd=Vt("Array").slice,Ml=Array.prototype,Nu=function(v){var E=v.slice;return v===Ml||v instanceof Array&&E===Ml.slice?Xd:E},Qd=Nu,vp=function(v,E){(null==E||E>v.length)&&(E=v.length);for(var D=0,x=new Array(E);D<E;D++)x[D]=v[D];return x},ka=function(v,E){var D;if(v){if("string"==typeof v)return vp(v,E);var x=Qd(D=Object.prototype.toString.call(v)).call(D,8,-1);return"Object"===x&&v.constructor&&(x=v.constructor.name),"Map"===x||"Set"===x?Tl(v):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?vp(v,E):void 0}},Xi=function(v,E){return function(v){if(t0(v))return v}(v)||function(v,E){if(void 0!==pc&&yp(Object(v))){var D=[],x=!0,A=!1,R=void 0;try{for(var B,V=Ts(v);!(x=(B=V.next()).done)&&(D.push(B.value),!E||D.length!==E);x=!0);}catch(z){A=!0,R=z}finally{try{x||null==V.return||V.return()}finally{if(A)throw R}}return D}}(v,E)||ka(v,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()};Lt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var ss=$(function(){Pi(1)});Lt({target:"Object",stat:!0,forced:ss},{keys:function(v){return Pi(oi(v))}});var As=Te.Object.keys,Sn=e0,ci=Rd.f("iterator"),Gm=ci,ln=q(function(v){function E(D){return v.exports=E="function"==typeof pc&&"symbol"==typeof Gm?function(x){return typeof x}:function(x){return x&&"function"==typeof pc&&x.constructor===pc&&x!==pc.prototype?"symbol":typeof x},E(D)}v.exports=E});Lt({target:"Reflect",stat:!0},{ownKeys:Pb});var Qi=Te.Reflect.ownKeys,An=Nu,_r=function(v){return function(v){if(t0(v))return vp(v)}(v)||function(v){if(void 0!==pc&&yp(Object(v)))return Tl(v)}(v)||ka(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},Sl=Vt("Array").concat,xo=Array.prototype,Ko=function(v){var E=v.concat;return v===xo||v instanceof Array&&E===xo.concat?Sl:E},Os=$m,mc=q(function(v){function E(D){if(D)return function(x){for(var A in E.prototype)x[A]=E.prototype[A];return x}(D)}v.exports=E,E.prototype.on=E.prototype.addEventListener=function(D,x){return this._callbacks=this._callbacks||{},(this._callbacks["$"+D]=this._callbacks["$"+D]||[]).push(x),this},E.prototype.once=function(D,x){function A(){this.off(D,A),x.apply(this,arguments)}return A.fn=x,this.on(D,A),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(D,x){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var A,R=this._callbacks["$"+D];if(!R)return this;if(1==arguments.length)return delete this._callbacks["$"+D],this;for(var B=0;B<R.length;B++)if((A=R[B])===x||A.fn===x){R.splice(B,1);break}return 0===R.length&&delete this._callbacks["$"+D],this},E.prototype.emit=function(D){this._callbacks=this._callbacks||{};for(var x=new Array(arguments.length-1),A=this._callbacks["$"+D],R=1;R<arguments.length;R++)x[R-1]=arguments[R];if(A){R=0;for(var B=(A=A.slice(0)).length;R<B;++R)A[R].apply(this,x)}return this},E.prototype.listeners=function(D){return this._callbacks=this._callbacks||{},this._callbacks["$"+D]||[]},E.prototype.hasListeners=function(D){return!!this.listeners(D).length}});function En(){return(En=Object.assign||function(v){for(var E=1;E<arguments.length;E++){var D=arguments[E];for(var x in D)Object.prototype.hasOwnProperty.call(D,x)&&(v[x]=D[x])}return v}).apply(this,arguments)}function ti(v,E){v.prototype=Object.create(E.prototype),v.prototype.constructor=v,v.__proto__=E}function ni(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}var Jo,Sr="function"!=typeof Object.assign?function(v){if(null==v)throw new TypeError("Cannot convert undefined or null to object");for(var E=Object(v),D=1;D<arguments.length;D++){var x=arguments[D];if(null!=x)for(var A in x)x.hasOwnProperty(A)&&(E[A]=x[A])}return E}:Object.assign,th=["","webkit","Moz","MS","ms","o"],To="undefined"==typeof document?{style:{}}:document.createElement("div"),Js=Math.round,Al=Math.abs,Ym=Date.now;function ku(v,E){for(var D,x,A=E[0].toUpperCase()+E.slice(1),R=0;R<th.length;){if((x=(D=th[R])?D+A:E)in v)return x;R++}}Jo="undefined"==typeof window?{}:window;var qm=ku(To.style,"touchAction"),i0=void 0!==qm,Zm="compute",nh="manipulation",Xo="none",_c="pan-x",Qo="pan-y",ih=function(){if(!i0)return!1;var v={},E=Jo.CSS&&Jo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(D){return v[D]=!E||Jo.CSS.supports("touch-action",D)}),v}(),Ep="ontouchstart"in Jo,cn=void 0!==ku(Jo,"PointerEvent"),rh=Ep&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Is="touch",Pu="mouse",Fa=["x","y"],sh=["clientX","clientY"];function Hi(v,E,D){var x;if(v)if(v.forEach)v.forEach(E,D);else if(void 0!==v.length)for(x=0;x<v.length;)E.call(D,v[x],x,v),x++;else for(x in v)v.hasOwnProperty(x)&&E.call(D,v[x],x,v)}function Fu(v,E){return"function"==typeof v?v.apply(E&&E[0]||void 0,E):v}function La(v,E){return v.indexOf(E)>-1}var Dp=function(){function v(D,x){this.manager=D,this.set(x)}var E=v.prototype;return E.set=function(D){D===Zm&&(D=this.compute()),i0&&this.manager.element.style&&ih[D]&&(this.manager.element.style[qm]=D),this.actions=D.toLowerCase().trim()},E.update=function(){this.set(this.manager.options.touchAction)},E.compute=function(){var D=[];return Hi(this.manager.recognizers,function(x){Fu(x.options.enable,[x])&&(D=D.concat(x.getTouchAction()))}),function(x){if(La(x,Xo))return Xo;var A=La(x,_c),R=La(x,Qo);return A&&R?Xo:A||R?A?_c:Qo:La(x,nh)?nh:"auto"}(D.join(" "))},E.preventDefaults=function(D){var x=D.srcEvent,A=D.offsetDirection;if(this.manager.session.prevented)x.preventDefault();else{var R=this.actions,B=La(R,Xo)&&!ih.none,V=La(R,Qo)&&!ih["pan-y"],z=La(R,_c)&&!ih["pan-x"];if(B&&1===D.pointers.length&&D.distance<2&&D.deltaTime<250)return;if(!z||!V)return B||V&&6&A||z&&24&A?this.preventSrc(x):void 0}},E.preventSrc=function(D){this.manager.session.prevented=!0,D.preventDefault()},v}();function Mo(v,E){for(;v;){if(v===E)return!0;v=v.parentNode}return!1}function ii(v){var E=v.length;if(1===E)return{x:Js(v[0].clientX),y:Js(v[0].clientY)};for(var D=0,x=0,A=0;A<E;)D+=v[A].clientX,x+=v[A].clientY,A++;return{x:Js(D/E),y:Js(x/E)}}function Ns(v){for(var E=[],D=0;D<v.pointers.length;)E[D]={clientX:Js(v.pointers[D].clientX),clientY:Js(v.pointers[D].clientY)},D++;return{timeStamp:Ym(),pointers:E,center:ii(E),deltaX:v.deltaX,deltaY:v.deltaY}}function oh(v,E,D){D||(D=Fa);var x=E[D[0]]-v[D[0]],A=E[D[1]]-v[D[1]];return Math.sqrt(x*x+A*A)}function xp(v,E,D){return D||(D=Fa),180*Math.atan2(E[D[1]]-v[D[1]],E[D[0]]-v[D[0]])/Math.PI}function Tp(v,E){return v===E?1:Al(v)>=Al(E)?v<0?2:4:E<0?8:16}function Mp(v,E,D){return{x:E/v||0,y:D/v||0}}function Sp(v,E,D){var x=D.pointers.length,A=D.changedPointers.length,R=1&E&&x-A==0,B=12&E&&x-A==0;D.isFirst=!!R,D.isFinal=!!B,R&&(v.session={}),D.eventType=E,function(v,E){var D=v.session,x=E.pointers,A=x.length;D.firstInput||(D.firstInput=Ns(E)),A>1&&!D.firstMultiple?D.firstMultiple=Ns(E):1===A&&(D.firstMultiple=!1);var It,gt,vt,ot,pn,yn,R=D.firstInput,B=D.firstMultiple,V=B?B.center:R.center,z=E.center=ii(x);E.timeStamp=Ym(),E.deltaTime=E.timeStamp-R.timeStamp,E.angle=xp(V,z),E.distance=oh(V,z),vt=(gt=E).center,ot=(It=D).offsetDelta||{},pn=It.prevDelta||{},yn=It.prevInput||{},1!==gt.eventType&&4!==yn.eventType||(pn=It.prevDelta={x:yn.deltaX||0,y:yn.deltaY||0},ot=It.offsetDelta={x:vt.x,y:vt.y}),gt.deltaX=pn.x+(vt.x-ot.x),gt.deltaY=pn.y+(vt.y-ot.y),E.offsetDirection=Tp(E.deltaX,E.deltaY);var se,Se,Ce=Mp(E.deltaTime,E.deltaX,E.deltaY);E.overallVelocityX=Ce.x,E.overallVelocityY=Ce.y,E.overallVelocity=Al(Ce.x)>Al(Ce.y)?Ce.x:Ce.y,E.scale=B?(se=B.pointers,oh((Se=x)[0],Se[1],sh)/oh(se[0],se[1],sh)):1,E.rotation=B?function(It,gt){return xp(gt[1],gt[0],sh)+xp(It[1],It[0],sh)}(B.pointers,x):0,E.maxPointers=D.prevInput?E.pointers.length>D.prevInput.maxPointers?E.pointers.length:D.prevInput.maxPointers:E.pointers.length,function(It,gt){var vt,ot,pn,yn,bn=It.lastInterval||gt,bi=gt.timeStamp-bn.timeStamp;if(8!==gt.eventType&&(bi>25||void 0===bn.velocity)){var us=gt.deltaX-bn.deltaX,Bi=gt.deltaY-bn.deltaY,Ar=Mp(bi,us,Bi);ot=Ar.x,pn=Ar.y,vt=Al(Ar.x)>Al(Ar.y)?Ar.x:Ar.y,yn=Tp(us,Bi),It.lastInterval=gt}else vt=bn.velocity,ot=bn.velocityX,pn=bn.velocityY,yn=bn.direction;gt.velocity=vt,gt.velocityX=ot,gt.velocityY=pn,gt.direction=yn}(D,E);var rt,ht=v.element,Tt=E.srcEvent;Mo(rt=Tt.composedPath?Tt.composedPath()[0]:Tt.path?Tt.path[0]:Tt.target,ht)&&(ht=rt),E.target=ht}(v,D),v.emit("hammer.input",D),v.recognize(D),v.session.prevInput=D}function Lu(v){return v.trim().split(/\s+/g)}function yc(v,E,D){Hi(Lu(E),function(x){v.addEventListener(x,D,!1)})}function bc(v,E,D){Hi(Lu(E),function(x){v.removeEventListener(x,D,!1)})}function Bu(v){var E=v.ownerDocument||v;return E.defaultView||E.parentWindow||window}var Xs=function(){function v(D,x){var A=this;this.manager=D,this.callback=x,this.element=D.element,this.target=D.options.inputTarget,this.domHandler=function(R){Fu(D.options.enable,[D])&&A.handler(R)},this.init()}var E=v.prototype;return E.handler=function(){},E.init=function(){this.evEl&&yc(this.element,this.evEl,this.domHandler),this.evTarget&&yc(this.target,this.evTarget,this.domHandler),this.evWin&&yc(Bu(this.element),this.evWin,this.domHandler)},E.destroy=function(){this.evEl&&bc(this.element,this.evEl,this.domHandler),this.evTarget&&bc(this.target,this.evTarget,this.domHandler),this.evWin&&bc(Bu(this.element),this.evWin,this.domHandler)},v}();function tn(v,E,D){if(v.indexOf&&!D)return v.indexOf(E);for(var x=0;x<v.length;){if(D&&v[x][D]==E||!D&&v[x]===E)return x;x++}return-1}var ea={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Km={2:Is,3:"pen",4:Pu,5:"kinect"},er="pointerdown",vc="pointermove pointerup pointercancel";Jo.MSPointerEvent&&!Jo.PointerEvent&&(er="MSPointerDown",vc="MSPointerMove MSPointerUp MSPointerCancel");var Vu=function(v){function E(){var D,x=E.prototype;return x.evEl=er,x.evWin=vc,(D=v.apply(this,arguments)||this).store=D.manager.session.pointerEvents=[],D}return ti(E,v),E.prototype.handler=function(D){var x=this.store,A=!1,R=D.type.toLowerCase().replace("ms",""),B=ea[R],V=Km[D.pointerType]||D.pointerType,z=V===Is,se=tn(x,D.pointerId,"pointerId");1&B&&(0===D.button||z)?se<0&&(x.push(D),se=x.length-1):12&B&&(A=!0),se<0||(x[se]=D,this.callback(this.manager,B,{pointers:x,changedPointers:[D],pointerType:V,srcEvent:D}),A&&x.splice(se,1))},E}(Xs);function Ol(v){return Array.prototype.slice.call(v,0)}function ah(v,E,D){for(var x=[],A=[],R=0;R<v.length;){var B=E?v[R][E]:v[R];tn(A,B)<0&&x.push(v[R]),A[R]=B,R++}return D&&(x=E?x.sort(function(V,z){return V[E]>z[E]}):x.sort()),x}var Ap={touchstart:1,touchmove:2,touchend:4,touchcancel:8},lh="touchstart touchmove touchend touchcancel",Op=function(v){function E(){var D;return E.prototype.evTarget=lh,(D=v.apply(this,arguments)||this).targetIds={},D}return ti(E,v),E.prototype.handler=function(D){var x=Ap[D.type],A=wc.call(this,D,x);A&&this.callback(this.manager,x,{pointers:A[0],changedPointers:A[1],pointerType:Is,srcEvent:D})},E}(Xs);function wc(v,E){var D,x,A=Ol(v.touches),R=this.targetIds;if(3&E&&1===A.length)return R[A[0].identifier]=!0,[A,A];var B=Ol(v.changedTouches),V=[],z=this.target;if(x=A.filter(function(se){return Mo(se.target,z)}),1===E)for(D=0;D<x.length;)R[x[D].identifier]=!0,D++;for(D=0;D<B.length;)R[B[D].identifier]&&V.push(B[D]),12&E&&delete R[B[D].identifier],D++;return V.length?[ah(x.concat(V),"identifier",!0),V]:void 0}var Ip={mousedown:1,mousemove:2,mouseup:4},ju="mousedown",Np="mousemove mouseup",kp=function(v){function E(){var D,x=E.prototype;return x.evEl=ju,x.evWin=Np,(D=v.apply(this,arguments)||this).pressed=!1,D}return ti(E,v),E.prototype.handler=function(D){var x=Ip[D.type];1&x&&0===D.button&&(this.pressed=!0),2&x&&1!==D.which&&(x=4),this.pressed&&(4&x&&(this.pressed=!1),this.callback(this.manager,x,{pointers:[D],changedPointers:[D],pointerType:Pu,srcEvent:D}))},E}(Xs);function ch(v){var E=v.changedPointers[0];if(E.identifier===this.primaryTouch){var D={x:E.clientX,y:E.clientY},x=this.lastTouches;this.lastTouches.push(D),setTimeout(function(){var A=x.indexOf(D);A>-1&&x.splice(A,1)},2500)}}function s0(v,E){1&v?(this.primaryTouch=E.changedPointers[0].identifier,ch.call(this,E)):12&v&&ch.call(this,E)}function o0(v){for(var E=v.srcEvent.clientX,D=v.srcEvent.clientY,x=0;x<this.lastTouches.length;x++){var A=this.lastTouches[x],R=Math.abs(E-A.x),B=Math.abs(D-A.y);if(R<=25&&B<=25)return!0}return!1}var Jm=function(v){function E(D,x){var A;return(A=v.call(this,D,x)||this).handler=function(R,B,V){var se=V.pointerType===Pu;if(!(se&&V.sourceCapabilities&&V.sourceCapabilities.firesTouchEvents)){if(V.pointerType===Is)s0.call(ni(ni(A)),B,V);else if(se&&o0.call(ni(ni(A)),V))return;A.callback(R,B,V)}},A.touch=new Op(A.manager,A.handler),A.mouse=new kp(A.manager,A.handler),A.primaryTouch=null,A.lastTouches=[],A}return ti(E,v),E.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},E}(Xs);function ta(v,E,D){return!!Array.isArray(v)&&(Hi(v,D[E],D),!0)}var uh=1;function Hu(v,E){var D=E.manager;return D?D.get(v):v}function dh(v){return 16&v?"cancel":8&v?"end":4&v?"move":2&v?"start":""}var zu=function(){function v(D){void 0===D&&(D={}),this.options=En({enable:!0},D),this.id=uh++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var E=v.prototype;return E.set=function(D){return Sr(this.options,D),this.manager&&this.manager.touchAction.update(),this},E.recognizeWith=function(D){if(ta(D,"recognizeWith",this))return this;var x=this.simultaneous;return x[(D=Hu(D,this)).id]||(x[D.id]=D,D.recognizeWith(this)),this},E.dropRecognizeWith=function(D){return ta(D,"dropRecognizeWith",this)||(D=Hu(D,this),delete this.simultaneous[D.id]),this},E.requireFailure=function(D){if(ta(D,"requireFailure",this))return this;var x=this.requireFail;return-1===tn(x,D=Hu(D,this))&&(x.push(D),D.requireFailure(this)),this},E.dropRequireFailure=function(D){if(ta(D,"dropRequireFailure",this))return this;D=Hu(D,this);var x=tn(this.requireFail,D);return x>-1&&this.requireFail.splice(x,1),this},E.hasRequireFailures=function(){return this.requireFail.length>0},E.canRecognizeWith=function(D){return!!this.simultaneous[D.id]},E.emit=function(D){var x=this,A=this.state;function R(B){x.manager.emit(B,D)}A<8&&R(x.options.event+dh(A)),R(x.options.event),D.additionalEvent&&R(D.additionalEvent),A>=8&&R(x.options.event+dh(A))},E.tryEmit=function(D){if(this.canEmit())return this.emit(D);this.state=32},E.canEmit=function(){for(var D=0;D<this.requireFail.length;){if(!(33&this.requireFail[D].state))return!1;D++}return!0},E.recognize=function(D){var x=Sr({},D);if(!Fu(this.options.enable,[this,x]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(x),30&this.state&&this.tryEmit(x)},E.process=function(D){},E.getTouchAction=function(){},E.reset=function(){},v}(),zn=function(v){function E(x){var A;return void 0===x&&(x={}),(A=v.call(this,En({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},x))||this).pTime=!1,A.pCenter=!1,A._timer=null,A._input=null,A.count=0,A}ti(E,v);var D=E.prototype;return D.getTouchAction=function(){return[nh]},D.process=function(x){var A=this,R=this.options,B=x.pointers.length===R.pointers,V=x.distance<R.threshold,z=x.deltaTime<R.time;if(this.reset(),1&x.eventType&&0===this.count)return this.failTimeout();if(V&&z&&B){if(4!==x.eventType)return this.failTimeout();var se=!this.pTime||x.timeStamp-this.pTime<R.interval,Se=!this.pCenter||oh(this.pCenter,x.center)<R.posThreshold;if(this.pTime=x.timeStamp,this.pCenter=x.center,Se&&se?this.count+=1:this.count=1,this._input=x,this.count%R.taps==0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){A.state=8,A.tryEmit()},R.interval),2):8}return 32},D.failTimeout=function(){var x=this;return this._timer=setTimeout(function(){x.state=32},this.options.interval),32},D.reset=function(){clearTimeout(this._timer)},D.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},E}(zu),Ba=function(v){function E(x){return void 0===x&&(x={}),v.call(this,En({pointers:1},x))||this}ti(E,v);var D=E.prototype;return D.attrTest=function(x){var A=this.options.pointers;return 0===A||x.pointers.length===A},D.process=function(x){var A=this.state,R=x.eventType,B=6&A,V=this.attrTest(x);return B&&(8&R||!V)?16|A:B||V?4&R?8|A:2&A?4|A:2:32},E}(zu);function hh(v){return 16===v?"down":8===v?"up":2===v?"left":4===v?"right":""}var os=function(v){function E(x){var A;return void 0===x&&(x={}),(A=v.call(this,En({event:"pan",threshold:10,pointers:1,direction:30},x))||this).pX=null,A.pY=null,A}ti(E,v);var D=E.prototype;return D.getTouchAction=function(){var x=this.options.direction,A=[];return 6&x&&A.push(Qo),24&x&&A.push(_c),A},D.directionTest=function(x){var A=this.options,R=!0,B=x.distance,V=x.direction,z=x.deltaX,se=x.deltaY;return V&A.direction||(6&A.direction?(V=0===z?1:z<0?2:4,R=z!==this.pX,B=Math.abs(x.deltaX)):(V=0===se?1:se<0?8:16,R=se!==this.pY,B=Math.abs(x.deltaY))),x.direction=V,R&&B>A.threshold&&V&A.direction},D.attrTest=function(x){return Ba.prototype.attrTest.call(this,x)&&(2&this.state||!(2&this.state)&&this.directionTest(x))},D.emit=function(x){this.pX=x.deltaX,this.pY=x.deltaY;var A=hh(x.direction);A&&(x.additionalEvent=this.options.event+A),v.prototype.emit.call(this,x)},E}(Ba),Il=function(v){function E(x){return void 0===x&&(x={}),v.call(this,En({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},x))||this}ti(E,v);var D=E.prototype;return D.getTouchAction=function(){return os.prototype.getTouchAction.call(this)},D.attrTest=function(x){var A,R=this.options.direction;return 30&R?A=x.overallVelocity:6&R?A=x.overallVelocityX:24&R&&(A=x.overallVelocityY),v.prototype.attrTest.call(this,x)&&R&x.offsetDirection&&x.distance>this.options.threshold&&x.maxPointers===this.options.pointers&&Al(A)>this.options.velocity&&4&x.eventType},D.emit=function(x){var A=hh(x.offsetDirection);A&&this.manager.emit(this.options.event+A,x),this.manager.emit(this.options.event,x)},E}(Ba),Pp=function(v){function E(x){return void 0===x&&(x={}),v.call(this,En({event:"pinch",threshold:0,pointers:2},x))||this}ti(E,v);var D=E.prototype;return D.getTouchAction=function(){return[Xo]},D.attrTest=function(x){return v.prototype.attrTest.call(this,x)&&(Math.abs(x.scale-1)>this.options.threshold||2&this.state)},D.emit=function(x){1!==x.scale&&(x.additionalEvent=this.options.event+(x.scale<1?"in":"out")),v.prototype.emit.call(this,x)},E}(Ba),Rp=function(v){function E(x){return void 0===x&&(x={}),v.call(this,En({event:"rotate",threshold:0,pointers:2},x))||this}ti(E,v);var D=E.prototype;return D.getTouchAction=function(){return[Xo]},D.attrTest=function(x){return v.prototype.attrTest.call(this,x)&&(Math.abs(x.rotation)>this.options.threshold||2&this.state)},E}(Ba),Xm=function(v){function E(x){var A;return void 0===x&&(x={}),(A=v.call(this,En({event:"press",pointers:1,time:251,threshold:9},x))||this)._timer=null,A._input=null,A}ti(E,v);var D=E.prototype;return D.getTouchAction=function(){return["auto"]},D.process=function(x){var A=this,R=this.options,B=x.pointers.length===R.pointers,V=x.distance<R.threshold,z=x.deltaTime>R.time;if(this._input=x,!V||!B||12&x.eventType&&!z)this.reset();else if(1&x.eventType)this.reset(),this._timer=setTimeout(function(){A.state=8,A.tryEmit()},R.time);else if(4&x.eventType)return 8;return 32},D.reset=function(){clearTimeout(this._timer)},D.emit=function(x){8===this.state&&(x&&4&x.eventType?this.manager.emit(this.options.event+"up",x):(this._input.timeStamp=Ym(),this.manager.emit(this.options.event,this._input)))},E}(zu),Va={domEvents:!1,touchAction:Zm,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Fp=[[Rp,{enable:!1}],[Pp,{enable:!1},["rotate"]],[Il,{direction:6}],[os,{direction:6},["swipe"]],[zn],[zn,{event:"doubletap",taps:2},["tap"]],[Xm]];function a0(v,E){var D,x=v.element;x.style&&(Hi(v.options.cssProps,function(A,R){D=ku(x.style,R),E?(v.oldCssProps[D]=x.style[D],x.style[D]=A):x.style[D]=v.oldCssProps[D]||""}),E||(v.oldCssProps={}))}var fh=function(){function v(D,x){var R=this;this.options=Sr({},Va,x||{}),this.options.inputTarget=this.options.inputTarget||D,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=D,this.input=new(this.options.inputClass||(cn?Vu:rh?Op:Ep?Jm:kp))(this,Sp),this.touchAction=new Dp(this,this.options.touchAction),a0(this,!0),Hi(this.options.recognizers,function(B){var V=R.add(new B[0](B[1]));B[2]&&V.recognizeWith(B[2]),B[3]&&V.requireFailure(B[3])},this)}var E=v.prototype;return E.set=function(D){return Sr(this.options,D),D.touchAction&&this.touchAction.update(),D.inputTarget&&(this.input.destroy(),this.input.target=D.inputTarget,this.input.init()),this},E.stop=function(D){this.session.stopped=D?2:1},E.recognize=function(D){var x=this.session;if(!x.stopped){var A;this.touchAction.preventDefaults(D);var R=this.recognizers,B=x.curRecognizer;(!B||B&&8&B.state)&&(x.curRecognizer=null,B=null);for(var V=0;V<R.length;)A=R[V],2===x.stopped||B&&A!==B&&!A.canRecognizeWith(B)?A.reset():A.recognize(D),!B&&14&A.state&&(x.curRecognizer=A,B=A),V++}},E.get=function(D){if(D instanceof zu)return D;for(var x=this.recognizers,A=0;A<x.length;A++)if(x[A].options.event===D)return x[A];return null},E.add=function(D){if(ta(D,"add",this))return this;var x=this.get(D.options.event);return x&&this.remove(x),this.recognizers.push(D),D.manager=this,this.touchAction.update(),D},E.remove=function(D){if(ta(D,"remove",this))return this;var x=this.get(D);if(D){var A=this.recognizers,R=tn(A,x);-1!==R&&(A.splice(R,1),this.touchAction.update())}return this},E.on=function(D,x){if(void 0===D||void 0===x)return this;var A=this.handlers;return Hi(Lu(D),function(R){A[R]=A[R]||[],A[R].push(x)}),this},E.off=function(D,x){if(void 0===D)return this;var A=this.handlers;return Hi(Lu(D),function(R){x?A[R]&&A[R].splice(tn(A[R],x),1):delete A[R]}),this},E.emit=function(D,x){var B,V,z;this.options.domEvents&&(B=D,V=x,(z=document.createEvent("Event")).initEvent(B,!0,!0),z.gesture=V,V.target.dispatchEvent(z));var A=this.handlers[D]&&this.handlers[D].slice();if(A&&A.length){x.type=D,x.preventDefault=function(){x.srcEvent.preventDefault()};for(var R=0;R<A.length;)A[R](x),R++}},E.destroy=function(){this.element&&a0(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},v}(),Cc={touchstart:1,touchmove:2,touchend:4,touchcancel:8},tr="touchstart",ph="touchstart touchmove touchend touchcancel",gh=function(v){function E(){var D,x=E.prototype;return x.evTarget=tr,x.evWin=ph,(D=v.apply(this,arguments)||this).started=!1,D}return ti(E,v),E.prototype.handler=function(D){var x=Cc[D.type];if(1===x&&(this.started=!0),this.started){var A=mh.call(this,D,x);12&x&&A[0].length-A[1].length==0&&(this.started=!1),this.callback(this.manager,x,{pointers:A[0],changedPointers:A[1],pointerType:Is,srcEvent:D})}},E}(Xs);function mh(v,E){var D=Ol(v.touches),x=Ol(v.changedTouches);return 12&E&&(D=ah(D.concat(x),"identifier",!0)),[D,x]}function nr(v,E,D){var x="DEPRECATED METHOD: "+E+"\n"+D+" AT \n";return function(){var A=new Error("get-stack-trace"),R=A&&A.stack?A.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",B=window.console&&(window.console.warn||window.console.log);return B&&B.call(window.console,x,R),v.apply(this,arguments)}}var ia=nr(function(v,E,D){for(var x=Object.keys(E),A=0;A<x.length;)(!D||D&&void 0===v[x[A]])&&(v[x[A]]=E[x[A]]),A++;return v},"extend","Use `assign`."),_h=nr(function(v,E){return ia(v,E,!0)},"merge","Use `assign`.");function Qm(v,E){return function(){return v.apply(E,arguments)}}var v,e_=((v=function(E,D){return void 0===D&&(D={}),new fh(E,En({recognizers:Fp.concat()},D))}).VERSION="2.0.17-rc",v.DIRECTION_ALL=30,v.DIRECTION_DOWN=16,v.DIRECTION_LEFT=2,v.DIRECTION_RIGHT=4,v.DIRECTION_UP=8,v.DIRECTION_HORIZONTAL=6,v.DIRECTION_VERTICAL=24,v.DIRECTION_NONE=1,v.DIRECTION_DOWN=16,v.INPUT_START=1,v.INPUT_MOVE=2,v.INPUT_END=4,v.INPUT_CANCEL=8,v.STATE_POSSIBLE=1,v.STATE_BEGAN=2,v.STATE_CHANGED=4,v.STATE_ENDED=8,v.STATE_RECOGNIZED=8,v.STATE_CANCELLED=16,v.STATE_FAILED=32,v.Manager=fh,v.Input=Xs,v.TouchAction=Dp,v.TouchInput=Op,v.MouseInput=kp,v.PointerEventInput=Vu,v.TouchMouseInput=Jm,v.SingleTouchInput=gh,v.Recognizer=zu,v.AttrRecognizer=Ba,v.Tap=zn,v.Pan=os,v.Swipe=Il,v.Pinch=Pp,v.Rotate=Rp,v.Press=Xm,v.on=yc,v.off=bc,v.each=Hi,v.merge=_h,v.extend=ia,v.bindFn=Qm,v.assign=Sr,v.inherit=function(v,E,D){var x,A=E.prototype;(x=v.prototype=Object.create(A)).constructor=v,x._super=A,D&&Sr(x,D)},v.bindFn=Qm,v.prefixed=ku,v.toArray=Ol,v.inArray=tn,v.uniqueArray=ah,v.splitStr=Lu,v.boolOrFn=Fu,v.hasParent=Mo,v.addEventListeners=yc,v.removeEventListeners=bc,v.defaults=Sr({},Va,{preset:Fp}),v);function Uu(v,E){var D;if(void 0===Os||null==Hd(v)){if(Sn(v)||(D=function(z,se){var Se;if(z){if("string"==typeof z)return Nl(z,undefined);var Ce=An(Se=Object.prototype.toString.call(z)).call(Se,8,-1);if("Object"===Ce&&z.constructor&&(Ce=z.constructor.name),"Map"===Ce||"Set"===Ce)return Ms(z);if("Arguments"===Ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return Nl(z,undefined)}}(v))||E&&v&&"number"==typeof v.length){D&&(v=D);var x=0,A=function(){};return{s:A,n:function(){return x>=v.length?{done:!0}:{done:!1,value:v[x++]}},e:function(z){throw z},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,B=!0,V=!1;return{s:function(){D=Ts(v)},n:function(){var z=D.next();return B=z.done,z},e:function(z){V=!0,R=z},f:function(){try{B||null==D.return||D.return()}finally{if(V)throw R}}}}function Nl(v,E){(null==E||E>v.length)&&(E=v.length);for(var D=0,x=new Array(E);D<E;D++)x[D]=v[D];return x}var $u=Os("DELETE");function yh(){var v=Wu.apply(void 0,arguments);return bh(v),v}function Wu(){for(var v=arguments.length,E=new Array(v),D=0;D<v;D++)E[D]=arguments[D];if(E.length<2)return E[0];var x;if(E.length>2)return Wu.apply(void 0,Ko(x=[yh(E[0],E[1])]).call(x,_r(An(E).call(E,2))));var A,R=E[0],B=E[1],V=Uu(Qi(B));try{for(V.s();!(A=V.n()).done;){var z=A.value;Object.prototype.propertyIsEnumerable.call(B,z)&&(B[z]===$u?delete R[z]:R[z]=null===R[z]||null===B[z]||"object"!==ln(R[z])||"object"!==ln(B[z])||Sn(R[z])||Sn(B[z])?t_(B[z]):Wu(R[z],B[z]))}}catch(se){V.e(se)}finally{V.f()}return R}function t_(v){return Sn(v)?ai(v).call(v,function(E){return t_(E)}):"object"===ln(v)&&null!==v?Wu({},v):v}function bh(v){for(var E=0,D=As(v);E<D.length;E++){var x=D[E];v[x]===$u?delete v[x]:"object"===ln(v[x])&&null!==v[x]&&bh(v[x])}}var n_="undefined"!=typeof window?window.Hammer||e_:function(){return{on:v=function(){},off:v,destroy:v,emit:v,get:function(){return{set:v}}};var v};function Qs(v){var E,D=this;this._cleanupQueue=[],this.active=!1,this._dom={container:v,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(function(){D._dom.overlay.parentNode.removeChild(D._dom.overlay)});var x=n_(this._dom.overlay);x.on("tap",ge(E=this._onTapOverlay).call(E,this)),this._cleanupQueue.push(function(){x.destroy()});var A=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];qo(A).call(A,function(R){x.on(R,function(B){B.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=function(R){(function(B,V){for(;B;){if(B===V)return!0;B=B.parentNode}return!1})(R.target,v)||D.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(function(){document.body.removeEventListener("click",D._onClick)})),this._escListener=function(R){("key"in R?"Escape"===R.key:27===R.keyCode)&&D.deactivate()}}mc(Qs.prototype),Qs.current=null,Qs.prototype.destroy=function(){var v,E;this.deactivate();var D,x=Uu(function(v){var E=v.reverse;return v===El||v instanceof Array&&E===El.reverse?Ti:E}(v=nC(E=this._cleanupQueue).call(E,0)).call(v));try{for(x.s();!(D=x.n()).done;)(0,D.value)()}catch(A){x.e(A)}finally{x.f()}},Qs.prototype.activate=function(){Qs.current&&Qs.current.deactivate(),Qs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Qs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Qs.prototype._onTapOverlay=function(v){this.activate(),v.srcEvent.stopPropagation()};var vh=Nn("Reflect","construct"),Lp=$(function(){function v(){}return!(vh(function(){},[],v)instanceof v)}),wh=!$(function(){vh(function(){})}),Bp=Lp||wh;Lt({target:"Reflect",stat:!0,forced:Bp,sham:Bp},{construct:function(v,E){Kt(v),Et(E);var D=arguments.length<3?v:Kt(arguments[2]);if(wh&&!Lp)return vh(v,E,D);if(v==D){switch(E.length){case 0:return new v;case 1:return new v(E[0]);case 2:return new v(E[0],E[1]);case 3:return new v(E[0],E[1],E[2]);case 4:return new v(E[0],E[1],E[2],E[3])}var x=[null];return x.push.apply(x,E),new(hl.apply(v,x))}var A=D.prototype,R=xa(xe(A)?A:Object.prototype),B=Function.apply.call(v,R,E);return xe(B)?B:R}});var as=Te.Reflect.construct,c0=Vt("Array").entries,Vp=Array.prototype,kl={DOMTokenList:!0,NodeList:!0},Wr=q(function(v){var E=function(D){var x,A=Object.prototype,R=A.hasOwnProperty,B="function"==typeof Symbol?Symbol:{},V=B.iterator||"@@iterator",z=B.asyncIterator||"@@asyncIterator",se=B.toStringTag||"@@toStringTag";function Se(tt,et,jt){return Object.defineProperty(tt,et,{value:jt,enumerable:!0,configurable:!0,writable:!0}),tt[et]}try{Se({},"")}catch(tt){Se=function(et,jt,rn){return et[jt]=rn}}function Ce(tt,et,jt,rn){var Oo,Io,Rn,Gr,rr=Object.create((et&&et.prototype instanceof ot?et:ot).prototype),sr=new Nh(rn||[]);return rr._invoke=(Oo=tt,Io=jt,Rn=sr,Gr=ht,function(io,kh){if(Gr===It)throw new Error("Generator is already running");if(Gr===gt){if("throw"===io)throw kh;return Vl()}for(Rn.method=io,Rn.arg=kh;;){var Ph=Rn.delegate;if(Ph){var __=Oc(Ph,Rn);if(__){if(__===vt)continue;return __}}if("next"===Rn.method)Rn.sent=Rn._sent=Rn.arg;else if("throw"===Rn.method){if(Gr===ht)throw Gr=gt,Rn.arg;Rn.dispatchException(Rn.arg)}else"return"===Rn.method&&Rn.abrupt("return",Rn.arg);Gr=It;var Ju=rt(Oo,Io,Rn);if("normal"===Ju.type){if(Gr=Rn.done?gt:Tt,Ju.arg===vt)continue;return{value:Ju.arg,done:Rn.done}}"throw"===Ju.type&&(Gr=gt,Rn.method="throw",Rn.arg=Ju.arg)}}),rr}function rt(tt,et,jt){try{return{type:"normal",arg:tt.call(et,jt)}}catch(rn){return{type:"throw",arg:rn}}}D.wrap=Ce;var ht="suspendedStart",Tt="suspendedYield",It="executing",gt="completed",vt={};function ot(){}function pn(){}function yn(){}var bn={};bn[V]=function(){return this};var bi=Object.getPrototypeOf,us=bi&&bi(bi(Qp([])));us&&us!==A&&R.call(us,V)&&(bn=us);var Bi=yn.prototype=ot.prototype=Object.create(bn);function Ar(tt){["next","throw","return"].forEach(function(et){Se(tt,et,function(jt){return this._invoke(et,jt)})})}function Mi(tt,et){function jt(Ht,rr,sr,Oo){var Io=rt(tt[Ht],tt,rr);if("throw"!==Io.type){var Rn=Io.arg,Gr=Rn.value;return Gr&&"object"==typeof Gr&&R.call(Gr,"__await")?et.resolve(Gr.__await).then(function(io){jt("next",io,sr,Oo)},function(io){jt("throw",io,sr,Oo)}):et.resolve(Gr).then(function(io){Rn.value=io,sr(Rn)},function(io){return jt("throw",io,sr,Oo)})}Oo(Io.arg)}var rn;this._invoke=function(Ht,rr){function sr(){return new et(function(Oo,Io){jt(Ht,rr,Oo,Io)})}return rn=rn?rn.then(sr,sr):sr()}}function Oc(tt,et){var jt=tt.iterator[et.method];if(jt===x){if(et.delegate=null,"throw"===et.method){if(tt.iterator.return&&(et.method="return",et.arg=x,Oc(tt,et),"throw"===et.method))return vt;et.method="throw",et.arg=new TypeError("The iterator does not provide a 'throw' method")}return vt}var rn=rt(jt,tt.iterator,et.arg);if("throw"===rn.type)return et.method="throw",et.arg=rn.arg,et.delegate=null,vt;var Ht=rn.arg;return Ht?Ht.done?(et[tt.resultName]=Ht.value,et.next=tt.nextLoc,"return"!==et.method&&(et.method="next",et.arg=x),et.delegate=null,vt):Ht:(et.method="throw",et.arg=new TypeError("iterator result is not an object"),et.delegate=null,vt)}function Ku(tt){var et={tryLoc:tt[0]};1 in tt&&(et.catchLoc=tt[1]),2 in tt&&(et.finallyLoc=tt[2],et.afterLoc=tt[3]),this.tryEntries.push(et)}function aa(tt){var et=tt.completion||{};et.type="normal",delete et.arg,tt.completion=et}function Nh(tt){this.tryEntries=[{tryLoc:"root"}],tt.forEach(Ku,this),this.reset(!0)}function Qp(tt){if(tt){var et=tt[V];if(et)return et.call(tt);if("function"==typeof tt.next)return tt;if(!isNaN(tt.length)){var jt=-1,rn=function Ht(){for(;++jt<tt.length;)if(R.call(tt,jt))return Ht.value=tt[jt],Ht.done=!1,Ht;return Ht.value=x,Ht.done=!0,Ht};return rn.next=rn}}return{next:Vl}}function Vl(){return{value:x,done:!0}}return pn.prototype=Bi.constructor=yn,yn.constructor=pn,pn.displayName=Se(yn,se,"GeneratorFunction"),D.isGeneratorFunction=function(tt){var et="function"==typeof tt&&tt.constructor;return!!et&&(et===pn||"GeneratorFunction"===(et.displayName||et.name))},D.mark=function(tt){return Object.setPrototypeOf?Object.setPrototypeOf(tt,yn):(tt.__proto__=yn,Se(tt,se,"GeneratorFunction")),tt.prototype=Object.create(Bi),tt},D.awrap=function(tt){return{__await:tt}},Ar(Mi.prototype),Mi.prototype[z]=function(){return this},D.AsyncIterator=Mi,D.async=function(tt,et,jt,rn,Ht){void 0===Ht&&(Ht=Promise);var rr=new Mi(Ce(tt,et,jt,rn),Ht);return D.isGeneratorFunction(et)?rr:rr.next().then(function(sr){return sr.done?sr.value:rr.next()})},Ar(Bi),Se(Bi,se,"Generator"),Bi[V]=function(){return this},Bi.toString=function(){return"[object Generator]"},D.keys=function(tt){var et=[];for(var jt in tt)et.push(jt);return et.reverse(),function rn(){for(;et.length;){var Ht=et.pop();if(Ht in tt)return rn.value=Ht,rn.done=!1,rn}return rn.done=!0,rn}},D.values=Qp,Nh.prototype={constructor:Nh,reset:function(tt){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(aa),!tt)for(var et in this)"t"===et.charAt(0)&&R.call(this,et)&&!isNaN(+et.slice(1))&&(this[et]=x)},stop:function(){this.done=!0;var tt=this.tryEntries[0].completion;if("throw"===tt.type)throw tt.arg;return this.rval},dispatchException:function(tt){if(this.done)throw tt;var et=this;function jt(Io,Rn){return rr.type="throw",rr.arg=tt,et.next=Io,Rn&&(et.method="next",et.arg=x),!!Rn}for(var rn=this.tryEntries.length-1;rn>=0;--rn){var Ht=this.tryEntries[rn],rr=Ht.completion;if("root"===Ht.tryLoc)return jt("end");if(Ht.tryLoc<=this.prev){var sr=R.call(Ht,"catchLoc"),Oo=R.call(Ht,"finallyLoc");if(sr&&Oo){if(this.prev<Ht.catchLoc)return jt(Ht.catchLoc,!0);if(this.prev<Ht.finallyLoc)return jt(Ht.finallyLoc)}else if(sr){if(this.prev<Ht.catchLoc)return jt(Ht.catchLoc,!0)}else{if(!Oo)throw new Error("try statement without catch or finally");if(this.prev<Ht.finallyLoc)return jt(Ht.finallyLoc)}}}},abrupt:function(tt,et){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var rn=this.tryEntries[jt];if(rn.tryLoc<=this.prev&&R.call(rn,"finallyLoc")&&this.prev<rn.finallyLoc){var Ht=rn;break}}Ht&&("break"===tt||"continue"===tt)&&Ht.tryLoc<=et&&et<=Ht.finallyLoc&&(Ht=null);var rr=Ht?Ht.completion:{};return rr.type=tt,rr.arg=et,Ht?(this.method="next",this.next=Ht.finallyLoc,vt):this.complete(rr)},complete:function(tt,et){if("throw"===tt.type)throw tt.arg;return"break"===tt.type||"continue"===tt.type?this.next=tt.arg:"return"===tt.type?(this.rval=this.arg=tt.arg,this.method="return",this.next="end"):"normal"===tt.type&&et&&(this.next=et),vt},finish:function(tt){for(var et=this.tryEntries.length-1;et>=0;--et){var jt=this.tryEntries[et];if(jt.finallyLoc===tt)return this.complete(jt.completion,jt.afterLoc),aa(jt),vt}},catch:function(tt){for(var et=this.tryEntries.length-1;et>=0;--et){var jt=this.tryEntries[et];if(jt.tryLoc===tt){var rn=jt.completion;if("throw"===rn.type){var Ht=rn.arg;aa(jt)}return Ht}}throw new Error("illegal catch attempt")},delegateYield:function(tt,et,jt){return this.delegate={iterator:Qp(tt),resultName:et,nextLoc:jt},"next"===this.method&&(this.arg=x),vt}},D}(v.exports);try{regeneratorRuntime=E}catch(D){Function("r","regeneratorRuntime = r")(E)}}),ja=ci,d0=Vt("Array").values,Ch=Array.prototype,eo={DOMTokenList:!0,NodeList:!0},ls=function(v){var E=v.values;return v===Ch||v instanceof Array&&E===Ch.values||eo.hasOwnProperty(Ta(v))?d0:E},So=[],i_=So.sort,h0=$(function(){So.sort(void 0)}),r_=$(function(){So.sort(null)}),iC=Gn("sort");Lt({target:"Array",proto:!0,forced:h0||!r_||!iC},{sort:function(v){return void 0===v?i_.call(oi(this)):i_.call(oi(this),Kt(v))}});var Ec=Vt("Array").sort,Dc=Array.prototype,Eh=function(v){var E=v.sort;return v===Dc||v instanceof Array&&E===Dc.sort?Ec:E},s_=Vt("Array").keys,Pl=Array.prototype,Ao={DOMTokenList:!0,NodeList:!0},Ha=function(v){var E=v.keys;return v===Pl||v instanceof Array&&E===Pl.keys||Ao.hasOwnProperty(Ta(v))?s_:E},to=wn.some,jp=Gn("some"),f0=ys("some");Lt({target:"Array",proto:!0,forced:!jp||!f0},{some:function(v){return to(this,v,arguments.length>1?arguments[1]:void 0)}});var cs=Vt("Array").some,Rl=Array.prototype,p0=!$(function(){return Object.isExtensible(Object.preventExtensions({}))}),zp=q(function(v){var E=At.f,D=hr("meta"),x=0,A=Object.isExtensible||function(){return!0},R=function(V){E(V,D,{value:{objectID:"O"+ ++x,weakData:{}}})},B=v.exports={REQUIRED:!1,fastKey:function(V,z){if(!xe(V))return"symbol"==typeof V?V:("string"==typeof V?"S":"P")+V;if(!oe(V,D)){if(!A(V))return"F";if(!z)return"E";R(V)}return V[D].objectID},getWeakData:function(V,z){if(!oe(V,D)){if(!A(V))return!0;if(!z)return!1;R(V)}return V[D].weakData},onFreeze:function(V){return p0&&B.REQUIRED&&A(V)&&!oe(V,D)&&R(V),V}};Uo[D]=!0}),ra=function(v,E){this.stopped=v,this.result=E},xc=function(v,E,D){var x,A,R,B,V,z,se,Ce=!(!D||!D.AS_ENTRIES),rt=!(!D||!D.IS_ITERATOR),ht=!(!D||!D.INTERRUPTED),Tt=mt(E,D&&D.that,1+Ce+ht),It=function(vt){return x&&Pm(x),new ra(!0,vt)},gt=function(vt){return Ce?(Et(vt),ht?Tt(vt[0],vt[1],It):Tt(vt[0],vt[1])):ht?Tt(vt,It):Tt(vt)};if(rt)x=v;else{if("function"!=typeof(A=qs(v)))throw TypeError("Target is not iterable");if(Rm(A)){for(R=0,B=ur(v.length);B>R;R++)if((V=gt(v[R]))&&V instanceof ra)return V;return new ra(!1)}x=A.call(v)}for(z=x.next;!(se=z.call(x)).done;){try{V=gt(se.value)}catch(vt){throw Pm(x),vt}if("object"==typeof V&&V&&V instanceof ra)return V}return new ra(!1)},Dh=function(v,E,D){if(!(v instanceof E))throw TypeError("Incorrect "+(D?D+" ":"")+"invocation");return v},xh=At.f,Fl=wn.forEach,Up=li.set,$p=li.getterFor,za=function(v,E,D){var x,A=-1!==v.indexOf("Map"),R=-1!==v.indexOf("Weak"),B=A?"set":"add",V=G[v],z=V&&V.prototype,se={};if(X&&"function"==typeof V&&(R||z.forEach&&!$(function(){(new V).entries().next()}))){x=E(function(Ce,rt){Up(Dh(Ce,x,v),{type:v,collection:new V}),null!=rt&&xc(rt,Ce[B],{that:Ce,AS_ENTRIES:A})});var Se=$p(v);Fl(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(Ce){var rt="add"==Ce||"set"==Ce;!(Ce in z)||R&&"clear"==Ce||Mn(x.prototype,Ce,function(ht,Tt){var It=Se(this).collection;if(!rt&&R&&!xe(ht))return"get"==Ce&&void 0;var gt=It[Ce](0===ht?0:ht,Tt);return rt?this:gt})}),R||xh(x.prototype,"size",{configurable:!0,get:function(){return Se(this).collection.size}})}else x=D.getConstructor(E,v,A,B),zp.REQUIRED=!0;return Ma(x,v,!1,!0),se[v]=x,Lt({global:!0,forced:!0},se),R||D.setStrong(x,v,A),x},Th=function(v,E,D){for(var x in E)D&&D.unsafe&&v[x]?v[x]=E[x]:Ji(v,x,E[x],D);return v},Wp=en("species"),g0=At.f,Mh=zp.fastKey,o_=li.set,Gu=li.getterFor,a_={getConstructor:function(v,E,D,x){var A=v(function(z,se){Dh(z,A,E),o_(z,{type:E,index:xa(null),first:void 0,last:void 0,size:0}),X||(z.size=0),null!=se&&xc(se,z[x],{that:z,AS_ENTRIES:D})}),R=Gu(E),B=function(z,se,Se){var Ce,rt,ht=R(z),Tt=V(z,se);return Tt?Tt.value=Se:(ht.last=Tt={index:rt=Mh(se,!0),key:se,value:Se,previous:Ce=ht.last,next:void 0,removed:!1},ht.first||(ht.first=Tt),Ce&&(Ce.next=Tt),X?ht.size++:z.size++,"F"!==rt&&(ht.index[rt]=Tt)),z},V=function(z,se){var Se,Ce=R(z),rt=Mh(se);if("F"!==rt)return Ce.index[rt];for(Se=Ce.first;Se;Se=Se.next)if(Se.key==se)return Se};return Th(A.prototype,{clear:function(){for(var z=R(this),se=z.index,Se=z.first;Se;)Se.removed=!0,Se.previous&&(Se.previous=Se.previous.next=void 0),delete se[Se.index],Se=Se.next;z.first=z.last=void 0,X?z.size=0:this.size=0},delete:function(z){var Se=R(this),Ce=V(this,z);if(Ce){var rt=Ce.next,ht=Ce.previous;delete Se.index[Ce.index],Ce.removed=!0,ht&&(ht.next=rt),rt&&(rt.previous=ht),Se.first==Ce&&(Se.first=rt),Se.last==Ce&&(Se.last=ht),X?Se.size--:this.size--}return!!Ce},forEach:function(z){for(var se,Se=R(this),Ce=mt(z,arguments.length>1?arguments[1]:void 0,3);se=se?se.next:Se.first;)for(Ce(se.value,se.key,this);se&&se.removed;)se=se.previous},has:function(z){return!!V(this,z)}}),Th(A.prototype,D?{get:function(z){var se=V(this,z);return se&&se.value},set:function(z,se){return B(this,0===z?0:z,se)}}:{add:function(z){return B(this,z=0===z?0:z,z)}}),X&&g0(A.prototype,"size",{get:function(){return R(this).size}}),A},setStrong:function(v,E,D){var V,x=E+" Iterator",A=Gu(E),R=Gu(x);Eo(v,E,function(B,V){o_(this,{type:x,target:B,state:A(B),kind:V,last:void 0})},function(){for(var B=R(this),V=B.kind,z=B.last;z&&z.removed;)z=z.previous;return B.target&&(B.last=z=z?z.next:B.state.first)?"keys"==V?{value:z.key,done:!1}:"values"==V?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(B.target=void 0,{value:void 0,done:!0})},D?"entries":"values",!D,!0),V=Nn(E),X&&V&&!V[Wp]&&(0,At.f)(V,Wp,{configurable:!0,get:function(){return this}})}},Gp=(za("Map",function(v){return function(){return v(this,arguments.length?arguments[0]:void 0)}},a_),Te.Map),Sh=up;Lt({target:"Object",stat:!0},{setPrototypeOf:Am});var sa,l_=Te.Object.setPrototypeOf,c_=q(function(v){function E(D,x){return v.exports=E=l_||function(A,R){return A.__proto__=R,A},E(D,x)}v.exports=E}),Ll=function(v,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");v.prototype=Sh(E&&E.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),E&&c_(v,E)},Yp=function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v},u_=function(v,E){return!E||"object"!==ln(E)&&"function"!=typeof E?Yp(v):E},d_=pp,oa=q(function(v){function E(D){return v.exports=E=l_?d_:function(x){return x.__proto__||d_(x)},E(D)}v.exports=E}),h_=new Uint8Array(16);function Bl(){if(!sa&&!(sa="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sa(h_)}var f_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function p_(v){return"string"==typeof v&&f_.test(v)}for(var ir=[],Tc=0;Tc<256;++Tc)ir.push((Tc+256).toString(16).substr(1));function m0(v,E,D){var x=(v=v||{}).random||(v.rng||Bl)();if(x[6]=15&x[6]|64,x[8]=63&x[8]|128,E){D=D||0;for(var A=0;A<16;++A)E[D+A]=x[A];return E}return function(R){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,V=(ir[R[B+0]]+ir[R[B+1]]+ir[R[B+2]]+ir[R[B+3]]+"-"+ir[R[B+4]]+ir[R[B+5]]+"-"+ir[R[B+6]]+ir[R[B+7]]+"-"+ir[R[B+8]]+ir[R[B+9]]+"-"+ir[R[B+10]]+ir[R[B+11]]+ir[R[B+12]]+ir[R[B+13]]+ir[R[B+14]]+ir[R[B+15]]).toLowerCase();if(!p_(V))throw TypeError("Stringified UUID is invalid");return V}(x)}function Ah(v){return"string"==typeof v||"number"==typeof v}var qp=function(){function v(E){Ne(this,v),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(E)}return Zt(v,[{key:"setOptions",value:function(E){E&&void 0!==E.delay&&(this.delay=E.delay),E&&void 0!==E.max&&(this.max=E.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var E=this._extended.object,D=this._extended.methods,x=0;x<D.length;x++){var A=D[x];A.original?E[A.name]=A.original:delete E[A.name]}this._extended=null}}},{key:"replace",value:function(E,D){var x=this,A=E[D];if(!A)throw new Error("Method "+D+" undefined");E[D]=function(){for(var R=arguments.length,B=new Array(R),V=0;V<R;V++)B[V]=arguments[V];x.queue({args:B,fn:A,context:this})}}},{key:"queue",value:function(E){this._queue.push("function"==typeof E?{fn:E}:E),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var E=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=yl(function(){E.flush()},this.delay))}},{key:"flush",value:function(){var E,D;qo(E=nC(D=this._queue).call(D,0)).call(E,function(x){x.fn.apply(x.context||x.fn,x.args||[])})}}],[{key:"extend",value:function(E,D){var x=new v(D);if(void 0!==E.flush)throw new Error("Target object already has a property flush");E.flush=function(){x.flush()};var A=[{name:"flush",original:void 0}];if(D&&D.replace)for(var R=0;R<D.replace.length;R++){var B=D.replace[R];A.push({name:B,original:E[B]}),x.replace(E,B)}return x._extended={object:E,methods:A},x}}]),v}(),Oh=function(){function v(){Ne(this,v),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=v.prototype.on,this.unsubscribe=v.prototype.off}return Zt(v,[{key:"_trigger",value:function(E,D,x){var A,R;if("*"===E)throw new Error("Cannot trigger event *");qo(A=Ko(R=[]).call(R,_r(this._subscribers[E]),_r(this._subscribers["*"]))).call(A,function(B){B(E,D,null!=x?x:null)})}},{key:"on",value:function(E,D){"function"==typeof D&&this._subscribers[E].push(D)}},{key:"off",value:function(E,D){var x;this._subscribers[E]=qt(x=this._subscribers[E]).call(x,function(A){return A!==D})}}]),v}(),Mc=(za("Set",function(v){return function(){return v(this,arguments.length?arguments[0]:void 0)}},a_),Te.Set);function no(v,E){var D;if(void 0===Os||null==Hd(v)){if(Sn(v)||(D=function(z,se){var Se;if(z){if("string"==typeof z)return Yu(z,undefined);var Ce=An(Se=Object.prototype.toString.call(z)).call(Se,8,-1);if("Object"===Ce&&z.constructor&&(Ce=z.constructor.name),"Map"===Ce||"Set"===Ce)return Ms(z);if("Arguments"===Ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return Yu(z,undefined)}}(v))||E&&v&&"number"==typeof v.length){D&&(v=D);var x=0,A=function(){};return{s:A,n:function(){return x>=v.length?{done:!0}:{done:!1,value:v[x++]}},e:function(z){throw z},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,B=!0,V=!1;return{s:function(){D=Ts(v)},n:function(){var z=D.next();return B=z.done,z},e:function(z){V=!0,R=z},f:function(){try{B||null==D.return||D.return()}finally{if(V)throw R}}}}function Yu(v,E){(null==E||E>v.length)&&(E=v.length);for(var D=0,x=new Array(E);D<E;D++)x[D]=v[D];return x}var Sc=function(){function v(E){Ne(this,v),this._pairs=E}return Zt(v,[{key:ja,value:Wr.mark(function E(){var D,x,A,R,B;return Wr.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:D=no(this._pairs),V.prev=1,D.s();case 3:if((x=D.n()).done){V.next=9;break}return A=Xi(x.value,2),R=A[0],B=A[1],V.next=7,[R,B];case 7:V.next=3;break;case 9:V.next=14;break;case 11:V.prev=11,V.t0=V.catch(1),D.e(V.t0);case 14:return V.prev=14,D.f(),V.finish(14);case 17:case"end":return V.stop()}},E,this,[[1,11,14,17]])})},{key:"entries",value:Wr.mark(function E(){var D,x,A,R,B;return Wr.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:D=no(this._pairs),V.prev=1,D.s();case 3:if((x=D.n()).done){V.next=9;break}return A=Xi(x.value,2),R=A[0],B=A[1],V.next=7,[R,B];case 7:V.next=3;break;case 9:V.next=14;break;case 11:V.prev=11,V.t0=V.catch(1),D.e(V.t0);case 14:return V.prev=14,D.f(),V.finish(14);case 17:case"end":return V.stop()}},E,this,[[1,11,14,17]])})},{key:"keys",value:Wr.mark(function E(){var D,x,A,R;return Wr.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:D=no(this._pairs),B.prev=1,D.s();case 3:if((x=D.n()).done){B.next=9;break}return A=Xi(x.value,1),R=A[0],B.next=7,R;case 7:B.next=3;break;case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(1),D.e(B.t0);case 14:return B.prev=14,D.f(),B.finish(14);case 17:case"end":return B.stop()}},E,this,[[1,11,14,17]])})},{key:"values",value:Wr.mark(function E(){var D,x,A,R;return Wr.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:D=no(this._pairs),B.prev=1,D.s();case 3:if((x=D.n()).done){B.next=9;break}return A=Xi(x.value,2),R=A[1],B.next=7,R;case 7:B.next=3;break;case 9:B.next=14;break;case 11:B.prev=11,B.t0=B.catch(1),D.e(B.t0);case 14:return B.prev=14,D.f(),B.finish(14);case 17:case"end":return B.stop()}},E,this,[[1,11,14,17]])})},{key:"toIdArray",value:function(){var E;return ai(E=_r(this._pairs)).call(E,function(D){return D[0]})}},{key:"toItemArray",value:function(){var E;return ai(E=_r(this._pairs)).call(E,function(D){return D[1]})}},{key:"toEntryArray",value:function(){return _r(this._pairs)}},{key:"toObjectMap",value:function(){var E,D=dp(null),x=no(this._pairs);try{for(x.s();!(E=x.n()).done;){var A=Xi(E.value,2);D[A[0]]=A[1]}}catch(V){x.e(V)}finally{x.f()}return D}},{key:"toMap",value:function(){return new Gp(this._pairs)}},{key:"toIdSet",value:function(){return new Mc(this.toIdArray())}},{key:"toItemSet",value:function(){return new Mc(this.toItemArray())}},{key:"cache",value:function(){return new v(_r(this._pairs))}},{key:"distinct",value:function(E){var D,x=new Mc,A=no(this._pairs);try{for(A.s();!(D=A.n()).done;){var R=Xi(D.value,2);x.add(E(R[1],R[0]))}}catch(z){A.e(z)}finally{A.f()}return x}},{key:"filter",value:function(E){var D=this._pairs;return new v(Ot({},ja,Wr.mark(function x(){var A,R,B,V,z;return Wr.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:A=no(D),se.prev=1,A.s();case 3:if((R=A.n()).done){se.next=10;break}if(B=Xi(R.value,2),!E(z=B[1],V=B[0])){se.next=8;break}return se.next=8,[V,z];case 8:se.next=3;break;case 10:se.next=15;break;case 12:se.prev=12,se.t0=se.catch(1),A.e(se.t0);case 15:return se.prev=15,A.f(),se.finish(15);case 18:case"end":return se.stop()}},x,null,[[1,12,15,18]])})))}},{key:"forEach",value:function(E){var D,x=no(this._pairs);try{for(x.s();!(D=x.n()).done;){var A=Xi(D.value,2);E(A[1],A[0])}}catch(B){x.e(B)}finally{x.f()}}},{key:"map",value:function(E){var D=this._pairs;return new v(Ot({},ja,Wr.mark(function x(){var A,R,B,V,z;return Wr.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:A=no(D),se.prev=1,A.s();case 3:if((R=A.n()).done){se.next=9;break}return B=Xi(R.value,2),V=B[0],z=B[1],se.next=7,[V,E(z,V)];case 7:se.next=3;break;case 9:se.next=14;break;case 11:se.prev=11,se.t0=se.catch(1),A.e(se.t0);case 14:return se.prev=14,A.f(),se.finish(14);case 17:case"end":return se.stop()}},x,null,[[1,11,14,17]])})))}},{key:"max",value:function(E){var D=Ts(this._pairs),x=D.next();if(x.done)return null;for(var A=x.value[1],R=E(x.value[1],x.value[0]);!(x=D.next()).done;){var B=Xi(x.value,2),z=B[1],se=E(z,B[0]);se>R&&(R=se,A=z)}return A}},{key:"min",value:function(E){var D=Ts(this._pairs),x=D.next();if(x.done)return null;for(var A=x.value[1],R=E(x.value[1],x.value[0]);!(x=D.next()).done;){var B=Xi(x.value,2),z=B[1],se=E(z,B[0]);se<R&&(R=se,A=z)}return A}},{key:"reduce",value:function(E,D){var x,A=no(this._pairs);try{for(A.s();!(x=A.n()).done;){var R=Xi(x.value,2);D=E(D,R[1],R[0])}}catch(V){A.e(V)}finally{A.f()}return D}},{key:"sort",value:function(E){var D=this;return new v(Ot({},ja,function(){var x;return Ts(Eh(x=_r(D._pairs)).call(x,function(A,R){var B=Xi(A,2),V=B[0],z=B[1],se=Xi(R,2);return E(z,se[1],V,se[0])}))}))}}]),v}();function Zp(v,E){var D=As(v);if(yu){var x=yu(v);E&&(x=qt(x).call(x,function(A){return Lb(v,A).enumerable})),D.push.apply(D,x)}return D}function qu(v){for(var E=1;E<arguments.length;E++){var D,x=null!=arguments[E]?arguments[E]:{};if(E%2)qo(D=Zp(Object(x),!0)).call(D,function(R){Ot(v,R,x[R])});else if(Rb)Uw(v,Rb(x));else{var A;qo(A=Zp(Object(x))).call(A,function(R){Yt(v,R,Lb(x,R))})}}return v}function Kp(v,E){var D;if(void 0===Os||null==Hd(v)){if(Sn(v)||(D=function(z,se){var Se;if(z){if("string"==typeof z)return Zu(z,undefined);var Ce=An(Se=Object.prototype.toString.call(z)).call(Se,8,-1);if("Object"===Ce&&z.constructor&&(Ce=z.constructor.name),"Map"===Ce||"Set"===Ce)return Ms(z);if("Arguments"===Ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return Zu(z,undefined)}}(v))||E&&v&&"number"==typeof v.length){D&&(v=D);var x=0,A=function(){};return{s:A,n:function(){return x>=v.length?{done:!0}:{done:!1,value:v[x++]}},e:function(z){throw z},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,B=!0,V=!1;return{s:function(){D=Ts(v)},n:function(){var z=D.next();return B=z.done,z},e:function(z){V=!0,R=z},f:function(){try{B||null==D.return||D.return()}finally{if(V)throw R}}}}function Zu(v,E){(null==E||E>v.length)&&(E=v.length);for(var D=0,x=new Array(E);D<E;D++)x[D]=v[D];return x}var Jp=function(v){Ll(D,v);var E=function(v){var E=function(){if("undefined"==typeof Reflect||!as||as.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(as(Date,[],function(){})),!0}catch(D){return!1}}();return function(){var D,x=oa(v);if(E){var A=oa(this).constructor;D=as(x,arguments,A)}else D=x.apply(this,arguments);return u_(this,D)}}(D);function D(x,A){var R;return Ne(this,D),(R=E.call(this))._queue=null,x&&!Sn(x)&&(A=x,x=[]),R._options=A||{},R._data=new Gp,R.length=0,R._idProp=R._options.fieldId||"id",x&&x.length&&R.add(x),R.setOptions(A),R}return Zt(D,[{key:"setOptions",value:function(x){x&&void 0!==x.queue&&(!1===x.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=qp.extend(this,{replace:["add","update","remove"]})),x.queue&&"object"===ln(x.queue)&&this._queue.setOptions(x.queue)))}},{key:"add",value:function(x,A){var R,B=this,V=[];if(Sn(x)){var z=ai(x).call(x,function(Ce){return Ce[B._idProp]});if(function(v){var E=v.some;return v===Rl||v instanceof Array&&E===Rl.some?cs:E}(z).call(z,function(Ce){return B._data.has(Ce)}))throw new Error("A duplicate id was found in the parameter array.");for(var se=0,Se=x.length;se<Se;se++)R=this._addItem(x[se]),V.push(R)}else{if(!x||"object"!==ln(x))throw new Error("Unknown dataType");R=this._addItem(x),V.push(R)}return V.length&&this._trigger("add",{items:V},A),V}},{key:"update",value:function(x,A){var R=this,B=[],V=[],z=[],se=[],Se=this._idProp,Ce=function(It){var gt=It[Se];if(null!=gt&&R._data.has(gt)){var vt=It,ot=Zd({},R._data.get(gt)),pn=R._updateItem(vt);V.push(pn),se.push(vt),z.push(ot)}else{var yn=R._addItem(It);B.push(yn)}};if(Sn(x))for(var rt=0,ht=x.length;rt<ht;rt++)x[rt]&&"object"===ln(x[rt])?Ce(x[rt]):console.warn("Ignoring input item, which is not an object at index "+rt);else{if(!x||"object"!==ln(x))throw new Error("Unknown dataType");Ce(x)}return B.length&&this._trigger("add",{items:B},A),V.length&&this._trigger("update",{items:V,oldData:z,data:se},A),Ko(B).call(B,V)}},{key:"updateOnly",value:function(x,A){var R,B=this;Sn(x)||(x=[x]);var V=ai(R=ai(x).call(x,function(se){var Se=B._data.get(se[B._idProp]);if(null==Se)throw new Error("Updating non-existent items is not allowed.");return{oldData:Se,update:se}})).call(R,function(se){var Se=se.oldData,rt=Se[B._idProp],ht=function(Tt){for(var It,gt=arguments.length,vt=new Array(gt>1?gt-1:0),ot=1;ot<gt;ot++)vt[ot-1]=arguments[ot];return yh.apply(void 0,Ko(It=[{},Tt]).call(It,vt))}(Se,se.update);return B._data.set(rt,ht),{id:rt,oldData:Se,updatedData:ht}});if(V.length){var z={items:ai(V).call(V,function(se){return se.id}),oldData:ai(V).call(V,function(se){return se.oldData}),data:ai(V).call(V,function(se){return se.updatedData})};return this._trigger("update",z,A),z.items}return[]}},{key:"get",value:function(x,A){var R=void 0,B=void 0,V=void 0;Ah(x)?(R=x,V=A):Sn(x)?(B=x,V=A):V=x;var z,se=V&&"Object"===V.returnType?"Object":"Array",Se=V&&qt(V),Ce=[],rt=void 0,ht=void 0;if(null!=R)(rt=this._data.get(R))&&Se&&!Se(rt)&&(rt=void 0);else if(null!=B)for(var It=0,gt=B.length;It<gt;It++)null==(rt=this._data.get(B[It]))||Se&&!Se(rt)||Ce.push(rt);else for(var vt,ot=0,pn=(ht=_r(Ha(vt=this._data).call(vt))).length;ot<pn;ot++)null==(rt=this._data.get(ht[ot]))||Se&&!Se(rt)||Ce.push(rt);if(V&&V.order&&null==R&&this._sort(Ce,V.order),V&&V.fields){var yn=V.fields;if(null!=R&&null!=rt)rt=this._filterFields(rt,yn);else for(var bn=0,bi=Ce.length;bn<bi;bn++)Ce[bn]=this._filterFields(Ce[bn],yn)}if("Object"==se){for(var us={},Bi=0,Ar=Ce.length;Bi<Ar;Bi++){var Mi=Ce[Bi];us[Mi[this._idProp]]=Mi}return us}return null!=R?null!==(z=rt)&&void 0!==z?z:null:Ce}},{key:"getIds",value:function(x){var A=this._data,R=x&&qt(x),B=x&&x.order,V=_r(Ha(A).call(A)),z=[];if(R)if(B){for(var se=[],Se=0,Ce=V.length;Se<Ce;Se++){var ht=this._data.get(V[Se]);null!=ht&&R(ht)&&se.push(ht)}this._sort(se,B);for(var Tt=0,It=se.length;Tt<It;Tt++)z.push(se[Tt][this._idProp])}else for(var gt=0,vt=V.length;gt<vt;gt++){var pn=this._data.get(V[gt]);null!=pn&&R(pn)&&z.push(pn[this._idProp])}else if(B){for(var yn=[],bn=0,bi=V.length;bn<bi;bn++)yn.push(A.get(V[bn]));this._sort(yn,B);for(var Bi=0,Ar=yn.length;Bi<Ar;Bi++)z.push(yn[Bi][this._idProp])}else for(var Mi=0,Oc=V.length;Mi<Oc;Mi++){var aa=A.get(V[Mi]);null!=aa&&z.push(aa[this._idProp])}return z}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(x,A){var R=A&&qt(A),B=this._data,V=_r(Ha(B).call(B));if(A&&A.order)for(var z=this.get(A),se=0,Se=z.length;se<Se;se++){var Ce=z[se];x(Ce,Ce[this._idProp])}else for(var rt=0,ht=V.length;rt<ht;rt++){var Tt=V[rt],It=this._data.get(Tt);null==It||R&&!R(It)||x(It,Tt)}}},{key:"map",value:function(x,A){for(var R=A&&qt(A),B=[],V=this._data,z=_r(Ha(V).call(V)),se=0,Se=z.length;se<Se;se++){var Ce=z[se],rt=this._data.get(Ce);null==rt||R&&!R(rt)||B.push(x(rt,Ce))}return A&&A.order&&this._sort(B,A.order),B}},{key:"_filterFields",value:function(x,A){var R;return x&&vs(R=Sn(A)?A:As(A)).call(R,function(B,V){return B[V]=x[V],B},{})}},{key:"_sort",value:function(x,A){if("string"==typeof A){var R=A;Eh(x).call(x,function(B,V){var z=B[R],se=V[R];return z>se?1:z<se?-1:0})}else{if("function"!=typeof A)throw new TypeError("Order must be a function or a string");Eh(x).call(x,A)}}},{key:"remove",value:function(x,A){for(var R=[],B=[],V=Sn(x)?x:[x],z=0,se=V.length;z<se;z++){var Se=this._remove(V[z]);if(Se){var Ce=Se[this._idProp];null!=Ce&&(R.push(Ce),B.push(Se))}}return R.length&&this._trigger("remove",{items:R,oldData:B},A),R}},{key:"_remove",value:function(x){var A;if(Ah(x)?A=x:x&&"object"===ln(x)&&(A=x[this._idProp]),null!=A&&this._data.has(A)){var R=this._data.get(A)||null;return this._data.delete(A),--this.length,R}return null}},{key:"clear",value:function(x){for(var A,R=_r(Ha(A=this._data).call(A)),B=[],V=0,z=R.length;V<z;V++)B.push(this._data.get(R[V]));return this._data.clear(),this.length=0,this._trigger("remove",{items:R,oldData:B},x),R}},{key:"max",value:function(x){var A,R,B=null,V=null,z=Kp(ls(A=this._data).call(A));try{for(z.s();!(R=z.n()).done;){var se=R.value,Se=se[x];"number"==typeof Se&&(null==V||Se>V)&&(B=se,V=Se)}}catch(Ce){z.e(Ce)}finally{z.f()}return B||null}},{key:"min",value:function(x){var A,R,B=null,V=null,z=Kp(ls(A=this._data).call(A));try{for(z.s();!(R=z.n()).done;){var se=R.value,Se=se[x];"number"==typeof Se&&(null==V||Se<V)&&(B=se,V=Se)}}catch(Ce){z.e(Ce)}finally{z.f()}return B||null}},{key:"distinct",value:function(x){for(var A=this._data,R=_r(Ha(A).call(A)),B=[],V=0,z=0,se=R.length;z<se;z++){for(var Ce=A.get(R[z])[x],rt=!1,ht=0;ht<V;ht++)if(B[ht]==Ce){rt=!0;break}rt||void 0===Ce||(B[V]=Ce,V++)}return B}},{key:"_addItem",value:function(x){var B,V,A=(null==(B=x)[V=this._idProp]&&(B[V]=m0()),B),R=A[this._idProp];if(this._data.has(R))throw new Error("Cannot add item: item with id "+R+" already exists");return this._data.set(R,A),++this.length,R}},{key:"_updateItem",value:function(x){var A=x[this._idProp];if(null==A)throw new Error("Cannot update item: item has no id (item: "+function(v,E,D){return Te.JSON.stringify.apply(null,arguments)}(x)+")");var R=this._data.get(A);if(!R)throw new Error("Cannot update item: no item with id "+A+" found");return this._data.set(A,qu(qu({},R),x)),A}},{key:"stream",value:function(x){if(x){var A=this._data;return new Sc(Ot({},ja,Wr.mark(function B(){var V,z,se,Se;return Wr.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:V=Kp(x),Ce.prev=1,V.s();case 3:if((z=V.n()).done){Ce.next=11;break}if(null==(Se=A.get(se=z.value))){Ce.next=9;break}return Ce.next=9,[se,Se];case 9:Ce.next=3;break;case 11:Ce.next=16;break;case 13:Ce.prev=13,Ce.t0=Ce.catch(1),V.e(Ce.t0);case 16:return Ce.prev=16,V.f(),Ce.finish(16);case 19:case"end":return Ce.stop()}},B,null,[[1,13,16,19]])})))}var R;return new Sc(Ot({},ja,ge(R=function(v){var E=v.entries;return v===Vp||v instanceof Array&&E===Vp.entries||kl.hasOwnProperty(Ta(v))?c0:E}(this._data)).call(R,this._data)))}},{key:"idProp",get:function(){return this._idProp}}]),D}(Oh);function g_(v,E){(null==E||E>v.length)&&(E=v.length);for(var D=0,x=new Array(E);D<E;D++)x[D]=v[D];return x}var m_=function(v){Ll(D,v);var E=function(v){var E=function(){if("undefined"==typeof Reflect||!as||as.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(as(Date,[],function(){})),!0}catch(D){return!1}}();return function(){var D,x=oa(v);if(E){var A=oa(this).constructor;D=as(x,arguments,A)}else D=x.apply(this,arguments);return u_(this,D)}}(D);function D(x,A){var R,B;return Ne(this,D),(B=E.call(this)).length=0,B._ids=new Mc,B._options=A||{},B._listener=ge(R=B._onEvent).call(R,Yp(B)),B.setData(x),B}return Zt(D,[{key:"setData",value:function(x){if(this._data){this._data.off&&this._data.off("*",this._listener);var A=this._data.getIds({filter:qt(this._options)}),R=this._data.get(A);this._ids.clear(),this.length=0,this._trigger("remove",{items:A,oldData:R})}if(null!=x){this._data=x;for(var B=this._data.getIds({filter:qt(this._options)}),V=0,z=B.length;V<z;V++)this._ids.add(B[V]);this.length=B.length,this._trigger("add",{items:B})}else this._data=new Jp;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var x=this._data.getIds({filter:qt(this._options)}),A=_r(this._ids),R={},B=[],V=[],z=[],se=0,Se=x.length;se<Se;se++){var Ce=x[se];R[Ce]=!0,this._ids.has(Ce)||(B.push(Ce),this._ids.add(Ce))}for(var rt=0,ht=A.length;rt<ht;rt++){var Tt=A[rt],It=this._data.get(Tt);null==It?console.error("If you see this, report it please."):R[Tt]||(V.push(Tt),z.push(It),this._ids.delete(Tt))}this.length+=B.length-V.length,B.length&&this._trigger("add",{items:B}),V.length&&this._trigger("remove",{items:V,oldData:z})}},{key:"get",value:function(x,A){if(null==this._data)return null;var R,B=null;Ah(x)||Sn(x)?(B=x,R=A):R=x;var V=Zd({},this._options,R),z=qt(this._options),se=R&&qt(R);return z&&se&&(V.filter=function(Se){return z(Se)&&se(Se)}),null==B?this._data.get(V):this._data.get(B,V)}},{key:"getIds",value:function(x){if(this._data.length){var R=qt(this._options),B=null!=x?qt(x):null;return this._data.getIds({filter:B?R?function(V){return R(V)&&B(V)}:B:R,order:x&&x.order})}return[]}},{key:"forEach",value:function(x,A){if(this._data){var R,B,V=qt(this._options),z=A&&qt(A);B=z?V?function(se){return V(se)&&z(se)}:z:V,qo(R=this._data).call(R,x,{filter:B,order:A&&A.order})}}},{key:"map",value:function(x,A){if(this._data){var R,B,V=qt(this._options),z=A&&qt(A);return B=z?V?function(se){return V(se)&&z(se)}:z:V,ai(R=this._data).call(R,x,{filter:B,order:A&&A.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(x){var A;return this._data.stream(x||Ot({},ja,ge(A=Ha(this._ids)).call(A,this._ids)))}},{key:"dispose",value:function(){var x;null!==(x=this._data)&&void 0!==x&&x.off&&this._data.off("*",this._listener);var A,R="This data view has already been disposed of.",B={get:function(){throw new Error(R)},set:function(){throw new Error(R)},configurable:!1},V=function(v,E){var D;if(void 0===Os||null==Hd(v)){if(Sn(v)||(D=function(z,se){var Se;if(z){if("string"==typeof z)return g_(z,void 0);var Ce=An(Se=Object.prototype.toString.call(z)).call(Se,8,-1);if("Object"===Ce&&z.constructor&&(Ce=z.constructor.name),"Map"===Ce||"Set"===Ce)return Ms(z);if("Arguments"===Ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce))return g_(z,void 0)}}(v))||E&&v&&"number"==typeof v.length){D&&(v=D);var x=0,A=function(){};return{s:A,n:function(){return x>=v.length?{done:!0}:{done:!1,value:v[x++]}},e:function(z){throw z},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var R,B=!0,V=!1;return{s:function(){D=Ts(v)},n:function(){var z=D.next();return B=z.done,z},e:function(z){V=!0,R=z},f:function(){try{B||null==D.return||D.return()}finally{if(V)throw R}}}}(Qi(D.prototype));try{for(V.s();!(A=V.n()).done;)Yt(this,A.value,B)}catch(se){V.e(se)}finally{V.f()}}},{key:"_onEvent",value:function(x,A,R){if(A&&A.items&&this._data){var B=A.items,V=[],z=[],se=[],Se=[],Ce=[],rt=[];switch(x){case"add":for(var ht=0,Tt=B.length;ht<Tt;ht++){var It=B[ht];this.get(It)&&(this._ids.add(It),V.push(It))}break;case"update":for(var gt=0,vt=B.length;gt<vt;gt++){var ot=B[gt];this.get(ot)?this._ids.has(ot)?(z.push(ot),Ce.push(A.data[gt]),Se.push(A.oldData[gt])):(this._ids.add(ot),V.push(ot)):this._ids.has(ot)&&(this._ids.delete(ot),se.push(ot),rt.push(A.oldData[gt]))}break;case"remove":for(var pn=0,yn=B.length;pn<yn;pn++){var bn=B[pn];this._ids.has(bn)&&(this._ids.delete(bn),se.push(bn),rt.push(A.oldData[pn]))}}this.length+=V.length-se.length,V.length&&this._trigger("add",{items:V},R),z.length&&this._trigger("update",{items:z,oldData:Se,data:Ce},R),se.length&&this._trigger("remove",{items:se,oldData:rt},R)}}},{key:"idProp",get:function(){return this.getDataSet().idProp}}]),D}(Oh);function Ih(v,E){return"object"===ln(E)&&null!==E&&v===E.idProp&&"function"==typeof E.add&&"function"==typeof E.clear&&"function"==typeof E.distinct&&"function"==typeof qo(E)&&"function"==typeof E.get&&"function"==typeof E.getDataSet&&"function"==typeof E.getIds&&"number"==typeof E.length&&"function"==typeof ai(E)&&"function"==typeof E.max&&"function"==typeof E.min&&"function"==typeof E.off&&"function"==typeof E.on&&"function"==typeof E.remove&&"function"==typeof E.setOptions&&"function"==typeof E.stream&&"function"==typeof E.update&&"function"==typeof E.updateOnly}O.DELETE=$u,O.DataSet=Jp,O.DataStream=Sc,O.DataView=m_,O.Queue=qp,O.createNewDataPipeFrom=function(v){return new _i(v)},O.isDataSetLike=Ih,O.isDataViewLike=function(v,E){return"object"===ln(E)&&null!==E&&v===E.idProp&&"function"==typeof qo(E)&&"function"==typeof E.get&&"function"==typeof E.getDataSet&&"function"==typeof E.getIds&&"number"==typeof E.length&&"function"==typeof ai(E)&&"function"==typeof E.off&&"function"==typeof E.on&&"function"==typeof E.stream&&Ih(v,E.getDataSet())},Object.defineProperty(O,"__esModule",{value:!0})}(Y)},1073:re=>{"use strict";var G,Y="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),H={},q=0,u=0;function $(ee){var Z="";do{Z=Y[ee%64]+Z,ee=Math.floor(ee/64)}while(ee>0);return Z}function ae(){var ee=$(+new Date);return ee!==G?(q=0,G=ee):ee+"."+$(q++)}for(;u<64;u++)H[Y[u]]=u;ae.encode=$,ae.decode=function(ee){var Z=0;for(u=0;u<ee.length;u++)Z=64*Z+H[ee.charAt(u)];return Z},re.exports=ae},7054:(re,Y,O)=>{"use strict";var H={};O.r(H),O.d(H,{Decoder:()=>Og,Encoder:()=>_D,PacketType:()=>gn,protocol:()=>mD});var q={};O.r(q),O.d(q,{Manager:()=>Ig,Socket:()=>Cy,connect:()=>fa,default:()=>fa,io:()=>fa,protocol:()=>mD});var u=O(7793);let G=null;function $(){return G}const Z=new u.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:_e,token:n,providedIn:"platform"}),n})();function _e(){return(0,u.LFG)(Ue)}const fe=new u.OlP("Location Initialized");let Ue=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(e){const i=$().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){je()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){je()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z))},n.\u0275prov=(0,u.Yz7)({factory:Qe,token:n,providedIn:"platform"}),n})();function je(){return!!window.history.pushState}function Qe(){return new Ue((0,u.LFG)(Z))}function ve(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function be(n){return n&&"?"!==n[0]?"?"+n:n}let te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:oe,token:n,providedIn:"root"}),n})();function oe(n){const t=(0,u.LFG)(Z).location;return new ce((0,u.LFG)(he),t&&t.origin||"")}const le=new u.OlP("appBaseHref");let ce=(()=>{class n extends te{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ve(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+be(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+be(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+be(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(le,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends te{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ve(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+be(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+be(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(le,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),De=(()=>{class n{constructor(e,i){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=xe(Q(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+be(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Q(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+be(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+be(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(te),u.LFG(he))},n.normalizeQueryParams=be,n.joinWithSlash=ve,n.stripTrailingSlash=xe,n.\u0275prov=(0,u.Yz7)({factory:ke,token:n,providedIn:"root"}),n})();function ke(){return new De((0,u.LFG)(te),(0,u.LFG)(he))}function Q(n){return n.replace(/\/index.html$/,"")}var ze=(()=>((ze=ze||{})[ze.Zero=0]="Zero",ze[ze.One=1]="One",ze[ze.Two=2]="Two",ze[ze.Few=3]="Few",ze[ze.Many=4]="Many",ze[ze.Other=5]="Other",ze))();const oi=u.kL8;class zo{}let pr=(()=>{class n extends zo{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(oi(i||this.locale)(e)){case ze.Zero:return"zero";case ze.One:return"one";case ze.Two:return"two";case ze.Few:return"few";case ze.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ie(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}class Ne{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ke=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((r,s,l)=>{if(null==r.previousIndex){const d=this._viewContainer.createEmbeddedView(this._template,new Ne(null,this._ngForOf,-1,-1),null===l?void 0:l),f=new lt(r,d);i.push(f)}else if(null==l)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const d=this._viewContainer.get(s);this._viewContainer.move(d,l);const f=new lt(r,d);i.push(f)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const l=this._viewContainer.get(r);l.context.index=r,l.context.count=s,l.context.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class lt{constructor(t,e){this.record=t,this.view=e}}let Zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_i("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_i("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Pn{constructor(){this.$implicit=null,this.ngIf=null}}function _i(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}class wm{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Uw{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const $w=new Uw,Cm=new wm;let sc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,u.QGY)(e))return $w;if((0,u.F4k)(e))return Cm;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,u.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Ji=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:zo,useClass:pr}]}),n})(),Fd=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Mm((0,u.LFG)(Z),window)}),n})();class Mm{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ma(this.window.history)||Ma(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ma(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cu{}class Yf extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Yf,G||(G=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Bn=Bn||document.querySelector("base"),Bn?Bn.getAttribute("href"):null);return null==e?null:function(n){qf=qf||document.createElement("a"),qf.setAttribute("href",n);const t=qf.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Bn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ie(document.cookie,t)}}let qf,Bn=null;const is=new u.OlP("TRANSITION_ID"),Zf=[{provide:u.ip1,useFactory:function(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=$(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[is,Z,u.zs3],multi:!0}];class Es{static init(){(0,u.VLi)(new Es)}addToWindow(t){u.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const d=function(f){l=l||f,s--,0==s&&i(l)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?$().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let li=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nn=new u.OlP("EventManagerPlugins");let pl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(nn),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class yi{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=$().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let pu=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ys=(()=>{class n extends pu{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(rs),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(rs))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function rs(n){$().remove(n)}const gl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ml=/%COMP%/g;function _u(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?_u(n,r,e):(r=r.replace(ml,n),e.push(r))}return e}function Co(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Bd=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new yu(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new tp(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case u.ifc.ShadowDom:return new lc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=_u(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(pl),u.LFG(Ys),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class yu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(gl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=gl[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=gl[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,r&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Co(i)):this.eventManager.addEventListener(t,e,Co(i))}}class tp extends yu{constructor(t,e,i,r){super(t),this.component=i;const s=_u(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(ml,r+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(ml,r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class lc extends yu{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=_u(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vd=(()=>{class n extends yi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sp=["alt","control","meta","shift"],Eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let op=(()=>{class n extends yi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="";if(sp.forEach(f=>{const g=i.indexOf(f);g>-1&&(i.splice(g,1),l+=f+".")}),l+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=l,d}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Zn.hasOwnProperty(t)&&(t=Zn[t]))}return Eo[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),sp.forEach(s=>{s!=r&&Nm[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),_l=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(xu)},token:n,providedIn:"root"}),n})(),xu=(()=>{class n extends _l{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(i),(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,u.JVY)(e)}bypassSecurityTrustStyle(e){return(0,u.L6k)(e)}bypassSecurityTrustScript(e){return(0,u.eBb)(e)}bypassSecurityTrustUrl(e){return(0,u.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,u.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new xu(n.get(Z))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const Gb=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){Yf.makeCurrent(),Es.init()},multi:!0},{provide:Z,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Rm=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:nn,useClass:Vd,multi:!0,deps:[Z,u.R0b,u.Lbi]},{provide:nn,useClass:op,multi:!0,deps:[Z]},[],{provide:Bd,useClass:Bd,deps:[pl,Ys,u.AFp]},{provide:u.FYo,useExisting:Bd},{provide:pu,useExisting:Ys},{provide:Ys,useClass:Ys,deps:[Z]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:pl,useClass:pl,deps:[nn,u.R0b]},{provide:cu,useClass:li,deps:[]},[]];let Yb=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:is,useExisting:u.AFp},Zf]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Rm,imports:[Ji,u.hGG]}),n})();"undefined"!=typeof window&&window;var Ot=O(9625),Vn=O(4250),Do=O(906),jn=O(8578),Wt=O(9014);class Su{}class hp{}class Yo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Gd{encodeKey(t){return fp(t)}encodeValue(t){return fp(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Vm=/%(\d[a-f0-9])/gi,jm={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fp(n){return encodeURIComponent(n).replace(Vm,(t,e)=>{var i;return null!==(i=jm[e])&&void 0!==i?i:t})}function vl(n){return`${n}`}class Ss{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(l)||[];f.push(d),e.set(l,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ss({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(vl(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(vl(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Yd{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Ia(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function wl(n){return"undefined"!=typeof Blob&&n instanceof Blob}function hc(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Zs{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yo),this.context||(this.context=new Yd),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+l}}else this.params=new Ss,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ia(this.body)||wl(this.body)||hc(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hc(this.body)?null:wl(this.body)?this.body.type||null:Ia(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,_=t.params||this.params;const b=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((w,T)=>w.set(T,t.setHeaders[T]),g)),t.setParams&&(_=Object.keys(t.setParams).reduce((w,T)=>w.set(T,t.setParams[T]),_)),new Zs(i,r,l,{params:_,headers:g,context:b,reportProgress:f,responseType:s,withCredentials:d})}}var Ri=(()=>((Ri=Ri||{})[Ri.Sent=0]="Sent",Ri[Ri.UploadProgress=1]="UploadProgress",Ri[Ri.ResponseHeader=2]="ResponseHeader",Ri[Ri.DownloadProgress=3]="DownloadProgress",Ri[Ri.Response=4]="Response",Ri[Ri.User=5]="User",Ri))();class zm{constructor(t,e=200,i="OK"){this.headers=t.headers||new Yo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gp extends zm{constructor(t={}){super(t),this.type=Ri.ResponseHeader}clone(t={}){return new gp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mp extends zm{constructor(t={}){super(t),this.type=Ri.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new mp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cl extends zm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Hn(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Zs)s=e;else{let f,g;f=r.headers instanceof Yo?r.headers:new Yo(r.headers),r.params&&(g=r.params instanceof Ss?r.params:new Ss({fromObject:r.params})),s=new Zs(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,Ot.of)(s).pipe((0,Do.b)(f=>this.handler.handle(f)));if(e instanceof Zs||"events"===r.observe)return l;const d=l.pipe((0,jn.h)(f=>f instanceof mp));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Wt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,Wt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,Wt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));case"json":default:return d.pipe((0,Wt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ss).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Hn(r,i))}post(e,i,r={}){return this.request("POST",e,Hn(r,i))}put(e,i,r={}){return this.request("PUT",e,Hn(r,i))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Su))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Zd{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Kb=new u.OlP("HTTP_INTERCEPTORS");let eC=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=/^\)\]\}',?\n/;let Ti=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((T,N)=>r.setRequestHeader(T,N.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const T=e.detectContentTypeHeader();null!==T&&r.setRequestHeader("Content-Type",T)}if(e.responseType){const T=e.responseType.toLowerCase();r.responseType="json"!==T?T:"text"}const s=e.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const T=1223===r.status?204:r.status,N=r.statusText||"OK",F=new Yo(r.getAllResponseHeaders()),I=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new gp({headers:F,status:T,statusText:N,url:I}),l},f=()=>{let{headers:T,status:N,statusText:F,url:I}=d(),P=null;204!==N&&(P=void 0===r.response?r.responseText:r.response),0===N&&(N=P?200:0);let L=N>=200&&N<300;if("json"===e.responseType&&"string"==typeof P){const U=P;P=P.replace(Au,"");try{P=""!==P?JSON.parse(P):null}catch(J){P=U,L&&(L=!1,P={error:J,text:P})}}L?(i.next(new mp({body:P,headers:T,status:N,statusText:F,url:I||void 0})),i.complete()):i.error(new Cl({error:P,headers:T,status:N,statusText:F,url:I||void 0}))},g=T=>{const{url:N}=d(),F=new Cl({error:T,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(F)};let _=!1;const b=T=>{_||(i.next(d()),_=!0);let N={type:Ri.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(N.total=T.total),"text"===e.responseType&&!!r.responseText&&(N.partialText=r.responseText),i.next(N)},w=T=>{let N={type:Ri.UploadProgress,loaded:T.loaded};T.lengthComputable&&(N.total=T.total),i.next(N)};return r.addEventListener("load",f),r.addEventListener("error",g),r.addEventListener("timeout",g),r.addEventListener("abort",g),e.reportProgress&&(r.addEventListener("progress",b),null!==s&&r.upload&&r.upload.addEventListener("progress",w)),r.send(s),i.next({type:Ri.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",f),r.removeEventListener("timeout",g),e.reportProgress&&(r.removeEventListener("progress",b),null!==s&&r.upload&&r.upload.removeEventListener("progress",w)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(cu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const El=new u.OlP("XSRF_COOKIE_NAME"),fc=new u.OlP("XSRF_HEADER_NAME");class Xb{}let Qb=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ie(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z),u.LFG(u.Lbi),u.LFG(El))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ur=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Xb),u.LFG(fc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ks=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Kb,[]);this.chain=i.reduceRight((r,s)=>new Zd(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(hp),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Na=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ur,useClass:eC}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:El,useValue:e.cookieName}:[],e.headerName?{provide:fc,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ur,{provide:Kb,useExisting:Ur,multi:!0},{provide:Xb,useClass:Qb},{provide:El,useValue:"XSRF-TOKEN"},{provide:fc,useValue:"X-XSRF-TOKEN"}]}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[qd,{provide:Su,useClass:Ks},Ti,{provide:hp,useExisting:Ti}],imports:[[Na.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Mr=O(8409),Fi=O(6490);const{isArray:yp}=Array,{getPrototypeOf:$r,prototype:Kd,keys:xl}=Object;function n0(n){if(1===n.length){const t=n[0];if(yp(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&$r(n)===Kd}(t)){const e=xl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ou=O(841);const{isArray:$m}=Array;function bp(n){return(0,Wt.U)(t=>function(n,t){return $m(t)?n(...t):n(t)}(n,t))}var Tl=O(633);function gc(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Li=O(8849),Jd=O(2800);function Xd(n,t,e){n?(0,Jd.f)(e,n,t):t()}const Nu=(0,O(6431).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qd=O(1015);function ka(...n){return(0,Qd.J)(1)((0,Mr.D)(n,(0,Tl.yG)(n)))}var Pa=O(3274);function Xi(n){return new Vn.y(t=>{(0,Pa.Xf)(n()).subscribe(t)})}var ss=O(1803),As=O(8234),Sn=O(5063);function ci(){return(0,Sn.e)((n,t)=>{let e=null;n._refCount++;const i=new Li.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Gm extends Vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Sn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new As.w0;const e=this.getSubject();t.add(this.source.subscribe(new Li.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=As.w0.EMPTY)}return t}refCount(){return ci()(this)}}var ln=O(1505),Qi=O(5514),An=O(8980);var wp=O(1747),Zo=O(702);function _r(n){return n<=0?()=>ss.E:(0,Sn.e)((t,e)=>{let i=[];t.subscribe(new Li.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Sl(n=xo){return(0,Sn.e)((t,e)=>{let i=!1;t.subscribe(new Li.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function xo(){return new Nu}function Ko(n){return(0,Sn.e)((t,e)=>{let i=!1;t.subscribe(new Li.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function mc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,jn.h)((r,s)=>n(r,s,i)):Ou.y,(0,An.q)(1),e?Ko(t):Sl(()=>new Nu))}var En=O(119),ti=O(6062);function ni(n,t,e){const i=(0,ti.m)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,Sn.e)((r,s)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let d=!0;r.subscribe(new Li.Q(s,f=>{var g;null===(g=i.next)||void 0===g||g.call(i,f),s.next(f)},()=>{var f;d=!1,null===(f=i.complete)||void 0===f||f.call(i),s.complete()},f=>{var g;d=!1,null===(g=i.error)||void 0===g||g.call(i,f),s.error(f)},()=>{var f,g;d&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(g=i.finalize)||void 0===g||g.call(i)}))}):Ou.y}class Sr{constructor(t,e){this.id=t,this.url=e}}class th extends Sr{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Sr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Js extends Sr{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Al extends Sr{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ym extends Sr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku extends Sr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qm extends Sr{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i0 extends Sr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zm extends Sr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cp{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ih{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ep{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cn="primary";class rh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Is(n){return new rh(n)}const Pu="ngNavigationCancelingError";function Ra(n){const t=Error("NavigationCancelingError: "+n);return t[Pu]=!0,t}function Fa(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],d=n[s];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Hi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Fu(n[r],t[r]))return!1;return!0}function Fu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function La(n){return Array.prototype.concat.apply([],n)}function Dp(n){return n.length>0?n[n.length-1]:null}function ii(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ns(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Mr.D)(Promise.resolve(n)):(0,Ot.of)(n)}const xp={exact:function Sp(n,t,e){if(!er(n.segments,t.segments)||!Bu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Sp(n.children[i],t.children[i],e))return!1;return!0},subset:yc},Tp={exact:function(n,t){return Hi(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Fu(n[e],t[e]))},ignored:()=>!0};function Mp(n,t,e){return xp[e.paths](n.root,t.root,e.matrixParams)&&Tp[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function yc(n,t,e){return bc(n,t,t.segments,e)}function bc(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!er(r,e)||t.hasChildren()||!Bu(r,e,i))}if(n.segments.length===e.length){if(!er(n.segments,e)||!Bu(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!yc(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(er(n.segments,r)&&Bu(n.segments,r,i)&&n.children[cn])&&bc(n.children[cn],t,s,i)}}function Bu(n,t,e){return t.every((i,r)=>Tp[e](n[r].parameters,i.parameters))}class Xs{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return ah.serialize(this)}}class tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ii(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ap(this)}}class ea{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Is(this.parameters)),this._parameterMap}toString(){return ch(this)}}function er(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Vu{}class Ol{parse(t){const e=new zu(t);return new Xs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${lh(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${wc(e)}=${wc(r)}`).join("&"):`${wc(e)}=${wc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const ah=new Ol;function Ap(n){return n.segments.map(t=>ch(t)).join("/")}function lh(n,t){if(!n.hasChildren())return Ap(n);if(t){const e=n.children[cn]?lh(n.children[cn],!1):"",i=[];return ii(n.children,(r,s)=>{s!==cn&&i.push(`${s}:${lh(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return ii(n.children,(i,r)=>{r===cn&&(e=e.concat(t(i,r)))}),ii(n.children,(i,r)=>{r!==cn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===cn?[lh(n.children[cn],!1)]:[`${r}:${lh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${Ap(n)}/${e[0]}`:`${Ap(n)}/(${e.join("//")})`}}function Op(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(n){return Op(n).replace(/%3B/gi,";")}function ju(n){return Op(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Np(n){return decodeURIComponent(n)}function kp(n){return Np(n.replace(/\+/g,"%20"))}function ch(n){return`${ju(n.path)}${function(n){return Object.keys(n).map(t=>`;${ju(t)}=${ju(n[t])}`).join("")}(n.parameters)}`}const Jm=/^[^\/()?;=#]+/;function ta(n){const t=n.match(Jm);return t?t[0]:""}const na=/^[^=?&#]+/,Hu=/^[^?&#]+/;class zu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[cn]=new tn(t,e)),i}parseSegment(){const t=ta(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ea(Np(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ta(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ta(this.remaining);r&&(i=r,this.capture(i))}t[Np(e)]=Np(i)}parseQueryParam(t){const e=function(n){const t=n.match(na);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function(n){const t=n.match(Hu);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=kp(e),s=kp(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ta(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=cn);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[cn]:new tn([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ba(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ba(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return hh(t,this._root).map(e=>e.value)}}function Ba(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ba(n,e);if(i)return i}return null}function hh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=hh(n,e);if(i.length)return i.unshift(t),i}return[]}class os{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Il(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Pp extends zn{constructor(t,e){super(t),this.snapshot=e,tr(this,t)}toString(){return this.snapshot.toString()}}function Rp(n,t){const e=function(n,t){const l=new fh([],{},{},"",{},cn,t,null,n.root,-1,{});return new Cc("",new os(l,[]))}(n,t),i=new Fi.X([new ea("",{})]),r=new Fi.X({}),s=new Fi.X({}),l=new Fi.X({}),d=new Fi.X(""),f=new Va(i,r,l,d,s,cn,t,e.root);return f.snapshot=e.root,new Pp(new os(f,[]),e)}class Va{constructor(t,e,i,r,s,l,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Wt.U)(t=>Is(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Wt.U)(t=>Is(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class fh{constructor(t,e,i,r,s,l,d,f,g,_,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cc extends zn{constructor(t,e){super(e),this.url=t,tr(this,e)}toString(){return ph(this._root)}}function tr(n,t){t.value._routerState=n,t.children.forEach(e=>tr(n,e))}function ph(n){const t=n.children.length>0?` { ${n.children.map(ph).join(", ")} } `:"";return`${n.value}${t}`}function gh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hi(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mh(n,t){return Hi(n.params,t.params)&&function(n,t){return er(n,t)&&n.every((e,i)=>Hi(e.parameters,t[i].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||mh(n.parent,t.parent))}function ia(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ia(n,i,r);return ia(n,i)})}(n,t,e);return new os(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return _h(t,l),l}}const i=function(n){return new Va(new Fi.X(n.url),new Fi.X(n.params),new Fi.X(n.queryParams),new Fi.X(n.fragment),new Fi.X(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>ia(n,s));return new os(i,r)}}function _h(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)_h(n.children[e],t.children[e])}function Uu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nl(n){return"object"==typeof n&&null!=n&&n.outlets}function $u(n,t,e,i,r){let s={};return i&&ii(i,(l,d)=>{s[d]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),new Xs(e.root===n?t:yh(e.root,n,t),s,r)}function yh(n,t,e){const i={};return ii(n.children,(r,s)=>{i[s]=r===t?e:yh(r,t,e)}),new tn(n.segments,i)}class Wu{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Uu(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Nl);if(r&&r!==Dp(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Lp(n,t,e){if(n||(n=new tn([],{})),0===n.segments.length&&n.hasChildren())return wh(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],d=e[i];if(Nl(d))break;const f=`${d}`,g=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!kl(f,g,l))return s;i+=2}else{if(!kl(f,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new tn(n.segments.slice(0,i.pathIndex),{});return s.children[cn]=new tn(n.segments.slice(i.pathIndex),n.children),wh(s,0,r)}return i.match&&0===r.length?new tn(n.segments,{}):i.match&&!n.hasChildren()?as(n,t,e):i.match?wh(n,0,r):as(n,t,e)}function wh(n,t,e){if(0===e.length)return new tn(n.segments,{});{const i=function(n){return Nl(n[0])?n[0].outlets:{[cn]:n}}(e),r={};return ii(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=Lp(n.children[l],t,s))}),ii(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new tn(n.segments,r)}}function as(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Nl(s)){const f=c0(s.outlets);return new tn(i,f)}if(0===r&&Uu(e[0])){i.push(new ea(n.segments[t].path,Vp(e[0]))),r++;continue}const l=Nl(s)?s.outlets[cn]:`${s}`,d=r<e.length-1?e[r+1]:null;l&&d&&Uu(d)?(i.push(new ea(l,Vp(d))),r+=2):(i.push(new ea(l,{})),r++)}return new tn(i,{})}function c0(n){const t={};return ii(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=as(new tn([],{}),0,e))}),t}function Vp(n){const t={};return ii(n,(e,i)=>t[i]=`${e}`),t}function kl(n,t,e){return n==e.path&&Hi(t,e.parameters)}class Wr{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),gh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Il(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),ii(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Il(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Il(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new ih(s.value.snapshot))}),t.children.length&&this.forwardEvent(new _c(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(gh(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),ja(d.route)}else{const d=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=d?d.module.componentFactoryResolver:null;l.attachRef=null,l.route=r,l.resolver=f,l.outlet&&l.outlet.activateWith(r,f),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}function ja(n){gh(n.value),n.children.forEach(ja)}class Ch{constructor(t,e){this.routes=t,this.module=e}}function eo(n){return"function"==typeof n}function So(n){return n instanceof Xs}const Ec=Symbol("INITIAL_VALUE");function Dc(){return(0,Qi.w)(n=>function(...n){const t=(0,Tl.yG)(n),e=(0,Tl.jO)(n),{args:i,keys:r}=n0(n);if(0===i.length)return(0,Mr.D)([],t);const s=new Vn.y(function(n,t,e=Ou.y){return i=>{Xd(t,()=>{const{length:r}=n,s=new Array(r);let l=r,d=r;for(let f=0;f<r;f++)Xd(t,()=>{const g=(0,Mr.D)(n[f],t);let _=!1;g.subscribe(new Li.Q(i,b=>{s[f]=b,_||(_=!0,d--),d||i.next(e(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>gc(r,l):Ou.y));return e?s.pipe(bp(e)):s}(n.map(t=>t.pipe((0,An.q)(1),function(...n){const t=(0,Tl.yG)(n);return(0,Sn.e)((e,i)=>{(t?ka(n,e,t):ka(n,e)).subscribe(i)})}(Ec)))).pipe((0,wp.R)((t,e)=>{let i=!1;return e.reduce((r,s,l)=>r!==Ec?r:(s===Ec&&(i=!0),i||!1!==s&&l!==e.length-1&&!So(s)?r:s),t)},Ec),(0,jn.h)(t=>t!==Ec),(0,Wt.U)(t=>So(t)?t:!0===t),(0,An.q)(1)))}let Eh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},directives:function(){return[Bi]},encapsulation:2}),n})();function s_(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Pl(i,Ao(t,i))}}function Pl(n,t){n.children&&s_(n.children,t)}function Ao(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Ha(n){const t=n.children&&n.children.map(Ha),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==cn&&(e.component=Eh),e}function to(n){return n.outlet||cn}function jp(n,t){const e=n.filter(i=>to(i)===t);return e.push(...n.filter(i=>to(i)!==t)),e}const f0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cs(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},f0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Fa)(e,n,t);if(!s)return Object.assign({},f0);const l={};ii(s.posParams,(f,g)=>{l[g]=f.path});const d=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Rl(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>xc(n,t,i)&&to(i)!==cn)}(n,e,i)){const l=new tn(t,function(n,t,e,i){const r={};r[cn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&to(s)!==cn){const l=new tn([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[to(s)]=l}return r}(n,t,i,new tn(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>xc(n,t,i))}(n,e,i)){const l=new tn(n.segments,function(n,t,e,i,r,s){const l={};for(const d of i)if(xc(n,e,d)&&!r[to(d)]){const f=new tn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[to(d)]=f}return Object.assign(Object.assign({},r),l)}(n,t,e,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new tn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function xc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Dh(n,t,e,i){return!!(to(n)===i||i!==cn&&xc(t,e,n))&&("**"===n.path||cs(t,n,e).matched)}function xh(n,t,e){return 0===t.length&&!n.children[e]}class Fl{constructor(t){this.segmentGroup=t||null}}class Up{constructor(t){this.urlTree=t}}function $p(n){return new Vn.y(t=>t.error(new Fl(n)))}function za(n){return new Vn.y(t=>t.error(new Up(n)))}function Th(n){return new Vn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Mh{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=Rl(this.urlTree.root,[],[],this.config).segmentGroup,e=new tn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,cn).pipe((0,Wt.U)(s=>this.createUrlTree(Gu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Zo.K)(s=>{if(s instanceof Up)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Fl?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,cn).pipe((0,Wt.U)(r=>this.createUrlTree(Gu(r),t.queryParams,t.fragment))).pipe((0,Zo.K)(r=>{throw r instanceof Fl?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new tn([],{[cn]:t}):t;return new Xs(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Wt.U)(s=>new tn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Mr.D)(r).pipe((0,Do.b)(s=>{const l=i.children[s],d=jp(e,s);return this.expandSegmentGroup(t,d,l,s).pipe((0,Wt.U)(f=>({segment:f,outlet:s})))}),(0,wp.R)((s,l)=>(s[l.outlet]=l.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,jn.h)((r,s)=>n(r,s,i)):Ou.y,_r(1),e?Ko(t):Sl(()=>new Nu))}())}expandSegment(t,e,i,r,s,l){return(0,Mr.D)(i).pipe((0,Do.b)(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,l).pipe((0,Zo.K)(g=>{if(g instanceof Fl)return(0,Ot.of)(null);throw g}))),mc(d=>!!d),(0,Zo.K)((d,f)=>{if(d instanceof Nu||"EmptyError"===d.name){if(xh(e,r,s))return(0,Ot.of)(new tn([],{}));throw new Fl(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,l,d){return Dh(r,e,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l):$p(e):$p(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?za(s):this.lineralizeSegments(i,s).pipe((0,En.z)(l=>{const d=new tn(l,{});return this.expandSegment(t,d,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:d,consumedSegments:f,lastChild:g,positionalParamSegments:_}=cs(e,r,s);if(!d)return $p(e);const b=this.applyRedirectCommands(f,r.redirectTo,_);return r.redirectTo.startsWith("/")?za(b):this.lineralizeSegments(r,b).pipe((0,En.z)(w=>this.expandSegment(t,e,i,w.concat(s.slice(g)),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ot.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Wt.U)(w=>(i._loadedConfig=w,new tn(r,{})))):(0,Ot.of)(new tn(r,{}));const{matched:l,consumedSegments:d,lastChild:f}=cs(e,i,r);if(!l)return $p(e);const g=r.slice(f);return this.getChildConfig(t,i,r).pipe((0,En.z)(b=>{const w=b.module,T=b.routes,{segmentGroup:N,slicedSegments:F}=Rl(e,d,g,T),I=new tn(N.segments,N.children);if(0===F.length&&I.hasChildren())return this.expandChildren(w,T,I).pipe((0,Wt.U)(J=>new tn(d,J)));if(0===T.length&&0===F.length)return(0,Ot.of)(new tn(d,{}));const P=to(i)===s;return this.expandSegment(w,I,T,F,P?cn:s,!0).pipe((0,Wt.U)(U=>new tn(d.concat(U.segments),U.children)))}))}getChildConfig(t,e,i){return e.children?(0,Ot.of)(new Ch(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ot.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,En.z)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,Wt.U)(s=>(e._loadedConfig=s,s))):(n=e,new Vn.y(t=>t.error(Ra(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ot.of)(new Ch([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,Ot.of)(!0);const s=r.map(l=>{const d=t.get(l);let f;if((n=d)&&eo(n.canLoad))f=d.canLoad(e,i);else{if(!eo(d))throw new Error("Invalid CanLoad guard");f=d(e,i)}var n;return Ns(f)});return(0,Ot.of)(s).pipe(Dc(),ni(l=>{if(!So(l))return;const d=Ra(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw d.url=l,d}),(0,Wt.U)(l=>!0===l))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Ot.of)(i);if(r.numberOfChildren>1||!r.children[cn])return Th(t.redirectTo);r=r.children[cn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Xs(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ii(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return ii(e.children,(d,f)=>{l[f]=this.createSegmentGroup(t,d,i,r)}),new tn(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Gu(n){const t={};for(const i of Object.keys(n.children)){const s=Gu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[cn]){const t=n.children[cn];return new tn(n.segments.concat(t.segments),t.children)}return n}(new tn(n.segments,t))}class Gp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Sh{constructor(t,e){this.component=t,this.route=e}}function l_(n,t,e){const i=n._root;return sa(i,t?t._root:null,e,[i.value])}function Ll(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function sa(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Il(t);return n.children.forEach(l=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!er(n.url,t.url);case"pathParamsOrQueryParamsChange":return!er(n.url,t.url)||!Hi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mh(n,t)||!Hi(n.queryParams,t.queryParams);case"paramsChange":default:return!mh(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Gp(i)):(s.data=l.data,s._resolvedData=l._resolvedData),sa(n,t,s.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Sh(d.outlet.component,l))}else l&&oa(t,d,r),r.canActivateChecks.push(new Gp(i)),sa(n,null,s.component?d?d.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),ii(s,(l,d)=>oa(l,e.getContext(d),r)),r}function oa(n,t,e){const i=Il(n),r=n.value;ii(i,(s,l)=>{oa(s,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Sh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class qp{}function Oh(n){return new Vn.y(t=>t.error(n))}class no{constructor(t,e,i,r,s,l){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const t=Rl(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,cn);if(null===e)return null;const i=new fh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new os(i,e),s=new Cc(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Fp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const l=e.children[s],d=jp(t,s),f=this.processSegmentGroup(d,l,s);if(null===f)return null;i.push(...f)}const r=qu(i);return r.sort((t,e)=>t.value.outlet===cn?-1:e.value.outlet===cn?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const l=this.processSegmentAgainstRoute(s,e,i,r);if(null!==l)return l}return xh(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Dh(t,e,i,r))return null;let s,l=[],d=[];if("**"===t.path){const T=i.length>0?Dp(i).parameters:{};s=new fh(i,T,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jp(t),to(t),t.component,t,Zu(e),Ac(e)+i.length,Xp(t))}else{const T=cs(e,t,i);if(!T.matched)return null;l=T.consumedSegments,d=i.slice(T.lastChild),s=new fh(l,T.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jp(t),to(t),t.component,t,Zu(e),Ac(e)+l.length,Xp(t))}const f=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:g,slicedSegments:_}=Rl(e,l,d,f.filter(T=>void 0===T.redirectTo),this.relativeLinkResolution);var n;if(0===_.length&&g.hasChildren()){const T=this.processChildren(f,g);return null===T?null:[new os(s,T)]}if(0===f.length&&0===_.length)return[new os(s,[])];const b=to(t)===r,w=this.processSegment(f,g,_,b?cn:r);return null===w?null:[new os(s,w)]}}function Zp(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function qu(n){const t=[],e=new Set;for(const i of n){if(!Zp(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=qu(i.children);t.push(new os(i.value,r))}return t.filter(i=>!e.has(i))}function Zu(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ac(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Jp(n){return n.data||{}}function Xp(n){return n.resolve||{}}function E(n){return(0,Qi.w)(t=>{const e=n(t);return e?(0,Mr.D)(e).pipe((0,Wt.U)(()=>t)):(0,Ot.of)(t)})}class A extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const R=new u.OlP("ROUTES");class B{constructor(t,e,i,r){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Wt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const l=s.create(t);return new Ch(La(l.injector.get(R,void 0,u.XFs.Self|u.XFs.Optional)).map(Ha),l)}),(0,Zo.K)(s=>{throw e._loader$=void 0,s}));return e._loader$=new Gm(r,()=>new ln.x).pipe(ci()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Mr.D)(this.loader.load(t)):Ns(t()).pipe((0,En.z)(e=>e instanceof u.YKP?(0,Ot.of)(e):(0,Mr.D)(this.compiler.compileModuleAsync(e))))}}class V{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new z,this.attachRef=null}}class z{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new V,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Se{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ce(n){throw n}function rt(n,t,e){return t.parse("/")}function ht(n,t){return(0,Ot.of)(null)}const Tt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},It={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gt=(()=>{class n{constructor(e,i,r,s,l,d,f,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ln.x,this.errorHandler=Ce,this.malformedUriErrorHandler=rt,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ht,afterPreactivation:ht},this.urlHandlingStrategy=new Se,this.routeReuseStrategy=new A,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(u.h0i),this.console=l.get(u.c2e);const w=l.get(u.R0b);this.isNgZoneEnabled=w instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=new Xs(new tn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new B(d,f,T=>this.triggerEvent(new Cp(T)),T=>this.triggerEvent(new nh(T))),this.routerState=Rp(this.currentUrlTree,this.rootComponentType),this.transitions=new Fi.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe((0,jn.h)(r=>0!==r.id),(0,Wt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),(0,Qi.w)(r=>{let s=!1,l=!1;return(0,Ot.of)(r).pipe(ni(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Qi.w)(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return ot(d.source)&&(this.browserUrlTree=d.extractedUrl),(0,Ot.of)(d).pipe((0,Qi.w)(b=>{const w=this.transitions.getValue();return i.next(new th(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),w!==this.transitions.getValue()?ss.E:Promise.resolve(b)}),function(n,t,e,i){return(0,Qi.w)(r=>function(n,t,e,i,r){return new Mh(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Wt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ni(b=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:b.urlAfterRedirects})}),function(n,t,e,i,r){return(0,En.z)(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const l=new no(n,t,e,i,r,s).recognize();return null===l?Oh(new qp):(0,Ot.of)(l)}catch(l){return Oh(l)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,Wt.U)(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,b=>this.serializeUrl(b),this.paramsInheritanceStrategy,this.relativeLinkResolution),ni(b=>{"eager"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(b.urlAfterRedirects,b),this.browserUrlTree=b.urlAfterRedirects);const w=new Ym(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);i.next(w)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:T,source:N,restoredState:F,extras:I}=d,P=new th(w,this.serializeUrl(T),N,F);i.next(P);const L=Rp(T,this.rootComponentType).snapshot;return(0,Ot.of)(Object.assign(Object.assign({},d),{targetSnapshot:L,urlAfterRedirects:T,extras:Object.assign(Object.assign({},I),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,this.browserUrlTree=d.urlAfterRedirects,d.resolve(null),ss.E}),E(d=>{const{targetSnapshot:f,id:g,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:w,replaceUrl:T}}=d;return this.hooks.beforePreactivation(f,{navigationId:g,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!w,replaceUrl:!!T})}),ni(d=>{const f=new ku(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Wt.U)(d=>Object.assign(Object.assign({},d),{guards:l_(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(n,t){return(0,En.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,Ot.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Mr.D)(n).pipe((0,En.z)(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Ot.of)(!0);const l=s.map(d=>{const f=Ll(d,t,r);let g;if(function(n){return n&&eo(n.canDeactivate)}(f))g=Ns(f.canDeactivate(n,t,e,i));else{if(!eo(f))throw new Error("Invalid CanDeactivate guard");g=Ns(f(n,t,e,i))}return g.pipe(mc())});return(0,Ot.of)(l).pipe(Dc())}(r.component,r.route,e,t,i)),mc(r=>!0!==r,!0))}(l,i,r,n).pipe((0,En.z)(d=>d&&function(n){return"boolean"==typeof n}(d)?function(n,t,e,i){return(0,Mr.D)(t).pipe((0,Do.b)(r=>ka(function(n,t){return null!==n&&t&&t(new Xo(n)),(0,Ot.of)(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new Qo(n)),(0,Ot.of)(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Xi(()=>{const d=l.guards.map(f=>{const g=Ll(f,l.node,e);let _;if(function(n){return n&&eo(n.canActivateChild)}(g))_=Ns(g.canActivateChild(i,n));else{if(!eo(g))throw new Error("Invalid CanActivateChild guard");_=Ns(g(i,n))}return _.pipe(mc())});return(0,Ot.of)(d).pipe(Dc())}));return(0,Ot.of)(s).pipe(Dc())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ot.of)(!0);const r=i.map(s=>Xi(()=>{const l=Ll(s,t,e);let d;if(function(n){return n&&eo(n.canActivate)}(l))d=Ns(l.canActivate(t,n));else{if(!eo(l))throw new Error("Invalid CanActivate guard");d=Ns(l(t,n))}return d.pipe(mc())}));return(0,Ot.of)(r).pipe(Dc())}(n,r.route,e))),mc(r=>!0!==r,!0))}(i,s,n,t):(0,Ot.of)(d)),(0,Wt.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),ni(d=>{if(So(d.guardsResult)){const g=Ra(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw g.url=d.guardsResult,g}const f=new qm(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),(0,jn.h)(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),E(d=>{if(d.guards.canActivateChecks.length)return(0,Ot.of)(d).pipe(ni(f=>{const g=new i0(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,Qi.w)(f=>{let g=!1;return(0,Ot.of)(f).pipe(function(n,t){return(0,En.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Ot.of)(e);let s=0;return(0,Mr.D)(r).pipe((0,Do.b)(l=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return(0,Ot.of)({});const s={};return(0,Mr.D)(r).pipe((0,En.z)(l=>function(n,t,e,i){const r=Ll(n,t,i);return Ns(r.resolve?r.resolve(t,e):r(t,e))}(n[l],t,e,i).pipe(ni(d=>{s[l]=d}))),_r(1),(0,En.z)(()=>Object.keys(s).length===r.length?(0,Ot.of)(s):ss.E))}(n._resolve,n,t,i).pipe((0,Wt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Fp(n,e).resolve),null)))}(l.route,i,n,t)),ni(()=>s++),_r(1),(0,En.z)(l=>s===r.length?(0,Ot.of)(e):ss.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ni({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),ni(f=>{const g=new Zm(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),E(d=>{const{targetSnapshot:f,id:g,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:w,replaceUrl:T}}=d;return this.hooks.afterPreactivation(f,{navigationId:g,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!w,replaceUrl:!!T})}),(0,Wt.U)(d=>{const f=function(n,t,e){const i=ia(n,t._root,e?e._root:void 0);return new Pp(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),ni(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Wt.U)(i=>(new Wr(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),ni({next(){s=!0},complete(){s=!0}}),function(n){return(0,Sn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{if(!s&&!l){const d=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,d)):this.cancelNavigationTransition(r,d)}this.currentNavigation=null}),(0,Zo.K)(d=>{if(l=!0,function(n){return n&&n[Pu]}(d)){const f=So(d.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Js(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(g),f?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ot(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Al(r.id,this.serializeUrl(r.extractedUrl),d);i.next(f);try{r.resolve(this.errorHandler(d))}catch(g){r.reject(g)}}return ss.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:s,urlTree:l}=i,d={replaceUrl:!0};if(s){const f=Object.assign({},s);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(d.state=f)}this.scheduleNavigation(l,r,s,d)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const r=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!r||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){s_(e),this.config=e.map(Ha),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:f}=i,g=r||this.routerState.root,_=f?this.currentUrlTree.fragment:l;let b=null;switch(d){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),function(n,t,e,i,r){if(0===e.length)return $u(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wu(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return ii(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Wu(e,t,i)}(e);if(s.toRoot())return $u(t.root,new tn([],{}),t,i,r);const l=function(n,t,e){if(n.isAbsolute)return new bh(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new bh(s,s===t.root,0)}const i=Uu(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new bh(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=l.processChildren?wh(l.segmentGroup,l.index,s.commands):Lp(l.segmentGroup,l.index,s.commands);return $u(l.segmentGroup,d,t,i,r)}(g,this.currentUrlTree,e,b,null!=_?_:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=So(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Tt):!1===i?Object.assign({},It):i,So(e))return Mp(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Mp(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new To(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,l){var d,f;if(this.disposed)return Promise.resolve(!1);const g=this.getTransition(),_=ot(i)&&g&&!ot(g.source),T=(this.lastSuccessfulId===g.id||this.currentNavigation?g.rawUrl:g.urlAfterRedirects).toString()===e.toString();if(_&&T)return Promise.resolve(!0);let N,F,I;l?(N=l.resolve,F=l.reject,I=l.promise):I=new Promise((U,J)=>{N=U,F=J});const P=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),L=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):L=0,this.setTransition({id:P,targetPageId:L,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:N,reject:F,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Js(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.DyG),u.LFG(Vu),u.LFG(z),u.LFG(De),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ot(n){return"imperative"!==n}let pn=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.route=i,this.commands=[],this.onChanges=new ln.x,null==r&&s.setAttribute(l.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(gt),u.Y36(Va),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&u.NdJ("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),n})(),yn=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=[],this.onChanges=new ln.x,this.subscription=e.events.subscribe(s=>{s instanceof To&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,l){if(0!==e||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target)return!0;const d={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(gt),u.Y36(Va),u.Y36(te))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&u.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&(u.Ikx("href",i.href,u.LSH),u.uIk("target",i.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[u.TTD]}),n})();function bn(n){return""===n||!!n}let bi=(()=>{class n{constructor(e,i,r,s,l,d){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=l,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(f=>{f instanceof To&&this.update()})}ngAfterContentInit(){(0,Ot.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ot.of)(null)).pipe((0,Qd.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Mr.D)(i).pipe((0,Qd.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(gt),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(pn,8),u.Y36(yn,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(u.Suo(r,pn,5),u.Suo(r,yn,5)),2&e){let s;u.iGM(s=u.CRH())&&(i.links=s),u.iGM(s=u.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})(),Bi=(()=>{class n{constructor(e,i,r,s,l){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=s||cn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const l=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new Ar(e,d,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(z),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Ar{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Va?this.route:t===z?this.childContexts:this.parent.get(t,e)}}class Mi{}class Ku{preload(t,e){return(0,Ot.of)(null)}}let aa=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=s,this.preloadingStrategy=l,this.loader=new B(i,r,g=>e.triggerEvent(new Cp(g)),g=>e.triggerEvent(new nh(g)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,jn.h)(e=>e instanceof To),(0,Do.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;r.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Mr.D)(r).pipe((0,Qd.J)(),(0,Wt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Ot.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,En.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(gt),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(Mi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Nh=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof th?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof To&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ep&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Ep(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(gt),u.LFG(Fd),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=new u.OlP("ROUTER_CONFIGURATION"),tt=new u.OlP("ROUTER_FORROOT_GUARD"),jt=[De,{provide:Vu,useClass:Ol},{provide:gt,useFactory:function(n,t,e,i,r,s,l,d={},f,g){const _=new gt(null,n,t,e,i,r,s,La(l));return f&&(_.urlHandlingStrategy=f),g&&(_.routeReuseStrategy=g),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(d,_),d.enableTracing&&_.events.subscribe(b=>{var w,T;null===(w=console.group)||void 0===w||w.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(T=console.groupEnd)||void 0===T||T.call(console)}),_},deps:[Vu,z,De,u.zs3,u.v3s,u.Sil,R,Vl,[class{},new u.FiY],[class{},new u.FiY]]},z,{provide:Va,useFactory:function(n){return n.routerState.root},deps:[gt]},{provide:u.v3s,useClass:u.EAV},aa,Ku,class{preload(t,e){return e().pipe((0,Zo.K)(()=>(0,Ot.of)(null)))}},{provide:Vl,useValue:{enableTracing:!1}}];function rn(){return new u.PXZ("Router",gt)}let Ht=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[jt,Io(e),{provide:tt,useFactory:Oo,deps:[[gt,new u.FiY,new u.tp0]]},{provide:Vl,useValue:i||{}},{provide:te,useFactory:sr,deps:[he,[new u.tBr(le),new u.FiY],Vl]},{provide:Nh,useFactory:rr,deps:[gt,Fd,Vl]},{provide:Mi,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ku},{provide:u.PXZ,multi:!0,useFactory:rn},[kh,{provide:u.ip1,multi:!0,useFactory:Ph,deps:[kh]},{provide:Ju,useFactory:__,deps:[kh]},{provide:u.tb,multi:!0,useExisting:Ju}]]}}static forChild(e){return{ngModule:n,providers:[Io(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(tt,8),u.LFG(gt,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function rr(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Nh(n,t,e)}function sr(n,t,e={}){return e.useHash?new Re(n,t):new ce(n,t)}function Oo(n){return"guarded"}function Io(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:R,multi:!0,useValue:n}]}let kh=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ln.x}appInitializer(){return this.injector.get(fe,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(gt),l=this.injector.get(Vl);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,Ot.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Vl),r=this.injector.get(aa),s=this.injector.get(Nh),l=this.injector.get(gt),d=this.injector.get(u.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&l.initialNavigation(),r.setUpPreloading(),s.init(),l.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ph(n){return n.appInitializer.bind(n)}function __(n){return n.bootstrapListener.bind(n)}const Ju=new u.OlP("Router Initializer");function qk(){}function rC(n){return null==n?qk:function(){return this.querySelector(n)}}function Kk(n){return null==n?[]:Array.isArray(n)?n:Array.from(n)}function Jk(){return[]}function CM(n){return null==n?Jk:function(){return this.querySelectorAll(n)}}function y_(n){return function(){return this.matches(n)}}function sC(n){return function(t){return t.matches(n)}}var oC=Array.prototype.find;function aC(){return this.firstElementChild}var EM=Array.prototype.filter;function Nc(){return Array.from(this.children)}function b_(n){return new Array(n.length)}function eg(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}function TM(n){return function(){return n}}function MM(n,t,e,i,r,s){for(var d,l=0,f=t.length,g=s.length;l<g;++l)(d=t[l])?(d.__data__=s[l],i[l]=d):e[l]=new eg(n,s[l]);for(;l<f;++l)(d=t[l])&&(r[l]=d)}function tg(n,t,e,i,r,s,l){var d,f,T,g=new Map,_=t.length,b=s.length,w=new Array(_);for(d=0;d<_;++d)(f=t[d])&&(w[d]=T=l.call(f,f.__data__,d,t)+"",g.has(T)?r[d]=f:g.set(T,f));for(d=0;d<b;++d)T=l.call(n,s[d],d,s)+"",(f=g.get(T))?(i[d]=f,f.__data__=s[d],g.delete(T)):e[d]=new eg(n,s[d]);for(d=0;d<_;++d)(f=t[d])&&g.get(w[d])===f&&(r[d]=f)}function Rh(n){return n.__data__}function Fh(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function w0(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}eg.prototype={constructor:eg,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var w_="http://www.w3.org/1999/xhtml";const E0={svg:"http://www.w3.org/2000/svg",xhtml:w_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function C_(n){var t=n+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),E0.hasOwnProperty(t)?{space:E0[t],local:n}:n}function fC(n){return function(){this.removeAttribute(n)}}function OM(n){return function(){this.removeAttributeNS(n.space,n.local)}}function IM(n,t){return function(){this.setAttribute(n,t)}}function ro(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function NM(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}}function kM(n,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function PM(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function pC(n){return function(){this.style.removeProperty(n)}}function nP(n,t,e){return function(){this.style.setProperty(n,t,e)}}function RM(n,t,e){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(n):this.style.setProperty(n,i,e)}}function Xu(n,t){return n.style.getPropertyValue(t)||PM(n).getComputedStyle(n,null).getPropertyValue(t)}function FM(n){return function(){delete this[n]}}function LM(n,t){return function(){this[n]=t}}function BM(n,t){return function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}}function mC(n){return n.trim().split(/^|\s+/)}function E_(n){return n.classList||new _C(n)}function _C(n){this._node=n,this._names=mC(n.getAttribute("class")||"")}function yC(n,t){for(var e=E_(n),i=-1,r=t.length;++i<r;)e.add(t[i])}function x0(n,t){for(var e=E_(n),i=-1,r=t.length;++i<r;)e.remove(t[i])}function bC(n){return function(){yC(this,n)}}function VM(n){return function(){x0(this,n)}}function Ua(n,t){return function(){(t.apply(this,arguments)?yC:x0)(this,n)}}function jM(){this.textContent=""}function HM(n){return function(){this.textContent=n}}function iP(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}function zM(){this.innerHTML=""}function UM(n){return function(){this.innerHTML=n}}function $M(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}function WM(){this.nextSibling&&this.parentNode.appendChild(this)}function D_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YM(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===w_&&t.documentElement.namespaceURI===w_?t.createElement(n):t.createElementNS(e,n)}}function A0(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function x_(n){var t=C_(n);return(t.local?A0:YM)(t)}function qM(){return null}function O0(){var n=this.parentNode;n&&n.removeChild(this)}function KM(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function CC(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function TC(n){return n.trim().split(/^|\s+/).map(function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}})}function jl(n){return function(){var t=this.__on;if(t){for(var s,e=0,i=-1,r=t.length;e<r;++e)s=t[e],n.type&&s.type!==n.type||s.name!==n.name?t[++i]=s:this.removeEventListener(s.type,s.listener,s.options);++i?t.length=i:delete this.__on}}}function T_(n,t,e){return function(){var r,i=this.__on,s=function(n){return function(t){n.call(this,t,this.__data__)}}(t);if(i)for(var l=0,d=i.length;l<d;++l)if((r=i[l]).type===n.type&&r.name===n.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=e),void(r.value=t);this.addEventListener(n.type,s,e),r={type:n.type,name:n.name,value:t,listener:s,options:e},i?i.push(r):this.__on=[r]}}function MC(n,t,e){var i=PM(n),r=i.CustomEvent;"function"==typeof r?r=new r(t,e):(r=i.document.createEvent("Event"),e?(r.initEvent(t,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(t,!1,!1)),n.dispatchEvent(r)}function sP(n,t){return function(){return MC(this,n,t)}}function Bh(n,t){return function(){return MC(this,n,t.apply(this,arguments))}}_C.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var Vh=[null];function so(n,t){this._groups=n,this._parents=t}function M_(){return new so([[document.documentElement]],Vh)}so.prototype=M_.prototype={constructor:so,select:function(n){"function"!=typeof n&&(n=rC(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var f,g,s=t[r],l=s.length,d=i[r]=new Array(l),_=0;_<l;++_)(f=s[_])&&(g=n.call(f,f.__data__,_,s))&&("__data__"in f&&(g.__data__=f.__data__),d[_]=g);return new so(i,this._parents)},selectAll:function(n){n="function"==typeof n?function(n){return function(){return Kk(n.apply(this,arguments))}}(n):CM(n);for(var t=this._groups,e=t.length,i=[],r=[],s=0;s<e;++s)for(var f,l=t[s],d=l.length,g=0;g<d;++g)(f=l[g])&&(i.push(n.call(f,f.__data__,g,l)),r.push(f));return new so(i,r)},selectChild:function(n){return this.select(null==n?aC:function(n){return function(){return oC.call(this.children,n)}}("function"==typeof n?n:sC(n)))},selectChildren:function(n){return this.selectAll(null==n?Nc:function(n){return function(){return EM.call(this.children,n)}}("function"==typeof n?n:sC(n)))},filter:function(n){"function"!=typeof n&&(n=y_(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var f,s=t[r],l=s.length,d=i[r]=[],g=0;g<l;++g)(f=s[g])&&n.call(f,f.__data__,g,s)&&d.push(f);return new so(i,this._parents)},data:function(n,t){if(!arguments.length)return Array.from(this,Rh);var e=t?tg:MM,i=this._parents,r=this._groups;"function"!=typeof n&&(n=TM(n));for(var s=r.length,l=new Array(s),d=new Array(s),f=new Array(s),g=0;g<s;++g){var _=i[g],b=r[g],w=b.length,T=Fh(n.call(_,_&&_.__data__,g,i)),N=T.length,F=d[g]=new Array(N),I=l[g]=new Array(N),P=f[g]=new Array(w);e(_,b,F,I,P,T,t);for(var J,K,L=0,U=0;L<N;++L)if(J=F[L]){for(L>=U&&(U=L+1);!(K=I[U])&&++U<N;);J._next=K||null}}return(l=new so(l,i))._enter=d,l._exit=f,l},enter:function(){return new so(this._enter||this._groups.map(b_),this._parents)},exit:function(){return new so(this._exit||this._groups.map(b_),this._parents)},join:function(n,t,e){var i=this.enter(),r=this,s=this.exit();return"function"==typeof n?(i=n(i))&&(i=i.selection()):i=i.append(n+""),null!=t&&(r=t(r))&&(r=r.selection()),null==e?s.remove():e(s),i&&r?i.merge(r).order():r},merge:function(n){for(var t=n.selection?n.selection():n,e=this._groups,i=t._groups,r=e.length,l=Math.min(r,i.length),d=new Array(r),f=0;f<l;++f)for(var T,g=e[f],_=i[f],b=g.length,w=d[f]=new Array(b),N=0;N<b;++N)(T=g[N]||_[N])&&(w[N]=T);for(;f<r;++f)d[f]=e[f];return new so(d,this._parents)},selection:function(){return this},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var l,i=n[t],r=i.length-1,s=i[r];--r>=0;)(l=i[r])&&(s&&4^l.compareDocumentPosition(s)&&s.parentNode.insertBefore(l,s),s=l);return this},sort:function(n){function t(b,w){return b&&w?n(b.__data__,w.__data__):!b-!w}n||(n=w0);for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s){for(var g,l=e[s],d=l.length,f=r[s]=new Array(d),_=0;_<d;++_)(g=l[_])&&(f[_]=g);f.sort(t)}return new so(r,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var i=n[t],r=0,s=i.length;r<s;++r){var l=i[r];if(l)return l}return null},size:function(){let n=0;for(const t of this)++n;return n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var d,r=t[e],s=0,l=r.length;s<l;++s)(d=r[s])&&n.call(d,d.__data__,s,r);return this},attr:function(n,t){var e=C_(n);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==t?e.local?OM:fC:"function"==typeof t?e.local?kM:NM:e.local?ro:IM)(e,t))},style:function(n,t,e){return arguments.length>1?this.each((null==t?pC:"function"==typeof t?RM:nP)(n,t,null==e?"":e)):Xu(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?FM:"function"==typeof t?BM:LM)(n,t)):this.node()[n]},classed:function(n,t){var e=mC(n+"");if(arguments.length<2){for(var i=E_(this.node()),r=-1,s=e.length;++r<s;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof t?Ua:t?bC:VM)(e,t))},text:function(n){return arguments.length?this.each(null==n?jM:("function"==typeof n?iP:HM)(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?zM:("function"==typeof n?$M:UM)(n)):this.node().innerHTML},raise:function(){return this.each(WM)},lower:function(){return this.each(D_)},append:function(n){var t="function"==typeof n?n:x_(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(n,t){var e="function"==typeof n?n:x_(n),i=null==t?qM:"function"==typeof t?t:rC(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(O0)},clone:function(n){return this.select(n?CC:KM)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var r,l,i=TC(n+""),s=i.length;if(!(arguments.length<2)){for(d=t?T_:jl,r=0;r<s;++r)this.each(d(i[r],t,e));return this}var d=this.node().__on;if(d)for(var _,f=0,g=d.length;f<g;++f)for(r=0,_=d[f];r<s;++r)if((l=i[r]).type===_.type&&l.name===_.name)return _.value},dispatch:function(n,t){return this.each(("function"==typeof t?Bh:sP)(n,t))},[Symbol.iterator]:function*(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var l,i=n[t],r=0,s=i.length;r<s;++r)(l=i[r])&&(yield l)}};const rg=M_;var OC={value:()=>{}};function IC(){for(var i,n=0,t=arguments.length,e={};n<t;++n){if(!(i=arguments[n]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new jh(e)}function jh(n){this._=n}function XM(n,t){return n.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}function QM(n,t){for(var r,e=0,i=n.length;e<i;++e)if((r=n[e]).name===t)return r.value}function I0(n,t,e){for(var i=0,r=n.length;i<r;++i)if(n[i].name===t){n[i]=OC,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=e&&n.push({name:t,value:e}),n}jh.prototype=IC.prototype={constructor:jh,on:function(n,t){var r,e=this._,i=XM(n+"",e),s=-1,l=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<l;)if(r=(n=i[s]).type)e[r]=I0(e[r],n.name,t);else if(null==t)for(r in e)e[r]=I0(e[r],n.name,null);return this}for(;++s<l;)if((r=(n=i[s]).type)&&(r=QM(e[r],n.name)))return r},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new jh(n)},call:function(n,t){if((r=arguments.length-2)>0)for(var r,s,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(s=this._[n]).length;i<r;++i)s[i].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(t,e)}};const Hh=IC;var S_,ag,Qu=0,sg=0,og=0,A_=0,td=0,N0=0,lg="object"==typeof performance&&performance.now?performance:Date,k0="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Kn(){return td||(k0(P0),td=lg.now()+N0)}function P0(){td=0}function R0(){this._call=this._time=this._next=null}function $a(n,t,e){var i=new R0;return i.restart(n,t,e),i}function O_(){td=(A_=lg.now())+N0,Qu=sg=0;try{!function(){Kn(),++Qu;for(var t,n=S_;n;)(t=td-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Qu}()}finally{Qu=0,function(){for(var n,e,t=S_,i=1/0;t;)t._call?(i>t._time&&(i=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:S_=e);ag=n,L0(i)}(),td=0}}function oP(){var n=lg.now(),t=n-A_;t>1e3&&(N0-=t,A_=n)}function L0(n){Qu||(sg&&(sg=clearTimeout(sg)),n-td>24?(n<1/0&&(sg=setTimeout(O_,n-lg.now()-N0)),og&&(og=clearInterval(og))):(og||(A_=lg.now(),og=setInterval(oP,1e3)),Qu=1,k0(O_)))}function B0(n,t,e){var i=new R0;return i.restart(r=>{i.stop(),n(r+t)},t=null==t?0:+t,e),i}R0.prototype=$a.prototype={constructor:R0,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?Kn():+e)+(null==t?0:+t),!this._next&&ag!==this&&(ag?ag._next=this:S_=this,ag=this),this._call=n,this._time=e,L0()},stop:function(){this._call&&(this._call=null,this._time=1/0,L0())}};var NC=Hh("start","end","cancel","interrupt"),kC=[];function ug(n,t,e,i,r,s){var l=n.__transition;if(l){if(e in l)return}else n.__transition={};!function(n,t,e){var r,i=n.__transition;function l(g){var _,b,w,T;if(1!==e.state)return f();for(_ in i)if((T=i[_]).name===e.name){if(3===T.state)return B0(l);4===T.state?(T.state=6,T.timer.stop(),T.on.call("interrupt",n,n.__data__,T.index,T.group),delete i[_]):+_<t&&(T.state=6,T.timer.stop(),T.on.call("cancel",n,n.__data__,T.index,T.group),delete i[_])}if(B0(function(){3===e.state&&(e.state=4,e.timer.restart(d,e.delay,e.time),d(g))}),e.state=2,e.on.call("start",n,n.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(w=e.tween.length),_=0,b=-1;_<w;++_)(T=e.tween[_].value.call(n,n.__data__,e.index,e.group))&&(r[++b]=T);r.length=b+1}}function d(g){for(var _=g<e.duration?e.ease.call(null,g/e.duration):(e.timer.restart(f),e.state=5,1),b=-1,w=r.length;++b<w;)r[b].call(n,_);5===e.state&&(e.on.call("end",n,n.__data__,e.index,e.group),f())}function f(){for(var g in e.state=6,e.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=e,e.timer=$a(function(g){e.state=1,e.timer.restart(l,e.delay,e.time),e.delay<=g&&l(g-e.delay)},0,e.time)}(n,e,{name:t,index:i,group:r,on:NC,tween:kC,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function k_(n,t){var e=la(n,t);if(e.state>0)throw new Error("too late; already scheduled");return e}function Wa(n,t){var e=la(n,t);if(e.state>3)throw new Error("too late; already running");return e}function la(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function Ga(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}var U0,H0=180/Math.PI,z0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FC(n,t,e,i,r,s){var l,d,f;return(l=Math.sqrt(n*n+t*t))&&(n/=l,t/=l),(f=n*e+t*i)&&(e-=n*f,i-=t*f),(d=Math.sqrt(e*e+i*i))&&(e/=d,i/=d,f/=d),n*i<t*e&&(n=-n,t=-t,f=-f,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(t,n)*H0,skewX:Math.atan(f)*H0,scaleX:l,scaleY:d}}function LC(n,t,e,i){function r(g){return g.length?g.pop()+" ":""}return function(g,_){var b=[],w=[];return g=n(g),_=n(_),function(g,_,b,w,T,N){if(g!==b||_!==w){var F=T.push("translate(",null,t,null,e);N.push({i:F-4,x:Ga(g,b)},{i:F-2,x:Ga(_,w)})}else(b||w)&&T.push("translate("+b+t+w+e)}(g.translateX,g.translateY,_.translateX,_.translateY,b,w),function(g,_,b,w){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),w.push({i:b.push(r(b)+"rotate(",null,i)-2,x:Ga(g,_)})):_&&b.push(r(b)+"rotate("+_+i)}(g.rotate,_.rotate,b,w),function(g,_,b,w){g!==_?w.push({i:b.push(r(b)+"skewX(",null,i)-2,x:Ga(g,_)}):_&&b.push(r(b)+"skewX("+_+i)}(g.skewX,_.skewX,b,w),function(g,_,b,w,T,N){if(g!==b||_!==w){var F=T.push(r(T)+"scale(",null,",",null,")");N.push({i:F-4,x:Ga(g,b)},{i:F-2,x:Ga(_,w)})}else(1!==b||1!==w)&&T.push(r(T)+"scale("+b+","+w+")")}(g.scaleX,g.scaleY,_.scaleX,_.scaleY,b,w),g=_=null,function(T){for(var I,N=-1,F=w.length;++N<F;)b[(I=w[N]).i]=I.x(T);return b.join("")}}}var BC=LC(function(n){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?z0:FC(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),VC=LC(function(n){return null!=n&&(U0||(U0=document.createElementNS("http://www.w3.org/2000/svg","g")),U0.setAttribute("transform",n),n=U0.transform.baseVal.consolidate())?FC((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):z0},", ",")",")");function lP(n,t){var e,i;return function(){var r=Wa(this,n),s=r.tween;if(s!==e)for(var l=0,d=(i=e=s).length;l<d;++l)if(i[l].name===t){(i=i.slice()).splice(l,1);break}r.tween=i}}function ca(n,t,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var s=Wa(this,n),l=s.tween;if(l!==i){r=(i=l).slice();for(var d={name:t,value:e},f=0,g=r.length;f<g;++f)if(r[f].name===t){r[f]=d;break}f===g&&r.push(d)}s.tween=r}}function jC(n,t,e){var i=n._id;return n.each(function(){var r=Wa(this,i);(r.value||(r.value={}))[t]=e.apply(this,arguments)}),function(r){return la(r,i).value[t]}}function P_(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function dg(n,t){var e=Object.create(n.prototype);for(var i in t)e[i]=t[i];return e}function Pc(){}var R_=1/.7,hg="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",No="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iS=/^#([0-9a-f]{3,8})$/,W0=new RegExp("^rgb\\("+[hg,hg,hg]+"\\)$"),rS=new RegExp("^rgb\\("+[No,No,No]+"\\)$"),sS=new RegExp("^rgba\\("+[hg,hg,hg,Uh]+"\\)$"),oS=new RegExp("^rgba\\("+[No,No,No,Uh]+"\\)$"),aS=new RegExp("^hsl\\("+[Uh,No,No]+"\\)$"),lS=new RegExp("^hsla\\("+[Uh,No,No,Uh]+"\\)$"),HC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fg(){return this.rgb().formatHex()}function G0(){return this.rgb().formatRgb()}function Or(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=iS.exec(n))?(e=t[1].length,t=parseInt(t[1],16),6===e?Wh(t):3===e?new ui(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?F_(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?F_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=W0.exec(n))?new ui(t[1],t[2],t[3],1):(t=rS.exec(n))?new ui(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sS.exec(n))?F_(t[1],t[2],t[3],t[4]):(t=oS.exec(n))?F_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=aS.exec(n))?pg(t[1],t[2]/100,t[3]/100,1):(t=lS.exec(n))?pg(t[1],t[2]/100,t[3]/100,t[4]):HC.hasOwnProperty(n)?Wh(HC[n]):"transparent"===n?new ui(NaN,NaN,NaN,0):null}function Wh(n){return new ui(n>>16&255,n>>8&255,255&n,1)}function F_(n,t,e,i){return i<=0&&(n=t=e=NaN),new ui(n,t,e,i)}function zC(n){return n instanceof Pc||(n=Or(n)),n?new ui((n=n.rgb()).r,n.g,n.b,n.opacity):new ui}function Gh(n,t,e,i){return 1===arguments.length?zC(n):new ui(n,t,e,null==i?1:i)}function ui(n,t,e,i){this.r=+n,this.g=+t,this.b=+e,this.opacity=+i}function Yh(){return"#"+Hl(this.r)+Hl(this.g)+Hl(this.b)}function Ir(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function Hl(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function pg(n,t,e,i){return i<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new ds(n,t,e,i)}function oo(n){if(n instanceof ds)return new ds(n.h,n.s,n.l,n.opacity);if(n instanceof Pc||(n=Or(n)),!n)return new ds;if(n instanceof ds)return n;var t=(n=n.rgb()).r/255,e=n.g/255,i=n.b/255,r=Math.min(t,e,i),s=Math.max(t,e,i),l=NaN,d=s-r,f=(s+r)/2;return d?(l=t===s?(e-i)/d+6*(e<i):e===s?(i-t)/d+2:(t-e)/d+4,d/=f<.5?s+r:2-s-r,l*=60):d=f>0&&f<1?0:l,new ds(l,d,f,n.opacity)}function ds(n,t,e,i){this.h=+n,this.s=+t,this.l=+e,this.opacity=+i}function Rc(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}function nd(n,t,e,i,r){var s=n*n,l=s*n;return((1-3*n+3*s-l)*t+(4-6*s+3*l)*e+(1+3*n+3*s-3*l)*i+l*r)/6}P_(Pc,Or,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:fg,formatHex:fg,formatHsl:function(){return oo(this).formatHsl()},formatRgb:G0,toString:G0}),P_(ui,Gh,dg(Pc,{brighter:function(n){return n=null==n?R_:Math.pow(R_,n),new ui(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new ui(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yh,formatHex:Yh,formatRgb:Ir,toString:Ir})),P_(ds,function(n,t,e,i){return 1===arguments.length?oo(n):new ds(n,t,e,null==i?1:i)},dg(Pc,{brighter:function(n){return n=null==n?R_:Math.pow(R_,n),new ds(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new ds(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*t,r=2*e-i;return new ui(Rc(n>=240?n-240:n+120,r,i),Rc(n,r,i),Rc(n<120?n+240:n-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const zl=n=>()=>n;function id(n,t){return function(e){return n+e*t}}function rd(n,t){var e=t-n;return e?id(n,e):zl(isNaN(n)?t:n)}const gg=function n(t){var e=function(n){return 1==(n=+n)?rd:function(t,e){return e-t?function(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(i){return Math.pow(n+i*t,e)}}(t,e,n):zl(isNaN(t)?e:t)}}(t);function i(r,s){var l=e((r=Gh(r)).r,(s=Gh(s)).r),d=e(r.g,s.g),f=e(r.b,s.b),g=rd(r.opacity,s.opacity);return function(_){return r.r=l(_),r.g=d(_),r.b=f(_),r.opacity=g(_),r+""}}return i.gamma=n,i}(1);function q0(n){return function(t){var l,d,e=t.length,i=new Array(e),r=new Array(e),s=new Array(e);for(l=0;l<e;++l)d=Gh(t[l]),i[l]=d.r||0,r[l]=d.g||0,s[l]=d.b||0;return i=n(i),r=n(r),s=n(s),d.opacity=1,function(f){return d.r=i(f),d.g=r(f),d.b=s(f),d+""}}}q0(function(n){var t=n.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),r=n[i],s=n[i+1];return nd((e-i/t)*t,i>0?n[i-1]:2*r-s,r,s,i<t-1?n[i+2]:2*s-r)}}),q0(function(n){var t=n.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*t);return nd((e-i/t)*t,n[(i+t-1)%t],n[i%t],n[(i+1)%t],n[(i+2)%t])}});var L_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B_=new RegExp(L_.source,"g");function Z0(n,t){var i,r,s,e=L_.lastIndex=B_.lastIndex=0,l=-1,d=[],f=[];for(n+="",t+="";(i=L_.exec(n))&&(r=B_.exec(t));)(s=r.index)>e&&(s=t.slice(e,s),d[l]?d[l]+=s:d[++l]=s),(i=i[0])===(r=r[0])?d[l]?d[l]+=r:d[++l]=r:(d[++l]=null,f.push({i:l,x:Ga(i,r)})),e=B_.lastIndex;return e<t.length&&(s=t.slice(e),d[l]?d[l]+=s:d[++l]=s),d.length<2?f[0]?function(n){return function(t){return n(t)+""}}(f[0].x):function(n){return function(){return n}}(t):(t=f.length,function(g){for(var b,_=0;_<t;++_)d[(b=f[_]).i]=b.x(g);return d.join("")})}function WC(n,t){var e;return("number"==typeof t?Ga:t instanceof Or?gg:(e=Or(t))?(t=e,gg):Z0)(n,t)}function GC(n){return function(){this.removeAttribute(n)}}function YC(n){return function(){this.removeAttributeNS(n.space,n.local)}}function hS(n,t,e){var i,s,r=e+"";return function(){var l=this.getAttribute(n);return l===r?null:l===i?s:s=t(i=l,e)}}function uP(n,t,e){var i,s,r=e+"";return function(){var l=this.getAttributeNS(n.space,n.local);return l===r?null:l===i?s:s=t(i=l,e)}}function fS(n,t,e){var i,r,s;return function(){var l,f,d=e(this);return null==d?void this.removeAttribute(n):(l=this.getAttribute(n))===(f=d+"")?null:l===i&&f===r?s:(r=f,s=t(i=l,d))}}function qC(n,t,e){var i,r,s;return function(){var l,f,d=e(this);return null==d?void this.removeAttributeNS(n.space,n.local):(l=this.getAttributeNS(n.space,n.local))===(f=d+"")?null:l===i&&f===r?s:(r=f,s=t(i=l,d))}}function ZC(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function gS(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function mS(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&gS(n,s)),e}return r._value=t,r}function dP(n,t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&ZC(n,s)),e}return r._value=t,r}function KC(n,t){return function(){k_(this,n).delay=+t.apply(this,arguments)}}function hP(n,t){return t=+t,function(){k_(this,n).delay=t}}function pP(n,t){return function(){Wa(this,n).duration=+t.apply(this,arguments)}}function yS(n,t){return t=+t,function(){Wa(this,n).duration=t}}function bS(n,t){if("function"!=typeof t)throw new Error;return function(){Wa(this,n).ease=t}}function yP(n,t,e){var i,r,s=function(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?k_:Wa;return function(){var l=s(this,n),d=l.on;d!==i&&(r=(i=d).copy()).on(t,e),l.on=r}}var DS=rg.prototype.constructor;function X0(n){return function(){this.style.removeProperty(n)}}function SS(n,t,e){return function(i){this.style.setProperty(n,t.call(this,i),e)}}function AS(n,t,e){var i,r;function s(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&SS(n,l,e)),i}return s._value=t,s}function tE(n){return function(t){this.textContent=n.call(this,t)}}function nE(n){var t,e;function i(){var r=n.apply(this,arguments);return r!==e&&(t=(e=r)&&tE(r)),t}return i._value=n,i}var kS=0;function Fc(n,t,e,i){this._groups=n,this._parents=t,this._name=e,this._id=i}function iE(){return++kS}var ua=rg.prototype;Fc.prototype=function(n){return rg().transition(n)}.prototype={constructor:Fc,select:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=rC(n));for(var i=this._groups,r=i.length,s=new Array(r),l=0;l<r;++l)for(var _,b,d=i[l],f=d.length,g=s[l]=new Array(f),w=0;w<f;++w)(_=d[w])&&(b=n.call(_,_.__data__,w,d))&&("__data__"in _&&(b.__data__=_.__data__),g[w]=b,ug(g[w],t,e,w,g,la(_,e)));return new Fc(s,this._parents,t,e)},selectAll:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=CM(n));for(var i=this._groups,r=i.length,s=[],l=[],d=0;d<r;++d)for(var _,f=i[d],g=f.length,b=0;b<g;++b)if(_=f[b]){for(var T,w=n.call(_,_.__data__,b,f),N=la(_,e),F=0,I=w.length;F<I;++F)(T=w[F])&&ug(T,t,e,F,w,N);s.push(w),l.push(_)}return new Fc(s,l,t,e)},selectChild:ua.selectChild,selectChildren:ua.selectChildren,filter:function(n){"function"!=typeof n&&(n=y_(n));for(var t=this._groups,e=t.length,i=new Array(e),r=0;r<e;++r)for(var f,s=t[r],l=s.length,d=i[r]=[],g=0;g<l;++g)(f=s[g])&&n.call(f,f.__data__,g,s)&&d.push(f);return new Fc(i,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,i=t.length,s=Math.min(i,e.length),l=new Array(i),d=0;d<s;++d)for(var w,f=t[d],g=e[d],_=f.length,b=l[d]=new Array(_),T=0;T<_;++T)(w=f[T]||g[T])&&(b[T]=w);for(;d<i;++d)l[d]=t[d];return new Fc(l,this._parents,this._name,this._id)},selection:function(){return new DS(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,e=iE(),i=this._groups,r=i.length,s=0;s<r;++s)for(var f,l=i[s],d=l.length,g=0;g<d;++g)if(f=l[g]){var _=la(f,t);ug(f,n,e,g,l,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Fc(i,this._parents,n,e)},call:ua.call,nodes:ua.nodes,node:ua.node,size:ua.size,empty:ua.empty,each:ua.each,on:function(n,t){var e=this._id;return arguments.length<2?la(this.node(),e).on.on(n):this.each(yP(e,n,t))},attr:function(n,t){var e=C_(n),i="transform"===e?VC:WC;return this.attrTween(n,"function"==typeof t?(e.local?qC:fS)(e,i,jC(this,"attr."+n,t)):null==t?(e.local?YC:GC)(e):(e.local?uP:hS)(e,i,t))},attrTween:function(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var i=C_(n);return this.tween(e,(i.local?mS:dP)(i,t))},style:function(n,t,e){var i="transform"==(n+="")?BC:WC;return null==t?this.styleTween(n,function(n,t){var e,i,r;return function(){var s=Xu(this,n),l=(this.style.removeProperty(n),Xu(this,n));return s===l?null:s===e&&l===i?r:r=t(e=s,i=l)}}(n,i)).on("end.style."+n,X0(n)):"function"==typeof t?this.styleTween(n,function(n,t,e){var i,r,s;return function(){var l=Xu(this,n),d=e(this),f=d+"";return null==d&&(this.style.removeProperty(n),f=d=Xu(this,n)),l===f?null:l===i&&f===r?s:(r=f,s=t(i=l,d))}}(n,i,jC(this,"style."+n,t))).each(function(n,t){var e,i,r,d,s="style."+t,l="end."+s;return function(){var f=Wa(this,n),g=f.on,_=null==f.value[s]?d||(d=X0(t)):void 0;(g!==e||r!==_)&&(i=(e=g).copy()).on(l,r=_),f.on=i}}(this._id,n)):this.styleTween(n,function(n,t,e){var i,s,r=e+"";return function(){var l=Xu(this,n);return l===r?null:l===i?s:s=t(i=l,e)}}(n,i,t),e).on("end.style."+n,null)},styleTween:function(n,t,e){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,AS(n,t,null==e?"":e))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(jC(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},textTween:function(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;return this.tween(t,nE(n))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(n,t){var e=this._id;if(n+="",arguments.length<2){for(var l,i=la(this.node(),e).tween,r=0,s=i.length;r<s;++r)if((l=i[r]).name===n)return l.value;return null}return this.each((null==t?lP:ca)(e,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?KC:hP)(t,n)):la(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?pP:yS)(t,n)):la(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(bS(t,n)):la(this.node(),t).ease},easeVarying:function(n){if("function"!=typeof n)throw new Error;return this.each(function(n,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;Wa(this,n).ease=e}}(this._id,n))},end:function(){var n,t,e=this,i=e._id,r=e.size();return new Promise(function(s,l){var d={value:l},f={value:function(){0==--r&&s()}};e.each(function(){var g=Wa(this,i),_=g.on;_!==n&&((t=(n=_).copy())._.cancel.push(d),t._.interrupt.push(d),t._.end.push(f)),g.on=t}),0===r&&s()})},[Symbol.iterator]:ua[Symbol.iterator]};var nv={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function sE(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}rg.prototype.interrupt=function(n){return this.each(function(){!function(n,t){var i,r,l,e=n.__transition,s=!0;if(e){for(l in t=null==t?null:t+"",e)(i=e[l]).name===t?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete e[l]):s=!1;s&&delete n.__transition}}(this,n)})},rg.prototype.transition=function(n){var t,e;n instanceof Fc?(t=n._id,n=n._name):(t=iE(),(e=nv).time=Kn(),n=null==n?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var f,l=i[s],d=l.length,g=0;g<d;++g)(f=l[g])&&ug(f,n,t,g,l,e||sE(f,t));return new Fc(i,this._parents,n,t)};Math;function ef(n){return{type:n}}["w","e"].map(ef),["n","s"].map(ef),["n","w","e","s","nw","ne","sw","se"].map(ef);const EP=Math.PI/180,VS=180/Math.PI,av=4/29,tf=6/29,hE=3*tf*tf;function pE(n){if(n instanceof Yr)return new Yr(n.l,n.a,n.b,n.opacity);if(n instanceof ko)return da(n);n instanceof ui||(n=zC(n));var s,l,t=uv(n.r),e=uv(n.g),i=uv(n.b),r=lv((.2225045*t+.7168786*e+.0606169*i)/1);return t===e&&e===i?s=l=r:(s=lv((.4360747*t+.3850649*e+.1430804*i)/.96422),l=lv((.0139322*t+.0971045*e+.7141733*i)/.82521)),new Yr(116*r-16,500*(s-r),200*(r-l),n.opacity)}function Yr(n,t,e,i){this.l=+n,this.a=+t,this.b=+e,this.opacity=+i}function lv(n){return n>.008856451679035631?Math.pow(n,1/3):n/hE+av}function cv(n){return n>tf?n*n*n:hE*(n-av)}function Y_(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function uv(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function dv(n){if(n instanceof ko)return new ko(n.h,n.c,n.l,n.opacity);if(n instanceof Yr||(n=pE(n)),0===n.a&&0===n.b)return new ko(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*VS;return new ko(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function vg(n,t,e,i){return 1===arguments.length?dv(n):new ko(n,t,e,null==i?1:i)}function ko(n,t,e,i){this.h=+n,this.c=+t,this.l=+e,this.opacity=+i}function da(n){if(isNaN(n.h))return new Yr(n.l,0,0,n.opacity);var t=n.h*EP;return new Yr(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}function mE(n){return function(t,e){var i=n((t=vg(t)).h,(e=vg(e)).h),r=rd(t.c,e.c),s=rd(t.l,e.l),l=rd(t.opacity,e.opacity);return function(d){return t.h=i(d),t.c=r(d),t.l=s(d),t.opacity=l(d),t+""}}}P_(Yr,function(n,t,e,i){return 1===arguments.length?pE(n):new Yr(n,t,e,null==i?1:i)},dg(Pc,{brighter:function(n){return new Yr(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new Yr(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return new ui(Y_(3.1338561*(t=.96422*cv(t))-1.6168667*(n=1*cv(n))-.4906146*(e=.82521*cv(e))),Y_(-.9787684*t+1.9161415*n+.033454*e),Y_(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}})),P_(ko,vg,dg(Pc,{brighter:function(n){return new ko(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new ko(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return da(this).rgb()}}));const hv=mE(function(n,t){var e=t-n;return e?id(n,e>180||e<-180?e-360*Math.round(e/360):e):zl(isNaN(n)?t:n)});mE(rd);var ao=Math.sqrt(50),lo=Math.sqrt(10),q_=Math.sqrt(2);function yE(n,t,e){var i=(t-n)/Math.max(0,e),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=ao?10:s>=lo?5:s>=q_?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=ao?10:s>=lo?5:s>=q_?2:1)}function fv(n,t){return null==n||null==t?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function bE(n){let t=n,e=n,i=n;function r(d,f,g=0,_=d.length){if(g<_){if(0!==e(f,f))return _;do{const b=g+_>>>1;i(d[b],f)<0?g=b+1:_=b}while(g<_)}return g}return 2!==n.length&&(t=(d,f)=>n(d)-f,e=fv,i=(d,f)=>fv(n(d),f)),{left:r,center:function(d,f,g=0,_=d.length){const b=r(d,f,g,_-1);return b>g&&t(d[b-1],f)>-t(d[b],f)?b-1:b},right:function(d,f,g=0,_=d.length){if(g<_){if(0!==e(f,f))return _;do{const b=g+_>>>1;i(d[b],f)<=0?g=b+1:_=b}while(g<_)}return g}}}const wE=bE(fv).right,CE=(bE(function(n){return null===n?NaN:+n}),wE);function EE(n,t){var l,e=t?t.length:0,i=n?Math.min(e,n.length):0,r=new Array(i),s=new Array(e);for(l=0;l<i;++l)r[l]=J_(n[l],t[l]);for(;l<e;++l)s[l]=t[l];return function(d){for(l=0;l<i;++l)s[l]=r[l](d);return s}}function DE(n,t){var e=new Date;return n=+n,t=+t,function(i){return e.setTime(n*(1-i)+t*i),e}}function xE(n,t){var r,e={},i={};for(r in(null===n||"object"!=typeof n)&&(n={}),(null===t||"object"!=typeof t)&&(t={}),t)r in n?e[r]=J_(n[r],t[r]):i[r]=t[r];return function(s){for(r in e)i[r]=e[r](s);return i}}function mv(n,t){t||(t=[]);var r,e=n?Math.min(t.length,n.length):0,i=t.slice();return function(s){for(r=0;r<e;++r)i[r]=n[r]*(1-s)+t[r]*s;return i}}function J_(n,t){var i,e=typeof t;return null==t||"boolean"===e?zl(t):("number"===e?Ga:"string"===e?(i=Or(t))?(t=i,gg):Z0:t instanceof Or?gg:t instanceof Date?DE:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(t)?mv:Array.isArray(t)?EE:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?xE:Ga)(n,t)}function TE(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function SE(n){return+n}var _v=[0,1];function sd(n){return n}function X_(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:function(n){return function(){return n}}(isNaN(t)?NaN:.5)}function US(n,t,e){var i=n[0],r=n[1],s=t[0],l=t[1];return r<i?(i=X_(r,i),s=e(l,s)):(i=X_(i,r),s=e(s,l)),function(d){return s(i(d))}}function $S(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=X_(n[l],n[l+1]),s[l]=e(t[l],t[l+1]);return function(d){var f=CE(n,d,1,i)-1;return s[f](r[f](d))}}function WS(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function GS(){return function(){var i,r,s,d,f,g,n=_v,t=_v,e=J_,l=sd;function _(){var w=Math.min(n.length,t.length);return l!==sd&&(l=function(n,t){var e;return n>t&&(e=n,n=t,t=e),function(i){return Math.max(n,Math.min(t,i))}}(n[0],n[w-1])),d=w>2?$S:US,f=g=null,b}function b(w){return null==w||isNaN(w=+w)?s:(f||(f=d(n.map(i),t,e)))(i(l(w)))}return b.invert=function(w){return l(r((g||(g=d(t,n.map(i),Ga)))(w)))},b.domain=function(w){return arguments.length?(n=Array.from(w,SE),_()):n.slice()},b.range=function(w){return arguments.length?(t=Array.from(w),_()):t.slice()},b.rangeRound=function(w){return t=Array.from(w),e=TE,_()},b.clamp=function(w){return arguments.length?(l=!!w||sd,_()):l!==sd},b.interpolate=function(w){return arguments.length?(e=w,_()):e},b.unknown=function(w){return arguments.length?(s=w,b):s},function(w,T){return i=w,r=T,_()}}()(sd,sd)}function IE(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}var NE,YS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Q_(n){if(!(t=YS.exec(n)))throw new Error("invalid format: "+n);var t;return new yv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yv(n){this.fill=void 0===n.fill?" ":n.fill+"",this.align=void 0===n.align?">":n.align+"",this.sign=void 0===n.sign?"-":n.sign+"",this.symbol=void 0===n.symbol?"":n.symbol+"",this.zero=!!n.zero,this.width=void 0===n.width?void 0:+n.width,this.comma=!!n.comma,this.precision=void 0===n.precision?void 0:+n.precision,this.trim=!!n.trim,this.type=void 0===n.type?"":n.type+""}function ey(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,i=n.slice(0,e);return[i.length>1?i[0]+i.slice(2):i,+n.slice(e+1)]}function nf(n){return(n=ey(Math.abs(n)))?n[1]:NaN}function bv(n,t){var e=ey(n,t);if(!e)return n+"";var i=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Q_.prototype=yv.prototype,yv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const vv={"%":(n,t)=>(100*n).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:function(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)},e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>bv(100*n,t),r:bv,s:function(n,t){var e=ey(n,t);if(!e)return n+"";var i=e[0],r=e[1],s=r-(NE=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+ey(n,Math.max(0,t+s-1))[0]},X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function wv(n){return n}var wg,Dv,ty,Cv=Array.prototype.map,Ev=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function rf(n){var t=n.domain;return n.ticks=function(e){var i=t();return function(n,t,e){var i,s,l,d,r=-1;if(e=+e,(n=+n)==(t=+t)&&e>0)return[n];if((i=t<n)&&(s=n,n=t,t=s),0===(d=yE(n,t,e))||!isFinite(d))return[];if(d>0){let f=Math.round(n/d),g=Math.round(t/d);for(f*d<n&&++f,g*d>t&&--g,l=new Array(s=g-f+1);++r<s;)l[r]=(f+r)*d}else{d=-d;let f=Math.round(n*d),g=Math.round(t*d);for(f/d<n&&++f,g/d>t&&--g,l=new Array(s=g-f+1);++r<s;)l[r]=(f+r)/d}return i&&l.reverse(),l}(i[0],i[i.length-1],null==e?10:e)},n.tickFormat=function(e,i){var r=t();return function(n,t,e,i){var s,r=function(n,t,e){var i=Math.abs(t-n)/Math.max(0,e),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=ao?r*=10:s>=lo?r*=5:s>=q_&&(r*=2),t<n?-r:r}(n,t,e);switch((i=Q_(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(n),Math.abs(t));return null==i.precision&&!isNaN(s=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))-nf(Math.abs(n)))}(r,l))&&(i.precision=s),ty(i,l);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(s=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,nf(t)-nf(n))+1}(r,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(s=function(n){return Math.max(0,-nf(Math.abs(n)))}(r))&&(i.precision=s-2*("%"===i.type))}return Dv(i)}(r[0],r[r.length-1],null==e?10:e,i)},n.nice=function(e){null==e&&(e=10);var f,g,i=t(),r=0,s=i.length-1,l=i[r],d=i[s],_=10;for(d<l&&(g=l,l=d,d=g,g=r,r=s,s=g);_-- >0;){if((g=yE(l,d,e))===f)return i[r]=l,i[s]=d,t(i);if(g>0)l=Math.floor(l/g)*g,d=Math.ceil(d/g)*g;else{if(!(g<0))break;l=Math.ceil(l*g)/g,d=Math.floor(d*g)/g}f=g}return n},n}function FE(){var n=GS();return n.copy=function(){return WS(n,FE())},IE.apply(n,arguments),rf(n)}wg=function(n){var t=void 0===n.grouping||void 0===n.thousands?wv:function(n,t){return function(e,i){for(var r=e.length,s=[],l=0,d=n[0],f=0;r>0&&d>0&&(f+d+1>i&&(d=Math.max(1,i-f)),s.push(e.substring(r-=d,r+d)),!((f+=d+1)>i));)d=n[l=(l+1)%n.length];return s.reverse().join(t)}}(Cv.call(n.grouping,Number),n.thousands+""),e=void 0===n.currency?"":n.currency[0]+"",i=void 0===n.currency?"":n.currency[1]+"",r=void 0===n.decimal?".":n.decimal+"",s=void 0===n.numerals?wv:function(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}(Cv.call(n.numerals,String)),l=void 0===n.percent?"%":n.percent+"",d=void 0===n.minus?"\u2212":n.minus+"",f=void 0===n.nan?"NaN":n.nan+"";function g(b){var w=(b=Q_(b)).fill,T=b.align,N=b.sign,F=b.symbol,I=b.zero,P=b.width,L=b.comma,U=b.precision,J=b.trim,K=b.type;"n"===K?(L=!0,K="g"):vv[K]||(void 0===U&&(U=12),J=!0,K="g"),(I||"0"===w&&"="===T)&&(I=!0,w="0",T="=");var ye="$"===F?e:"#"===F&&/[boxX]/.test(K)?"0"+K.toLowerCase():"",Fe="$"===F?i:/[%p]/.test(K)?l:"",Pe=vv[K],Xe=/[defgprs%]/.test(K);function dt(qe){var pe,$e,me,at=ye,Ze=Fe;if("c"===K)Ze=Pe(qe)+Ze,qe="";else{var Ge=(qe=+qe)<0||1/qe<0;if(qe=isNaN(qe)?f:Pe(Math.abs(qe),U),J&&(qe=function(n){e:for(var r,t=n.length,e=1,i=-1;e<t;++e)switch(n[e]){case".":i=r=e;break;case"0":0===i&&(i=e),r=e;break;default:if(!+n[e])break e;i>0&&(i=0)}return i>0?n.slice(0,i)+n.slice(r+1):n}(qe)),Ge&&0==+qe&&"+"!==N&&(Ge=!1),at=(Ge?"("===N?N:d:"-"===N||"("===N?"":N)+at,Ze=("s"===K?Ev[8+NE/3]:"")+Ze+(Ge&&"("===N?")":""),Xe)for(pe=-1,$e=qe.length;++pe<$e;)if(48>(me=qe.charCodeAt(pe))||me>57){Ze=(46===me?r+qe.slice(pe+1):qe.slice(pe))+Ze,qe=qe.slice(0,pe);break}}L&&!I&&(qe=t(qe,1/0));var ft=at.length+qe.length+Ze.length,ut=ft<P?new Array(P-ft+1).join(w):"";switch(L&&I&&(qe=t(ut+qe,ut.length?P-Ze.length:1/0),ut=""),T){case"<":qe=at+qe+Ze+ut;break;case"=":qe=at+ut+qe+Ze;break;case"^":qe=ut.slice(0,ft=ut.length>>1)+at+qe+Ze+ut.slice(ft);break;default:qe=ut+at+qe+Ze}return s(qe)}return U=void 0===U?6:/[gprs]/.test(K)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U)),dt.toString=function(){return b+""},dt}return{format:g,formatPrefix:function(b,w){var T=g(((b=Q_(b)).type="f",b)),N=3*Math.max(-8,Math.min(8,Math.floor(nf(w)/3))),F=Math.pow(10,-N),I=Ev[8+N/3];return function(P){return T(F*P)+I}}}}({thousands:",",grouping:[3],currency:["$",""]}),Dv=wg.format,ty=wg.formatPrefix;class ny extends Map{constructor(t,e=Ft){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(iy(this,t))}has(t){return super.has(iy(this,t))}set(t,e){return super.set(function({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):(n.set(i,e),e)}(this,t),e)}delete(t){return super.delete(function({_intern:n,_key:t},e){const i=t(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}(this,t))}}function iy({_intern:n,_key:t},e){const i=t(e);return n.has(i)?n.get(i):e}function Ft(n){return null!==n&&"object"==typeof n?n.valueOf():n}Set;const LE=Symbol("implicit");function BE(){var n=new ny,t=[],e=[],i=LE;function r(s){let l=n.get(s);if(void 0===l){if(i!==LE)return i;n.set(s,l=t.push(s)-1)}return e[l%e.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],n=new ny;for(const l of s)n.has(l)||n.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(e=Array.from(s),r):e.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return BE(t,e).unknown(i)},IE.apply(r,arguments),r}const ry=function(n){for(var t=n.length/6|0,e=new Array(t),i=0;i<t;)e[i]="#"+n.slice(6*i,6*++i);return e}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Tv(n){return"string"==typeof n?new so([[document.querySelector(n)]],[document.documentElement]):new so([[n]],Vh)}const sf=Math.PI,af=2*sf,Fn=1e-6,TP=af-Fn;function sy(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function oy(){return new sy}sy.prototype=oy.prototype={constructor:sy,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,e,i){this._+="Q"+ +n+","+ +t+","+(this._x1=+e)+","+(this._y1=+i)},bezierCurveTo:function(n,t,e,i,r,s){this._+="C"+ +n+","+ +t+","+ +e+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(n,t,e,i,r){var s=this._x1,l=this._y1,d=(e=+e)-(n=+n),f=(i=+i)-(t=+t),g=s-n,_=l-t,b=g*g+_*_;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(b>Fn)if(Math.abs(_*d-f*g)>Fn&&r){var w=e-s,T=i-l,N=d*d+f*f,F=w*w+T*T,I=Math.sqrt(N),P=Math.sqrt(b),L=r*Math.tan((sf-Math.acos((N+b-F)/(2*I*P)))/2),U=L/P,J=L/I;Math.abs(U-1)>Fn&&(this._+="L"+(n+U*g)+","+(t+U*_)),this._+="A"+r+","+r+",0,0,"+ +(_*w>g*T)+","+(this._x1=n+J*d)+","+(this._y1=t+J*f)}else this._+="L"+(this._x1=n)+","+(this._y1=t)},arc:function(n,t,e,i,r,s){n=+n,t=+t,s=!!s;var l=(e=+e)*Math.cos(i),d=e*Math.sin(i),f=n+l,g=t+d,_=1^s,b=s?i-r:r-i;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+f+","+g:(Math.abs(this._x1-f)>Fn||Math.abs(this._y1-g)>Fn)&&(this._+="L"+f+","+g),e&&(b<0&&(b=b%af+af),b>TP?this._+="A"+e+","+e+",0,1,"+_+","+(n-l)+","+(t-d)+"A"+e+","+e+",0,1,"+_+","+(this._x1=f)+","+(this._y1=g):b>Fn&&(this._+="A"+e+","+e+",0,"+ +(b>=sf)+","+_+","+(this._x1=n+e*Math.cos(r))+","+(this._y1=t+e*Math.sin(r))))},rect:function(n,t,e,i){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +i+"h"+-e+"Z"},toString:function(){return this._}};const iA=oy;function qr(n){return function(){return n}}var Mv=Math.abs,kr=Math.atan2,Bc=Math.cos,rA=Math.max,Sv=Math.min,qa=Math.sin,Za=Math.sqrt,ks=1e-12,Cg=Math.PI,ay=Cg/2,ad=2*Cg;function VE(n){return n>1?0:n<-1?Cg:Math.acos(n)}function Av(n){return n>=1?ay:n<=-1?-ay:Math.asin(n)}function jE(n){return n.innerRadius}function sA(n){return n.outerRadius}function Eg(n){return n.startAngle}function Dg(n){return n.endAngle}function oA(n){return n&&n.padAngle}function aA(n,t,e,i,r,s,l,d){var f=e-n,g=i-t,_=l-r,b=d-s,w=b*f-_*g;if(!(w*w<ks))return[n+(w=(_*(t-s)-b*(n-r))/w)*f,t+w*g]}function ly(n,t,e,i,r,s,l){var d=n-e,f=t-i,g=(l?s:-s)/Za(d*d+f*f),_=g*f,b=-g*d,w=n+_,T=t+b,N=e+_,F=i+b,I=(w+N)/2,P=(T+F)/2,L=N-w,U=F-T,J=L*L+U*U,K=r-s,ye=w*F-N*T,Fe=(U<0?-1:1)*Za(rA(0,K*K*J-ye*ye)),Pe=(ye*U-L*Fe)/J,Xe=(-ye*L-U*Fe)/J,dt=(ye*U+L*Fe)/J,qe=(-ye*L+U*Fe)/J,at=Pe-I,Ze=Xe-P,pe=dt-I,$e=qe-P;return at*at+Ze*Ze>pe*pe+$e*$e&&(Pe=dt,Xe=qe),{cx:Pe,cy:Xe,x01:-_,y01:-b,x11:Pe*(r/K-1),y11:Xe*(r/K-1)}}function zE(n){return"object"==typeof n&&"length"in n?n:Array.from(n)}function cA(n,t){return t<n?-1:t>n?1:t>=n?0:NaN}function UE(n){return n}function lf(n,t,e){this.k=n,this.x=t,this.y=e}lf.prototype={constructor:lf,scale:function(n){return 1===n?this:new lf(this.k*n,this.x,this.y)},translate:function(n,t){return 0===n&0===t?this:new lf(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new lf(1,0,0);var Me=O(9631);const pA=(0,Me.PH)("[CbNodeOwner] Add CbNodeOwner",n=>({cbNodeOwner:n})),gA=(0,Me.PH)("[CbNodeOwner] Add CbNodeOwners",n=>({cbNodeOwners:n})),xg=(0,Me.PH)("[CbNodeOwner] Load CbNodeOwners",n=>({cbNodeOwners:n})),mA=(0,Me.PH)("[CbNodeOwner] Set CbNodeOwners",n=>({cbNodeOwners:n})),_A=(0,Me.PH)("[CbNodeOwner] Clear CbNodeOwners");var Pt=(()=>{return(n=Pt||(Pt={}))[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",Pt;var n})();function di(n){return function(e,i){const r={ids:[...i.ids],entities:Object.assign({},i.entities)},s=n(e,r);return s===Pt.Both?Object.assign({},i,r):s===Pt.EntitiesOnly?Object.assign(Object.assign({},i),{entities:r.entities}):i}}function Ka(n,t){const e=t(n);return(0,u.X6Q)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",t.toString()),e}function WE(n){function t(I,P){const L=Ka(I,n);return L in P.entities?Pt.None:(P.ids.push(L),P.entities[L]=I,Pt.Both)}function e(I,P){let L=!1;for(const U of I)L=t(U,P)!==Pt.None||L;return L?Pt.Both:Pt.None}function r(I,P){const L=Ka(I,n);return L in P.entities?(P.entities[L]=I,Pt.EntitiesOnly):(P.ids.push(L),P.entities[L]=I,Pt.Both)}function d(I,P){const U=(I instanceof Array?I:P.ids.filter(J=>I(P.entities[J]))).filter(J=>J in P.entities).map(J=>delete P.entities[J]).length>0;return U&&(P.ids=P.ids.filter(J=>J in P.entities)),U?Pt.Both:Pt.None}function _(I,P){return b([I],P)}function b(I,P){const L={};return(I=I.filter(J=>J.id in P.entities)).length>0?I.filter(K=>function(I,P,L){const J=Object.assign({},L.entities[P.id],P.changes),K=Ka(J,n),ye=K!==P.id;return ye&&(I[P.id]=K,delete L.entities[P.id]),L.entities[K]=J,ye}(L,K,P)).length>0?(P.ids=P.ids.map(K=>L[K]||K),Pt.Both):Pt.EntitiesOnly:Pt.None}function F(I,P){const L=[],U=[];for(const ye of I){const Fe=Ka(ye,n);Fe in P.entities?U.push({id:Fe,changes:ye}):L.push(ye)}const J=b(U,P),K=e(L,P);switch(!0){case K===Pt.None&&J===Pt.None:return Pt.None;case K===Pt.Both||J===Pt.Both:return Pt.Both;default:return Pt.EntitiesOnly}}return{removeAll:function(I){return Object.assign({},I,{ids:[],entities:{}})},addOne:di(t),addMany:di(e),setAll:di(function(I,P){return P.ids=[],P.entities={},e(I,P),Pt.Both}),setOne:di(r),setMany:di(function(I,P){const L=I.map(U=>r(U,P));switch(!0){case L.some(U=>U===Pt.Both):return Pt.Both;case L.some(U=>U===Pt.EntitiesOnly):return Pt.EntitiesOnly;default:return Pt.None}}),updateOne:di(_),updateMany:di(b),upsertOne:di(function(I,P){return F([I],P)}),upsertMany:di(F),removeOne:di(function(I,P){return d([I],P)}),removeMany:di(d),map:di(function(I,P){return b(P.ids.reduce((J,K)=>{const ye=I(P.entities[K]);return ye!==P.entities[K]&&J.push({id:K,changes:ye}),J},[]).filter(({id:J})=>J in P.entities),P)}),mapOne:di(function({map:I,id:P},L){const U=L.entities[P];return U?_({id:P,changes:I(U)},L):Pt.None})}}function uy(n={}){const{selectId:t,sortComparer:e}=Object.assign({sortComparer:!1,selectId:l=>l.id},n),i={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},r={getSelectors:function(t){const e=l=>l.ids,i=l=>l.entities,r=(0,Me.P1)(e,i,(l,d)=>l.map(f=>d[f])),s=(0,Me.P1)(e,l=>l.length);return t?{selectIds:(0,Me.P1)(t,e),selectEntities:(0,Me.P1)(t,i),selectAll:(0,Me.P1)(t,r),selectTotal:(0,Me.P1)(t,s)}:{selectIds:e,selectEntities:i,selectAll:r,selectTotal:s}}},s=e?function(n,t){const{removeOne:e,removeMany:i,removeAll:r}=WE(n);function s(L,U){return l([L],U)}function l(L,U){const J=L.filter(K=>!(Ka(K,n)in U.entities));return 0===J.length?Pt.None:(P(J,U),Pt.Both)}function f(L,U){const J=Ka(L,n);return J in U.entities?(U.ids=U.ids.filter(K=>K!==J),P([L],U),Pt.Both):s(L,U)}function _(L,U){return w([L],U)}function w(L,U){const J=[],K=L.filter(ye=>function(L,U,J){if(!(U.id in J.entities))return!1;const ye=Object.assign({},J.entities[U.id],U.changes),Fe=Ka(ye,n);return delete J.entities[U.id],L.push(ye),Fe!==U.id}(J,ye,U)).length>0;if(0===J.length)return Pt.None;{const ye=U.ids,Fe=[];return U.ids=U.ids.filter((Pe,Xe)=>Pe in U.entities||(Fe.push(Xe),!1)),P(J,U),!K&&Fe.every(Pe=>U.ids[Pe]===ye[Pe])?Pt.EntitiesOnly:Pt.Both}}function I(L,U){const J=[],K=[];for(const Pe of L){const Xe=Ka(Pe,n);Xe in U.entities?K.push({id:Xe,changes:Pe}):J.push(Pe)}const ye=w(K,U),Fe=l(J,U);switch(!0){case Fe===Pt.None&&ye===Pt.None:return Pt.None;case Fe===Pt.Both||ye===Pt.Both:return Pt.Both;default:return Pt.EntitiesOnly}}function P(L,U){L.sort(t);const J=[];let K=0,ye=0;for(;K<L.length&&ye<U.ids.length;){const Fe=L[K],Pe=Ka(Fe,n),Xe=U.ids[ye];t(Fe,U.entities[Xe])<=0?(J.push(Pe),K++):(J.push(Xe),ye++)}U.ids=J.concat(K<L.length?L.slice(K).map(n):U.ids.slice(ye)),L.forEach((Fe,Pe)=>{U.entities[n(Fe)]=Fe})}return{removeOne:e,removeMany:i,removeAll:r,addOne:di(s),updateOne:di(_),upsertOne:di(function(L,U){return I([L],U)}),setAll:di(function(L,U){return U.entities={},U.ids=[],l(L,U),Pt.Both}),setOne:di(f),setMany:di(function(L,U){const J=L.map(K=>f(K,U));switch(!0){case J.some(K=>K===Pt.Both):return Pt.Both;case J.some(K=>K===Pt.EntitiesOnly):return Pt.EntitiesOnly;default:return Pt.None}}),addMany:di(l),updateMany:di(w),upsertMany:di(I),map:di(function(L,U){return w(U.ids.reduce((K,ye)=>{const Fe=L(U.entities[ye]);return Fe!==U.entities[ye]&&K.push({id:ye,changes:Fe}),K},[]),U)}),mapOne:di(function({map:L,id:U},J){const K=J.entities[U];return K?_({id:U,changes:L(K)},J):Pt.None})}}(t,e):WE(t);return Object.assign(Object.assign(Object.assign({selectId:t,sortComparer:e},i),r),s)}const YE="cbNodeOwner",Vc=uy({selectId:function(n){return n.pub_key}}),qE=Vc.getInitialState({pub_key:null}),ZE=(0,Me.Lq)(qE,(0,Me.on)(pA,(n,{cbNodeOwner:t})=>Vc.addOne(t,n)),(0,Me.on)(gA,(n,{cbNodeOwners:t})=>Vc.addMany(t,n)),(0,Me.on)(xg,(n,{cbNodeOwners:t})=>Vc.setAll(t,n)),(0,Me.on)(mA,(n,{cbNodeOwners:t})=>Vc.setMany(t,n)),(0,Me.on)(_A,n=>Vc.removeAll(Object.assign(Object.assign({},n),{selectCbNodeOwner:null})))),{selectAll:wA}=Vc.getSelectors(),EA=wA,DA=(0,Me.ZF)(YE),dy=(0,Me.P1)(DA,EA),xA=(0,Me.PH)("[NodeInfo/API] Load NodeInfos",(0,Me.Ky)()),TA=(0,Me.PH)("[NodeInfo/API] Add NodeInfo",(0,Me.Ky)()),hy=(0,Me.PH)("[NodeInfo/API] Upsert NodeInfo",(0,Me.Ky)()),MA=(0,Me.PH)("[NodeInfo/API] Add NodeInfos",(0,Me.Ky)()),SA=(0,Me.PH)("[NodeInfo/API] Upsert NodeInfos",(0,Me.Ky)()),JE=(0,Me.PH)("[NodeInfo/API] Update NodeInfo",(0,Me.Ky)()),XE=(0,Me.PH)("[NodeInfo/API] Update NodeInfos",(0,Me.Ky)()),QE=(0,Me.PH)("[NodeInfo/API] Delete NodeInfo",(0,Me.Ky)()),AA=(0,Me.PH)("[NodeInfo/API] Delete NodeInfos",(0,Me.Ky)()),Nv=(0,Me.PH)("[NodeInfo/API] Clear NodeInfos"),eD=(0,Me.PH)("[ChannelEdge/API] Load ChannelEdges",(0,Me.Ky)()),OA=(0,Me.PH)("[ChannelEdge/API] Add ChannelEdge",(0,Me.Ky)()),kv=(0,Me.PH)("[ChannelEdge/API] Upsert ChannelEdge",(0,Me.Ky)()),Pv=(0,Me.PH)("[ChannelEdge/API] Add ChannelEdges",(0,Me.Ky)()),Rv=(0,Me.PH)("[ChannelEdge/API] Upsert ChannelEdges",(0,Me.Ky)()),tD=(0,Me.PH)("[ChannelEdge/API] Update ChannelEdge",(0,Me.Ky)()),Fv=(0,Me.PH)("[ChannelEdge/API] Update ChannelEdges",(0,Me.Ky)()),IA=(0,Me.PH)("[ChannelEdge/API] Delete ChannelEdge",(0,Me.Ky)()),NA=(0,Me.PH)("[ChannelEdge/API] Delete ChannelEdges",(0,Me.Ky)()),Lv=(0,Me.PH)("[ChannelEdge/API] Clear ChannelEdges"),Bv=((0,Me.PH)("[Setting] Set Settings"),(0,Me.PH)("[Setting] set Ring Name",n=>({ringName:n}))),nD=(0,Me.PH)("[Setting] set View Mode",n=>({viewMode:n})),iD=(0,Me.PH)("[Setting] set PubSub server",n=>({pubsubServer:n})),Vv="setting",kA=(0,Me.Lq)({ringName:"#SRROF_500Ksats_8thRING",viewMode:"tg",pubsubServer:"http://umbrel:5000"},(0,Me.on)(Bv,(n,{ringName:t})=>Object.assign(Object.assign({},n),{ringName:t})),(0,Me.on)(nD,(n,{viewMode:t})=>Object.assign(Object.assign({},n),{viewMode:t}))),cf=(0,Me.ZF)(Vv),FP=(0,Me.P1)(cf,n=>n);var fy=O(9032),uf=O(1528),df=O(6484);const jc="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function RA(n){const t=n.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||df))return new XMLHttpRequest}catch(e){}if(!t)try{return new(jc[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function sD(n,...t){return t.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}const Ja=setTimeout,oD=clearTimeout;function jv(n,t){t.useNativeTimers?(n.setTimeoutFn=Ja.bind(jc),n.clearTimeoutFn=oD.bind(jc)):(n.setTimeoutFn=setTimeout.bind(jc),n.clearTimeoutFn=clearTimeout.bind(jc))}var $l=O(7202);const Xa=Object.create(null);Xa.open="0",Xa.close="1",Xa.ping="2",Xa.pong="3",Xa.message="4",Xa.upgrade="5",Xa.noop="6";const py=Object.create(null);Object.keys(Xa).forEach(n=>{py[Xa[n]]=n});const LP={type:"error",data:"parser error"},FA="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),LA="function"==typeof ArrayBuffer,zv=(n,t)=>{const e=new FileReader;return e.onload=function(){const i=e.result.split(",")[1];t("b"+i)},e.readAsDataURL(n)},Uv=({type:n,data:t},e,i)=>FA&&t instanceof Blob?e?i(t):zv(t,i):LA&&(t instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer)(t))?e?i(t):zv(new Blob([t]),i):i(Xa[n]+(t||""));for(var ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tg="undefined"==typeof Uint8Array?[]:new Uint8Array(256),$v=0;$v<ld.length;$v++)Tg[ld.charCodeAt($v)]=$v;const jA="function"==typeof ArrayBuffer,lD=(n,t)=>{if(jA){const e=function(n){var i,s,l,d,f,t=.75*n.length,e=n.length,r=0;"="===n[n.length-1]&&(t--,"="===n[n.length-2]&&t--);var g=new ArrayBuffer(t),_=new Uint8Array(g);for(i=0;i<e;i+=4)s=Tg[n.charCodeAt(i)],l=Tg[n.charCodeAt(i+1)],d=Tg[n.charCodeAt(i+2)],f=Tg[n.charCodeAt(i+3)],_[r++]=s<<2|l>>4,_[r++]=(15&l)<<4|d>>2,_[r++]=(3&d)<<6|63&f;return g}(n);return Wv(e,t)}return{base64:!0,data:n}},Wv=(n,t)=>{switch(t){case"blob":return n instanceof ArrayBuffer?new Blob([n]):n;case"arraybuffer":default:return n}},cD=(n,t)=>{if("string"!=typeof n)return{type:"message",data:Wv(n,t)};const e=n.charAt(0);return"b"===e?{type:"message",data:lD(n.substring(1),t)}:py[e]?n.length>1?{type:py[e],data:n.substring(1)}:{type:py[e]}:LP},uD=String.fromCharCode(30);class Gv extends $l.Q{constructor(t){super(),this.writable=!1,jv(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const i=new Error(t);return i.type="TransportError",i.description=e,super.emit("error",i),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(t){const e=cD(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emit("packet",t)}onClose(){this.readyState="closed",super.emit("close")}}var Mg=O(1073),hf=O(8898);class Sg extends Gv{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){((n,t)=>{const e=n.split(uD),i=[];for(let r=0;r<e.length;r++){const s=cD(e[r],t);if(i.push(s),"error"===s.type)break}return i})(t,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose(),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((n,t)=>{const e=n.length,i=new Array(e);let r=0;n.forEach((s,l)=>{Uv(s,!1,d=>{i[l]=d,++r===e&&t(i.join(uD))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let i="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Mg()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(i=":"+this.opts.port);const r=hf.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}}function HA(){}const zA=null!=new RA({xdomain:!1}).responseType;let my=(()=>{class n extends $l.Q{constructor(e,i){super(),jv(this,i),this.opts=i,this.method=i.method||"GET",this.uri=e,this.async=!1!==i.async,this.data=void 0!==i.data?i.data:null,this.create()}create(){const e=sD(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const i=this.xhr=new RA(e);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}}catch(r){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{i.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{4===i.readyState&&(200===i.status||1223===i.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof i.status?i.status:0)},0))},i.send(this.data)}catch(r){return void this.setTimeoutFn(()=>{this.onError(r)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(null!=this.xhr){if(this.xhr.onreadystatechange=HA,e)try{this.xhr.abort()}catch(i){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();function fD(){for(let n in my.requests)my.requests.hasOwnProperty(n)&&my.requests[n].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",fD):"function"==typeof addEventListener&&addEventListener("onpagehide"in jc?"pagehide":"unload",fD,!1));const UA="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Ag=jc.WebSocket||jc.MozWebSocket,pD="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class qv extends Gv{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,i=pD?{}:sD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=pD?new Ag(t,e,i):e?new Ag(t,e):new Ag(t)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=e===t.length-1;Uv(t[e],this.supportsBinary,s=>{try{this.ws.send(s)}catch(d){}r&&UA(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let i="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(i=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Mg()),this.supportsBinary||(t.b64=1);const r=hf.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}check(){return!(!Ag||"__initialize"in Ag&&this.name===qv.prototype.name)}}const WA={websocket:qv,polling:class extends Sg{constructor(t){if(super(t),"undefined"!=typeof location){const i="https:"===location.protocol;let r=location.port;r||(r=i?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==i}this.supportsBinary=zA&&!(t&&t.forceBase64)}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new my(this.uri(),t)}doWrite(t,e){const i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",r=>{this.onError("xhr post error",r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",e=>{this.onError("xhr poll error",e)}),this.pollXhr=t}}};let GA=(()=>{class n extends $l.Q{constructor(e,i={}){super(),e&&"object"==typeof e&&(i=e,e=null),e?(e=uf(e),i.hostname=e.host,i.secure="https"===e.protocol||"wss"===e.protocol,i.port=e.port,e.query&&(i.query=e.query)):i.host&&(i.hostname=uf(i.host).host),jv(this,i),this.secure=null!=i.secure?i.secure:"undefined"!=typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=i.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=hf.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const i=function(n){const t={};for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}(this.opts.query);i.EIO=4,i.transport=e,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new WA[e](r)}open(){let e;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(i){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){let i=this.createTransport(e),r=!1;n.priorWebsocketSuccess=!1;const s=()=>{r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",w=>{if(!r)if("pong"===w.type&&"probe"===w.data){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;n.priorWebsocketSuccess="websocket"===i.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(b(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const T=new Error("probe error");T.transport=i.name,this.emitReserved("upgradeError",T)}}))};function l(){r||(r=!0,b(),i.close(),i=null)}const d=w=>{const T=new Error("probe error: "+w);T.transport=i.name,l(),this.emitReserved("upgradeError",T)};function f(){d("transport closed")}function g(){d("socket closed")}function _(w){i&&w.name!==i.name&&l()}const b=()=>{i.removeListener("open",s),i.removeListener("error",d),i.removeListener("close",f),this.off("close",g),this.off("upgrading",_)};i.once("open",s),i.once("error",d),i.once("close",f),this.once("close",g),this.once("upgrading",_),i.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const i=this.upgrades.length;for(;e<i;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=e.data,this.onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,i,r){return this.sendPacket("message",e,i,r),this}send(e,i,r){return this.sendPacket("message",e,i,r),this}sendPacket(e,i,r,s){if("function"==typeof i&&(s=i,i=void 0),"function"==typeof r&&(s=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const l={type:e,data:i,options:r};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,i){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const i=[];let r=0;const s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&i.push(e[r]);return i}}return n.protocol=4,n})();const qA="function"==typeof ArrayBuffer,gD=Object.prototype.toString,yy="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===gD.call(Blob),cd="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===gD.call(File);function by(n){return qA&&(n instanceof ArrayBuffer||(n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer)(n))||yy&&n instanceof Blob||cd&&n instanceof File}function vy(n,t){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(vy(n[e]))return!0;return!1}if(by(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return vy(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&vy(n[e]))return!0;return!1}function jP(n){const t=[],i=n;return i.data=Zv(n.data,t),i.attachments=t.length,{packet:i,buffers:t}}function Zv(n,t){if(!n)return n;if(by(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}if(Array.isArray(n)){const e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=Zv(n[i],t);return e}if("object"==typeof n&&!(n instanceof Date)){const e={};for(const i in n)n.hasOwnProperty(i)&&(e[i]=Zv(n[i],t));return e}return n}function wy(n,t){return n.data=Kv(n.data,t),n.attachments=void 0,n}function Kv(n,t){if(!n)return n;if(n&&n._placeholder)return t[n.num];if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=Kv(n[e],t);else if("object"==typeof n)for(const e in n)n.hasOwnProperty(e)&&(n[e]=Kv(n[e],t));return n}const mD=5;var gn=(()=>{return(n=gn||(gn={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",gn;var n})();class _D{encode(t){return t.type!==gn.EVENT&&t.type!==gn.ACK||!vy(t)?[this.encodeAsString(t)]:(t.type=t.type===gn.EVENT?gn.BINARY_EVENT:gn.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return(t.type===gn.BINARY_EVENT||t.type===gn.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}encodeAsBinary(t){const e=jP(t),i=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(i),r}}class Og extends $l.Q{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===gn.BINARY_EVENT||e.type===gn.BINARY_ACK?(this.reconstructor=new bD(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e);else{if(!by(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const i={type:Number(t.charAt(0))};if(void 0===gn[i.type])throw new Error("unknown packet type "+i.type);if(i.type===gn.BINARY_EVENT||i.type===gn.BINARY_ACK){const s=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const l=t.substring(s,e);if(l!=Number(l)||"-"!==t.charAt(e))throw new Error("Illegal attachments");i.attachments=Number(l)}if("/"===t.charAt(e+1)){const s=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);i.nsp=t.substring(s,e)}else i.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const s=e+1;for(;++e;){const l=t.charAt(e);if(null==l||Number(l)!=l){--e;break}if(e===t.length)break}i.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){const s=function(n){try{return JSON.parse(n)}catch(t){return!1}}(t.substr(e));if(!Og.isPayloadValid(i.type,s))throw new Error("invalid payload");i.data=s}return i}static isPayloadValid(t,e){switch(t){case gn.CONNECT:return"object"==typeof e;case gn.DISCONNECT:return void 0===e;case gn.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case gn.EVENT:case gn.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case gn.ACK:case gn.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class bD{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=wy(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ha(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const KA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Cy extends $l.Q{constructor(t,e,i){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ha(t,"open",this.onopen.bind(this)),ha(t,"packet",this.onpacket.bind(this)),ha(t,"error",this.onerror.bind(this)),ha(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(KA.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const i={type:gn.EVENT,data:e,options:{}};return i.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(this.acks[this.ids]=e.pop(),i.id=this.ids++),this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(i):this.sendBuffer.push(i)),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:gn.CONNECT,data:t})}):this.packet({type:gn.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case gn.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gn.EVENT:case gn.BINARY_EVENT:this.onevent(t);break;case gn.ACK:case gn.BINARY_ACK:this.onack(t);break;case gn.DISCONNECT:this.ondisconnect();break;case gn.CONNECT_ERROR:const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const i of e)i.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let i=!1;return function(...r){i||(i=!0,e.packet({type:gn.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var JA=O(7949);class Ig extends $l.Q{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,jv(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=e.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new JA({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||H;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new GA(this.uri,this.opts);const e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=ha(e,"open",function(){i.onopen(),t&&t()}),s=ha(e,"error",l=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",l),t?t(l):i.maybeReconnectOnOpen()});if(!1!==this._timeout){const l=this._timeout;0===l&&r();const d=this.setTimeoutFn(()=>{r(),e.close(),e.emit("error",new Error("timeout"))},l);this.opts.autoUnref&&d.unref(),this.subs.push(function(){clearTimeout(d)})}return this.subs.push(r),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ha(t,"ping",this.onping.bind(this)),ha(t,"data",this.ondata.bind(this)),ha(t,"error",this.onerror.bind(this)),ha(t,"close",this.onclose.bind(this)),ha(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i||(i=new Cy(this,t,e),this.nsps[t]=i),i}_destroy(t){const e=Object.keys(this.nsps);for(const i of e)if(this.nsps[i].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Hc={};function fa(n,t){"object"==typeof n&&(t=n,n=void 0);const e=function(n,t="",e){let i=n;e=e||"undefined"!=typeof location&&location,null==n&&(n=e.protocol+"//"+e.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?e.protocol+n:e.host+n),/^(https?|wss?):\/\//.test(n)||(n=void 0!==e?e.protocol+"//"+n:"https://"+n),i=uf(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+t,i.href=i.protocol+"://"+s+(e&&e.port===i.port?"":":"+i.port),i}(n,(t=t||{}).path||"/socket.io"),i=e.source,r=e.id;let f;return t.forceNew||t["force new connection"]||!1===t.multiplex||Hc[r]&&e.path in Hc[r].nsps?f=new Ig(i,t):(Hc[r]||(Hc[r]=new Ig(i,t)),f=Hc[r]),e.query&&!t.query&&(t.query=e.queryKey),f.socket(e.path,t)}Object.assign(fa,{Manager:Ig,Socket:Cy,io:fa,connect:fa});class vD{constructor(t){this.config=t,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===t&&(t=this.emptyConfig),this.ioSocket=(fa||q)(t.url,t.options)}of(t){this.ioSocket.of(t)}on(t,e){this.ioSocket.on(t,e)}once(t,e){this.ioSocket.once(t,e)}connect(){return this.ioSocket.connect()}disconnect(t){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(t,...e){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(t,e){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(t){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(t){return this.subscribersCounter[t]||(this.subscribersCounter[t]=0),this.subscribersCounter[t]++,this.eventObservables$[t]||(this.eventObservables$[t]=new Vn.y(e=>{const i=r=>{e.next(r)};return this.ioSocket.on(t,i),()=>{this.subscribersCounter[t]--,0===this.subscribersCounter[t]&&(this.ioSocket.removeListener(t,i),delete this.eventObservables$[t])}}).pipe((0,fy.B)())),this.eventObservables$[t]}fromOneTimeEvent(t){return new Promise(e=>this.once(t,e))}}function Ng(n){return new vD(n)}const Dn=new u.OlP("__SOCKET_IO_CONFIG__");let zc=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:Dn,useValue:e},{provide:vD,useFactory:Ng,deps:[Dn]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),pa=(()=>{class n{constructor(e,i,r){this.http=e,this.socket=i,this.store=r,this.ringName="#SRROF_500Ksats_8thRING",this.cbNodeOwners=[],this._channelUpdate=new ln.x,this.channelUpdate$=this._channelUpdate.asObservable(),this.nodeNames=new Map,this.nodeToTgMap=new Map,this.nodeInfo=new Map,this.channels=[],this.viewMode="tg",this.store.select(dy).subscribe(s=>{let l=s.map(d=>d.pub_key);this.socket.emit("subscribe_pubkey",{data:l})}),this.store.select(FP).subscribe(s=>{this.settings=s}),this.socket.on("pubkey",s=>{this.store.dispatch(hy({nodeInfo:s})),this.nodeInfo.set(s.node.pub_key,s)}),this.socket.on("channel",s=>{this.store.dispatch(kv({channel:s})),this.updateChannel(s)}),this.colorScale=FE().domain([1,3.5,6]).range(["#2c7bb6","#ffffbf","#d7191c"]).interpolate(hv)}updateChannel(e){let i=this.nodeInfo.get(e.node1_pub),s=(null==i||i.channels.filter(d=>d.channel_id!=e.channel_id),this.nodeInfo.get(e.node2_pub));null==s||s.channels.filter(d=>d.channel_id!=e.channel_id),i&&(this.nodeInfo.set(i.node.pub_key,i),this.store.dispatch(hy({nodeInfo:i}))),s&&(this.nodeInfo.set(s.node.pub_key,s),this.store.dispatch(hy({nodeInfo:s}))),this._channelUpdate.next([i,s])}repopulate(){this.channels=[],this.populateChannels(),this.socket.emit("unsubscribe_all");let e=this.cbNodeOwners.map(i=>i.pub_key);this.socket.emit("subscribe_pubkey",{data:e})}setSegments(e){this.store.dispatch(xg(e))}setViewMode(e){this.store.dispatch(nD(e))}getViewMode(){return this.settings.viewMode}getRingName(){return this.settings.ringName}setRingName(e){this.store.dispatch(Bv(e))}getNodeInfoApi(e){return this.http.get(`${this.settings.pubsubServer}/node/${e}`)}getNodeInfo(e){return this.nodeInfo.get(e)}getCachedNodeInfo(e){return this.nodeInfo.get(e)}nodeHasChannelWith(e,i){let r=this.nodeInfo.get(e),s=null;if(r)for(let l of r.channels)(l.node1_pub==i||l.node2_pub==i)&&(s=l.channel_id);return s}getChannelPolicies(e,i){let r=this.nodeInfo.get(e),s=[void 0,void 0];if(r)for(let l of r.channels)l.node1_pub==i?s=[l.node2_policy,l.node1_policy]:l.node2_pub==i&&(s=[l.node1_policy,l.node2_policy]);return s}setPubsubServer(e){this.store.dispatch(iD(e))}getPubsubServer(){return this.settings.pubsubServer}populateChannels(){for(let[e,i]of this.cbNodeOwners.entries()){let r=this.getNodeInfo(i.pub_key);if(!r)return;this.nodeNames.set(i.pub_key,r.node.alias),this.nodeInfo.set(i.pub_key,r);for(let s of r.channels){let l=(e+1)%this.cbNodeOwners.length;(s.node1_pub==this.cbNodeOwners[l].pub_key||s.node2_pub==this.cbNodeOwners[l].pub_key)&&this.channels.push(s)}}}parseCsvToType(e){let i=e.split("\n"),r=[];for(let s of i.slice(1)){let l=s.split(",");l.length>1&&r.push({user_name:l[0],nodename:l[1],pub_key:l[2],new:Boolean(l[3]),handle:l[4],capacity_sat:l[5]})}return r}getColorScale(){return this.colorScale}getChannels(){return this.channels.sort((e,i)=>e.order<i.order)}getTgUserByPubkey(e){return this.nodeToTgMap.get(e)}getAliasByPubkey(e){return this.nodeNames.get(e)}loadSettings(e){this.setRingName(e.ringName),this.store.dispatch(xg(e.ringParticipants))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(qd),u.LFG(vD),u.LFG(Me.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kg=(()=>{class n{constructor(e,i){this.ringData=e,this.sanitizer=i,this.viewMode="tg"}ngOnInit(){}downloadChannelsTxt(){let e="";for(let r of this.ringData.getChannels())e+=r.channel_id+"\r\n";const i=new Blob([e],{type:"application/octet-stream"});this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(i))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pa),u.Y36(_l))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dashboard"]],decls:17,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6"],["download","channels.txt",3,"href","click"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"p"),u._uU(4,"Welcome to Ringtools Web. Although there is quite some nice functionality, it is not without issues. Please report them on GitHub if you encounter them, enjoy!"),u.qZA(),u.TgZ(5,"h3"),u._uU(6,"Known issues"),u.qZA(),u.TgZ(7,"ul"),u.TgZ(8,"li"),u._uU(9,"If you directly load the ringtools on the design/watch page the node-information is not loaded yet, switch to the home/settings page and back to make it work."),u.qZA(),u.TgZ(10,"li"),u._uU(11,"Channel updates broke after implementing ngrx state."),u.qZA(),u.TgZ(12,"li"),u._uU(13,"The custom LND PubSub server setting is not working yet, since the library is not supporting easy switching."),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"div",2),u.TgZ(15,"a",3),u.NdJ("click",function(){return i.downloadChannelsTxt()}),u._uU(16,"Download channels.txt"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(15),u.Q6J("href",i.fileUrl,u.LSH))},styles:[""]}),n})();var XA=O(1969),Qt=O(4190),co=O.n(Qt);function uo(){return(uo=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n}).apply(this,arguments)}function br(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}function Jv(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var Wl,Uc="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}:Object.assign,QA=["","webkit","Moz","MS","ms","o"],eO="undefined"==typeof document?{style:{}}:document.createElement("div"),Pr=Math.round,On=Math.abs,ho=Date.now;function Pg(n,t){for(var e,i,r=t[0].toUpperCase()+t.slice(1),s=0;s<QA.length;){if((i=(e=QA[s])?e+r:t)in n)return i;s++}}Wl="undefined"==typeof window?{}:window;var Xv=Pg(eO.style,"touchAction"),Dy=void 0!==Xv,pf="compute",Gl="manipulation",ud="none",gf="pan-x",dd="pan-y",$c=function(){if(!Dy)return!1;var n={},t=Wl.CSS&&Wl.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){return n[e]=!t||Wl.CSS.supports("touch-action",e)}),n}(),e1="ontouchstart"in Wl,mf=void 0!==Pg(Wl,"PointerEvent"),nO=e1&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Wc="touch",xy="mouse",rO=["x","y"],Sy=["clientX","clientY"];function hi(n,t,e){var i;if(n)if(n.forEach)n.forEach(t,e);else if(void 0!==n.length)for(i=0;i<n.length;)t.call(e,n[i],i,n),i++;else for(i in n)n.hasOwnProperty(i)&&t.call(e,n[i],i,n)}function Ay(n,t){return"function"==typeof n?n.apply(t&&t[0]||void 0,t):n}function fd(n,t){return n.indexOf(t)>-1}var DD=function(){function n(e,i){this.manager=e,this.set(i)}var t=n.prototype;return t.set=function(i){i===pf&&(i=this.compute()),Dy&&this.manager.element.style&&$c[i]&&(this.manager.element.style[Xv]=i),this.actions=i.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var i=[];return hi(this.manager.recognizers,function(r){Ay(r.options.enable,[r])&&(i=i.concat(r.getTouchAction()))}),function(n){if(fd(n,ud))return ud;var t=fd(n,gf),e=fd(n,dd);return t&&e?ud:t||e?t?gf:dd:fd(n,Gl)?Gl:"auto"}(i.join(" "))},t.preventDefaults=function(i){var r=i.srcEvent,s=i.offsetDirection;if(!this.manager.session.prevented){var l=this.actions,d=fd(l,ud)&&!$c[ud],f=fd(l,dd)&&!$c[dd],g=fd(l,gf)&&!$c[gf];if(d&&1===i.pointers.length&&i.distance<2&&i.deltaTime<250)return;return g&&f||!(d||f&&6&s||g&&24&s)?void 0:this.preventSrc(r)}r.preventDefault()},t.preventSrc=function(i){this.manager.session.prevented=!0,i.preventDefault()},n}();function i1(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1}function xD(n){var t=n.length;if(1===t)return{x:Pr(n[0].clientX),y:Pr(n[0].clientY)};for(var e=0,i=0,r=0;r<t;)e+=n[r].clientX,i+=n[r].clientY,r++;return{x:Pr(e/t),y:Pr(i/t)}}function TD(n){for(var t=[],e=0;e<n.pointers.length;)t[e]={clientX:Pr(n.pointers[e].clientX),clientY:Pr(n.pointers[e].clientY)},e++;return{timeStamp:ho(),pointers:t,center:xD(t),deltaX:n.deltaX,deltaY:n.deltaY}}function Oy(n,t,e){e||(e=rO);var i=t[e[0]]-n[e[0]],r=t[e[1]]-n[e[1]];return Math.sqrt(i*i+r*r)}function r1(n,t,e){return e||(e=rO),180*Math.atan2(t[e[1]]-n[e[1]],t[e[0]]-n[e[0]])/Math.PI}function Iy(n,t){return n===t?1:On(n)>=On(t)?n<0?2:4:t<0?8:16}function MD(n,t,e){return{x:t/n||0,y:e/n||0}}function aO(n,t,e){var i=e.pointers.length,r=e.changedPointers.length,s=1&t&&i-r==0,l=12&t&&i-r==0;e.isFirst=!!s,e.isFinal=!!l,s&&(n.session={}),e.eventType=t,function(n,t){var e=n.session,i=t.pointers,r=i.length;e.firstInput||(e.firstInput=TD(t)),r>1&&!e.firstMultiple?e.firstMultiple=TD(t):1===r&&(e.firstMultiple=!1);var s=e.firstInput,l=e.firstMultiple,d=l?l.center:s.center,f=t.center=xD(i);t.timeStamp=ho(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=r1(d,f),t.distance=Oy(d,f),function(n,t){var e=t.center,i=n.offsetDelta||{},r=n.prevDelta||{},s=n.prevInput||{};(1===t.eventType||4===s.eventType)&&(r=n.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=n.offsetDelta={x:e.x,y:e.y}),t.deltaX=r.x+(e.x-i.x),t.deltaY=r.y+(e.y-i.y)}(e,t),t.offsetDirection=Iy(t.deltaX,t.deltaY);var g=MD(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=g.x,t.overallVelocityY=g.y,t.overallVelocity=On(g.x)>On(g.y)?g.x:g.y,t.scale=l?function(n,t){return Oy(t[0],t[1],Sy)/Oy(n[0],n[1],Sy)}(l.pointers,i):1,t.rotation=l?function(n,t){return r1(t[1],t[0],Sy)+r1(n[1],n[0],Sy)}(l.pointers,i):0,t.maxPointers=e.prevInput?t.pointers.length>e.prevInput.maxPointers?t.pointers.length:e.prevInput.maxPointers:t.pointers.length,function(n,t){var r,s,l,d,e=n.lastInterval||t,i=t.timeStamp-e.timeStamp;if(8!==t.eventType&&(i>25||void 0===e.velocity)){var f=t.deltaX-e.deltaX,g=t.deltaY-e.deltaY,_=MD(i,f,g);s=_.x,l=_.y,r=On(_.x)>On(_.y)?_.x:_.y,d=Iy(f,g),n.lastInterval=t}else r=e.velocity,s=e.velocityX,l=e.velocityY,d=e.direction;t.velocity=r,t.velocityX=s,t.velocityY=l,t.direction=d}(e,t);var w,_=n.element,b=t.srcEvent;i1(w=b.composedPath?b.composedPath()[0]:b.path?b.path[0]:b.target,_)&&(_=w),t.target=_}(n,e),n.emit("hammer.input",e),n.recognize(e),n.session.prevInput=e}function Rg(n){return n.trim().split(/\s+/g)}function Fg(n,t,e){hi(Rg(t),function(i){n.addEventListener(i,e,!1)})}function Lg(n,t,e){hi(Rg(t),function(i){n.removeEventListener(i,e,!1)})}function AD(n){var t=n.ownerDocument||n;return t.defaultView||t.parentWindow||window}var yf=function(){function n(e,i){var r=this;this.manager=e,this.callback=i,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(s){Ay(e.options.enable,[e])&&r.handler(s)},this.init()}var t=n.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Fg(this.element,this.evEl,this.domHandler),this.evTarget&&Fg(this.target,this.evTarget,this.domHandler),this.evWin&&Fg(AD(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Lg(this.element,this.evEl,this.domHandler),this.evTarget&&Lg(this.target,this.evTarget,this.domHandler),this.evWin&&Lg(AD(this.element),this.evWin,this.domHandler)},n}();function ga(n,t,e){if(n.indexOf&&!e)return n.indexOf(t);for(var i=0;i<n.length;){if(e&&n[i][e]==t||!e&&n[i]===t)return i;i++}return-1}var lO={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},cO={2:Wc,3:"pen",4:xy,5:"kinect"},o1="pointerdown",bf="pointermove pointerup pointercancel";Wl.MSPointerEvent&&!Wl.PointerEvent&&(o1="MSPointerDown",bf="MSPointerMove MSPointerUp MSPointerCancel");var uO=function(n){function t(){var i,r=t.prototype;return r.evEl=o1,r.evWin=bf,(i=n.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return br(t,n),t.prototype.handler=function(r){var s=this.store,l=!1,d=r.type.toLowerCase().replace("ms",""),f=lO[d],g=cO[r.pointerType]||r.pointerType,_=g===Wc,b=ga(s,r.pointerId,"pointerId");1&f&&(0===r.button||_)?b<0&&(s.push(r),b=s.length-1):12&f&&(l=!0),!(b<0)&&(s[b]=r,this.callback(this.manager,f,{pointers:s,changedPointers:[r],pointerType:g,srcEvent:r}),l&&s.splice(b,1))},t}(yf);function vf(n){return Array.prototype.slice.call(n,0)}function a1(n,t,e){for(var i=[],r=[],s=0;s<n.length;){var l=t?n[s][t]:n[s];ga(r,l)<0&&i.push(n[s]),r[s]=l,s++}return e&&(i=t?i.sort(function(d,f){return d[t]>f[t]}):i.sort()),i}var dO={touchstart:1,touchmove:2,touchend:4,touchcancel:8},hO="touchstart touchmove touchend touchcancel",l1=function(n){function t(){var i;return t.prototype.evTarget=hO,(i=n.apply(this,arguments)||this).targetIds={},i}return br(t,n),t.prototype.handler=function(r){var s=dO[r.type],l=fO.call(this,r,s);!l||this.callback(this.manager,s,{pointers:l[0],changedPointers:l[1],pointerType:Wc,srcEvent:r})},t}(yf);function fO(n,t){var e=vf(n.touches),i=this.targetIds;if(3&t&&1===e.length)return i[e[0].identifier]=!0,[e,e];var r,s,l=vf(n.changedTouches),d=[],f=this.target;if(s=e.filter(function(g){return i1(g.target,f)}),1===t)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<l.length;)i[l[r].identifier]&&d.push(l[r]),12&t&&delete i[l[r].identifier],r++;return d.length?[a1(s.concat(d),"identifier",!0),d]:void 0}var OD={mousedown:1,mousemove:2,mouseup:4},pO="mousedown",gO="mousemove mouseup",ID=function(n){function t(){var i,r=t.prototype;return r.evEl=pO,r.evWin=gO,(i=n.apply(this,arguments)||this).pressed=!1,i}return br(t,n),t.prototype.handler=function(r){var s=OD[r.type];1&s&&0===r.button&&(this.pressed=!0),2&s&&1!==r.which&&(s=4),this.pressed&&(4&s&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[r],changedPointers:[r],pointerType:xy,srcEvent:r}))},t}(yf);function Ny(n){var e=n.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},r=this.lastTouches;this.lastTouches.push(i),setTimeout(function(){var d=r.indexOf(i);d>-1&&r.splice(d,1)},2500)}}function _O(n,t){1&n?(this.primaryTouch=t.changedPointers[0].identifier,Ny.call(this,t)):12&n&&Ny.call(this,t)}function yO(n){for(var t=n.srcEvent.clientX,e=n.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(t-r.x),l=Math.abs(e-r.y);if(s<=25&&l<=25)return!0}return!1}var ND=function(){return function(t){function e(r,s){var l;return(l=t.call(this,r,s)||this).handler=function(d,f,g){var b=g.pointerType===xy;if(!(b&&g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents)){if(g.pointerType===Wc)_O.call(Jv(Jv(l)),f,g);else if(b&&yO.call(Jv(Jv(l)),g))return;l.callback(d,f,g)}},l.touch=new l1(l.manager,l.handler),l.mouse=new ID(l.manager,l.handler),l.primaryTouch=null,l.lastTouches=[],l}return br(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(yf)}();function wf(n,t,e){return!!Array.isArray(n)&&(hi(n,e[t],e),!0)}var _a=1;function Py(n,t){var e=t.manager;return e?e.get(n):n}function u1(n){return 16&n?"cancel":8&n?"end":4&n?"move":2&n?"start":""}var Cf=function(){function n(e){void 0===e&&(e={}),this.options=uo({enable:!0},e),this.id=_a++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=n.prototype;return t.set=function(i){return Uc(this.options,i),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(i){if(wf(i,"recognizeWith",this))return this;var r=this.simultaneous;return r[(i=Py(i,this)).id]||(r[i.id]=i,i.recognizeWith(this)),this},t.dropRecognizeWith=function(i){return wf(i,"dropRecognizeWith",this)||(i=Py(i,this),delete this.simultaneous[i.id]),this},t.requireFailure=function(i){if(wf(i,"requireFailure",this))return this;var r=this.requireFail;return-1===ga(r,i=Py(i,this))&&(r.push(i),i.requireFailure(this)),this},t.dropRequireFailure=function(i){if(wf(i,"dropRequireFailure",this))return this;i=Py(i,this);var r=ga(this.requireFail,i);return r>-1&&this.requireFail.splice(r,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(i){return!!this.simultaneous[i.id]},t.emit=function(i){var r=this,s=this.state;function l(d){r.manager.emit(d,i)}s<8&&l(r.options.event+u1(s)),l(r.options.event),i.additionalEvent&&l(i.additionalEvent),s>=8&&l(r.options.event+u1(s))},t.tryEmit=function(i){if(this.canEmit())return this.emit(i);this.state=32},t.canEmit=function(){for(var i=0;i<this.requireFail.length;){if(!(33&this.requireFail[i].state))return!1;i++}return!0},t.recognize=function(i){var r=Uc({},i);if(!Ay(this.options.enable,[this,r]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(r),30&this.state&&this.tryEmit(r)},t.process=function(i){},t.getTouchAction=function(){},t.reset=function(){},n}(),Ry=function(n){function t(i){var r;return void 0===i&&(i={}),(r=n.call(this,uo({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},i))||this).pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}br(t,n);var e=t.prototype;return e.getTouchAction=function(){return[Gl]},e.process=function(r){var s=this,l=this.options,d=r.pointers.length===l.pointers,f=r.distance<l.threshold,g=r.deltaTime<l.time;if(this.reset(),1&r.eventType&&0===this.count)return this.failTimeout();if(f&&g&&d){if(4!==r.eventType)return this.failTimeout();var _=!this.pTime||r.timeStamp-this.pTime<l.interval,b=!this.pCenter||Oy(this.pCenter,r.center)<l.posThreshold;if(this.pTime=r.timeStamp,this.pCenter=r.center,b&&_?this.count+=1:this.count=1,this._input=r,0==this.count%l.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=8,s.tryEmit()},l.interval),2):8}return 32},e.failTimeout=function(){var r=this;return this._timer=setTimeout(function(){r.state=32},this.options.interval),32},e.reset=function(){clearTimeout(this._timer)},e.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Cf),Ef=function(n){function t(i){return void 0===i&&(i={}),n.call(this,uo({pointers:1},i))||this}br(t,n);var e=t.prototype;return e.attrTest=function(r){var s=this.options.pointers;return 0===s||r.pointers.length===s},e.process=function(r){var s=this.state,l=r.eventType,d=6&s,f=this.attrTest(r);return d&&(8&l||!f)?16|s:d||f?4&l?8|s:2&s?4|s:2:32},t}(Cf);function kD(n){return 16===n?"down":8===n?"up":2===n?"left":4===n?"right":""}var d1=function(n){function t(i){var r;return void 0===i&&(i={}),(r=n.call(this,uo({event:"pan",threshold:10,pointers:1,direction:30},i))||this).pX=null,r.pY=null,r}br(t,n);var e=t.prototype;return e.getTouchAction=function(){var r=this.options.direction,s=[];return 6&r&&s.push(dd),24&r&&s.push(gf),s},e.directionTest=function(r){var s=this.options,l=!0,d=r.distance,f=r.direction,g=r.deltaX,_=r.deltaY;return f&s.direction||(6&s.direction?(f=0===g?1:g<0?2:4,l=g!==this.pX,d=Math.abs(r.deltaX)):(f=0===_?1:_<0?8:16,l=_!==this.pY,d=Math.abs(r.deltaY))),r.direction=f,l&&d>s.threshold&&f&s.direction},e.attrTest=function(r){return Ef.prototype.attrTest.call(this,r)&&(2&this.state||!(2&this.state)&&this.directionTest(r))},e.emit=function(r){this.pX=r.deltaX,this.pY=r.deltaY;var s=kD(r.direction);s&&(r.additionalEvent=this.options.event+s),n.prototype.emit.call(this,r)},t}(Ef),h1=function(n){function t(i){return void 0===i&&(i={}),n.call(this,uo({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},i))||this}br(t,n);var e=t.prototype;return e.getTouchAction=function(){return d1.prototype.getTouchAction.call(this)},e.attrTest=function(r){var l,s=this.options.direction;return 30&s?l=r.overallVelocity:6&s?l=r.overallVelocityX:24&s&&(l=r.overallVelocityY),n.prototype.attrTest.call(this,r)&&s&r.offsetDirection&&r.distance>this.options.threshold&&r.maxPointers===this.options.pointers&&On(l)>this.options.velocity&&4&r.eventType},e.emit=function(r){var s=kD(r.offsetDirection);s&&this.manager.emit(this.options.event+s,r),this.manager.emit(this.options.event,r)},t}(Ef),PD=function(n){function t(i){return void 0===i&&(i={}),n.call(this,uo({event:"pinch",threshold:0,pointers:2},i))||this}br(t,n);var e=t.prototype;return e.getTouchAction=function(){return[ud]},e.attrTest=function(r){return n.prototype.attrTest.call(this,r)&&(Math.abs(r.scale-1)>this.options.threshold||2&this.state)},e.emit=function(r){1!==r.scale&&(r.additionalEvent=this.options.event+(r.scale<1?"in":"out")),n.prototype.emit.call(this,r)},t}(Ef),vO=function(n){function t(i){return void 0===i&&(i={}),n.call(this,uo({event:"rotate",threshold:0,pointers:2},i))||this}br(t,n);var e=t.prototype;return e.getTouchAction=function(){return[ud]},e.attrTest=function(r){return n.prototype.attrTest.call(this,r)&&(Math.abs(r.rotation)>this.options.threshold||2&this.state)},t}(Ef),RD=function(n){function t(i){var r;return void 0===i&&(i={}),(r=n.call(this,uo({event:"press",pointers:1,time:251,threshold:9},i))||this)._timer=null,r._input=null,r}br(t,n);var e=t.prototype;return e.getTouchAction=function(){return["auto"]},e.process=function(r){var s=this,l=this.options,d=r.pointers.length===l.pointers,f=r.distance<l.threshold,g=r.deltaTime>l.time;if(this._input=r,!f||!d||12&r.eventType&&!g)this.reset();else if(1&r.eventType)this.reset(),this._timer=setTimeout(function(){s.state=8,s.tryEmit()},l.time);else if(4&r.eventType)return 8;return 32},e.reset=function(){clearTimeout(this._timer)},e.emit=function(r){8===this.state&&(r&&4&r.eventType?this.manager.emit(this.options.event+"up",r):(this._input.timeStamp=ho(),this.manager.emit(this.options.event,this._input)))},t}(Cf),FD={domEvents:!1,touchAction:pf,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},pd=[[vO,{enable:!1}],[PD,{enable:!1},["rotate"]],[h1,{direction:6}],[d1,{direction:6},["swipe"]],[Ry],[Ry,{event:"doubletap",taps:2},["tap"]],[RD]];function LD(n,t){var i,e=n.element;e.style&&(hi(n.options.cssProps,function(r,s){i=Pg(e.style,s),t?(n.oldCssProps[i]=e.style[i],e.style[i]=r):e.style[i]=n.oldCssProps[i]||""}),t||(n.oldCssProps={}))}var p1=function(){function n(e,i){var r=this;this.options=Uc({},FD,i||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(n){return new(n.options.inputClass||(mf?uO:nO?l1:e1?ND:ID))(n,aO)}(this),this.touchAction=new DD(this,this.options.touchAction),LD(this,!0),hi(this.options.recognizers,function(s){var l=r.add(new s[0](s[1]));s[2]&&l.recognizeWith(s[2]),s[3]&&l.requireFailure(s[3])},this)}var t=n.prototype;return t.set=function(i){return Uc(this.options,i),i.touchAction&&this.touchAction.update(),i.inputTarget&&(this.input.destroy(),this.input.target=i.inputTarget,this.input.init()),this},t.stop=function(i){this.session.stopped=i?2:1},t.recognize=function(i){var r=this.session;if(!r.stopped){this.touchAction.preventDefaults(i);var s,l=this.recognizers,d=r.curRecognizer;(!d||d&&8&d.state)&&(r.curRecognizer=null,d=null);for(var f=0;f<l.length;)s=l[f],2===r.stopped||d&&s!==d&&!s.canRecognizeWith(d)?s.reset():s.recognize(i),!d&&14&s.state&&(r.curRecognizer=s,d=s),f++}},t.get=function(i){if(i instanceof Cf)return i;for(var r=this.recognizers,s=0;s<r.length;s++)if(r[s].options.event===i)return r[s];return null},t.add=function(i){if(wf(i,"add",this))return this;var r=this.get(i.options.event);return r&&this.remove(r),this.recognizers.push(i),i.manager=this,this.touchAction.update(),i},t.remove=function(i){if(wf(i,"remove",this))return this;var r=this.get(i);if(i){var s=this.recognizers,l=ga(s,r);-1!==l&&(s.splice(l,1),this.touchAction.update())}return this},t.on=function(i,r){if(void 0===i||void 0===r)return this;var s=this.handlers;return hi(Rg(i),function(l){s[l]=s[l]||[],s[l].push(r)}),this},t.off=function(i,r){if(void 0===i)return this;var s=this.handlers;return hi(Rg(i),function(l){r?s[l]&&s[l].splice(ga(s[l],r),1):delete s[l]}),this},t.emit=function(i,r){this.options.domEvents&&function(n,t){var e=document.createEvent("Event");e.initEvent(n,!0,!0),e.gesture=t,t.target.dispatchEvent(e)}(i,r);var s=this.handlers[i]&&this.handlers[i].slice();if(s&&s.length){r.type=i,r.preventDefault=function(){r.srcEvent.preventDefault()};for(var l=0;l<s.length;)s[l](r),l++}},t.destroy=function(){this.element&&LD(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},n}(),wO={touchstart:1,touchmove:2,touchend:4,touchcancel:8},g1="touchstart",BD="touchstart touchmove touchend touchcancel",VD=function(n){function t(){var i,r=t.prototype;return r.evTarget=g1,r.evWin=BD,(i=n.apply(this,arguments)||this).started=!1,i}return br(t,n),t.prototype.handler=function(r){var s=wO[r.type];if(1===s&&(this.started=!0),this.started){var l=jD.call(this,r,s);12&s&&l[0].length-l[1].length==0&&(this.started=!1),this.callback(this.manager,s,{pointers:l[0],changedPointers:l[1],pointerType:Wc,srcEvent:r})}},t}(yf);function jD(n,t){var e=vf(n.touches),i=vf(n.changedTouches);return 12&t&&(e=a1(e.concat(i),"identifier",!0)),[e,i]}function m1(n,t,e){var i="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var r=new Error("get-stack-trace"),s=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",l=window.console&&(window.console.warn||window.console.log);return l&&l.call(window.console,i,s),n.apply(this,arguments)}}var HD=m1(function(n,t,e){for(var i=Object.keys(t),r=0;r<i.length;)(!e||e&&void 0===n[i[r]])&&(n[i[r]]=t[i[r]]),r++;return n},"extend","Use `assign`."),CO=m1(function(n,t){return HD(n,t,!0)},"merge","Use `assign`.");function EO(n,t,e){var r,i=t.prototype;(r=n.prototype=Object.create(i)).constructor=n,r._super=i,e&&Uc(r,e)}function zD(n,t){return function(){return n.apply(t,arguments)}}const Bg=function(){var n=function(e,i){return void 0===i&&(i={}),new p1(e,uo({recognizers:pd.concat()},i))};return n.VERSION="2.0.17-rc",n.DIRECTION_ALL=30,n.DIRECTION_DOWN=16,n.DIRECTION_LEFT=2,n.DIRECTION_RIGHT=4,n.DIRECTION_UP=8,n.DIRECTION_HORIZONTAL=6,n.DIRECTION_VERTICAL=24,n.DIRECTION_NONE=1,n.DIRECTION_DOWN=16,n.INPUT_START=1,n.INPUT_MOVE=2,n.INPUT_END=4,n.INPUT_CANCEL=8,n.STATE_POSSIBLE=1,n.STATE_BEGAN=2,n.STATE_CHANGED=4,n.STATE_ENDED=8,n.STATE_RECOGNIZED=8,n.STATE_CANCELLED=16,n.STATE_FAILED=32,n.Manager=p1,n.Input=yf,n.TouchAction=DD,n.TouchInput=l1,n.MouseInput=ID,n.PointerEventInput=uO,n.TouchMouseInput=ND,n.SingleTouchInput=VD,n.Recognizer=Cf,n.AttrRecognizer=Ef,n.Tap=Ry,n.Pan=d1,n.Swipe=h1,n.Pinch=PD,n.Rotate=vO,n.Press=RD,n.on=Fg,n.off=Lg,n.each=hi,n.merge=CO,n.extend=HD,n.bindFn=zD,n.assign=Uc,n.inherit=EO,n.bindFn=zD,n.prefixed=Pg,n.toArray=vf,n.inArray=ga,n.uniqueArray=a1,n.splitStr=Rg,n.boolOrFn=Ay,n.hasParent=i1,n.addEventListeners=Fg,n.removeEventListeners=Lg,n.defaults=Uc({},FD,{preset:pd}),n}(),_1=Symbol("DELETE");function y1(...n){const t=Vg(...n);return v1(t),t}function Vg(...n){if(n.length<2)return n[0];if(n.length>2)return Vg(y1(n[0],n[1]),...n.slice(2));const t=n[0],e=n[1];for(const i of Reflect.ownKeys(e))Object.prototype.propertyIsEnumerable.call(e,i)&&(e[i]===_1?delete t[i]:t[i]=null===t[i]||null===e[i]||"object"!=typeof t[i]||"object"!=typeof e[i]||Array.isArray(t[i])||Array.isArray(e[i])?b1(e[i]):Vg(t[i],e[i]));return t}function b1(n){return Array.isArray(n)?n.map(t=>b1(t)):"object"==typeof n&&null!==n?Vg({},n):n}function v1(n){for(const t of Object.keys(n))n[t]===_1?delete n[t]:"object"==typeof n[t]&&null!==n[t]&&v1(n[t])}function Fy(...n){return function(n){let[t,e,i]=function(...n){const t=function(){let n=4022871197;return function(t){const e=t.toString();for(let i=0;i<e.length;i++){n+=e.charCodeAt(i);let r=.02519603282416938*n;n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=4294967296*r}return 2.3283064365386963e-10*(n>>>0)}}();let e=t(" "),i=t(" "),r=t(" ");for(let s=0;s<n.length;s++)e-=t(n[s]),e<0&&(e+=1),i-=t(n[s]),i<0&&(i+=1),r-=t(n[s]),r<0&&(r+=1);return[e,i,r]}(n),r=1;const s=()=>{const l=2091639*t+2.3283064365386963e-10*r;return t=e,e=i,i=l-(r=0|l)};return s.uint32=()=>4294967296*s(),s.fract53=()=>s()+11102230246251565e-32*(2097152*s()|0),s.algorithm="Alea",s.seed=n,s.version="0.9",s}(n.length?n:[Date.now()])}const w1="undefined"!=typeof window?window.Hammer||Bg:function(){return function(){const n=()=>{};return{on:n,off:n,destroy:n,emit:n,get:()=>({set:n})}}()};function Rs(n){this._cleanupQueue=[],this.active=!1,this._dom={container:n,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=w1(this._dom.overlay);t.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{t.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(i=>{t.on(i,r=>{r.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{(function(n,t){for(;n;){if(n===t)return!0;n=n.parentNode}return!1})(i.target,n)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?"Escape"===i.key:27===i.keyCode)&&this.deactivate()}}co()(Rs.prototype),Rs.current=null,Rs.prototype.destroy=function(){this.deactivate();for(const n of this._cleanupQueue.splice(0).reverse())n()},Rs.prototype.activate=function(){Rs.current&&Rs.current.deactivate(),Rs.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Rs.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Rs.prototype._onTapOverlay=function(n){this.activate(),n.srcEvent.stopPropagation()};const C1=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,el=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,SO=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Ly=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function qc(n){if(n)for(;!0===n.hasChildNodes();){const t=n.firstChild;t&&(qc(t),n.removeChild(t))}}function Zl(n){return n instanceof String||"string"==typeof n}function By(n){return"object"==typeof n&&null!==n}function Zc(n,t,e,i){let r=!1;!0===i&&(r=null===t[e]&&void 0!==n[e]),r?delete n[e]:n[e]=t[e]}function Vy(n,t,e=!1){for(const i in n)if(void 0!==t[i])if(null===t[i]||"object"!=typeof t[i])Zc(n,t,i,e);else{const r=n[i],s=t[i];By(r)&&By(s)&&Vy(r,s,e)}}function Df(n,t,e,i=!1){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(let r=0;r<n.length;r++){const s=n[r];if(Object.prototype.hasOwnProperty.call(e,s))if(e[s]&&e[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?Jn(t[s],e[s],!1,i):Zc(t,e,s,i);else{if(Array.isArray(e[s]))throw new TypeError("Arrays are not supported by deepExtend");Zc(t,e,s,i)}}return t}function jy(n,t,e,i=!1){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&!n.includes(r))if(e[r]&&e[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?Jn(t[r],e[r]):Zc(t,e,r,i);else if(Array.isArray(e[r])){t[r]=[];for(let s=0;s<e[r].length;s++)t[r].push(e[r][s])}else Zc(t,e,r,i);return t}function Jn(n,t,e=!1,i=!1){for(const r in t)(Object.prototype.hasOwnProperty.call(t,r)||!0===e)&&("object"==typeof t[r]&&null!==t[r]&&Object.getPrototypeOf(t[r])===Object.prototype?void 0===n[r]?n[r]=Jn({},t[r],e):"object"==typeof n[r]&&null!==n[r]&&Object.getPrototypeOf(n[r])===Object.prototype?Jn(n[r],t[r],e):Zc(n,t,r,i):Array.isArray(t[r])?n[r]=t[r].slice():Zc(n,t,r,i));return n}function Hg(n,t){return[...n,t]}function NO(n){return n.getBoundingClientRect().top}function dn(n,t){if(Array.isArray(n)){const e=n.length;for(let i=0;i<e;i++)t(n[i],i,n)}else for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(n[e],e,n)}function E1(n){let t;switch(n.length){case 3:case 4:return t=el.exec(n),t?{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16)}:null;case 6:case 7:return t=C1.exec(n),t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;default:return null}}function Fs(n,t){if(n.includes("rgba"))return n;if(n.includes("rgb")){const e=n.substr(n.indexOf("(")+1).replace(")","").split(",");return"rgba("+e[0]+","+e[1]+","+e[2]+","+t+")"}{const e=E1(n);return null==e?n:"rgba("+e.r+","+e.g+","+e.b+","+t+")"}}function JD(n,t,e){return"#"+((1<<24)+(n<<16)+(t<<8)+e).toString(16).slice(1)}function zy(n,t){if(Zl(n)){let e=n;if(x1(e)){const i=e.substr(4).substr(0,e.length-5).split(",").map(function(r){return parseInt(r)});e=JD(i[0],i[1],i[2])}if(!0===BO(e)){const i=function(n){const t=E1(n);if(!t)throw new TypeError(`'${n}' is not a valid color.`);return zg(t.r,t.g,t.b)}(e),r={h:i.h,s:.8*i.s,v:Math.min(1,1.02*i.v)},s={h:i.h,s:Math.min(1,1.25*i.s),v:.8*i.v},l=Mf(s.h,s.s,s.v),d=Mf(r.h,r.s,r.v);return{background:e,border:l,highlight:{background:d,border:l},hover:{background:d,border:l}}}return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}return t?{background:n.background||t.background,border:n.border||t.border,highlight:Zl(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||t.highlight.background,border:n.highlight&&n.highlight.border||t.highlight.border},hover:Zl(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||t.hover.border,background:n.hover&&n.hover.background||t.hover.background}}:{background:n.background||void 0,border:n.border||void 0,highlight:Zl(n.highlight)?{border:n.highlight,background:n.highlight}:{background:n.highlight&&n.highlight.background||void 0,border:n.highlight&&n.highlight.border||void 0},hover:Zl(n.hover)?{border:n.hover,background:n.hover}:{border:n.hover&&n.hover.border||void 0,background:n.hover&&n.hover.background||void 0}}}function zg(n,t,e){n/=255,t/=255,e/=255;const i=Math.min(n,Math.min(t,e)),r=Math.max(n,Math.max(t,e));return i===r?{h:0,s:0,v:i}:{h:60*((n===i?3:e===i?1:5)-(n===i?t-e:e===i?n-t:e-n)/(r-i))/360,s:(r-i)/r,v:r}}function Ug(n,t,e){let i,r,s;const l=Math.floor(6*n),d=6*n-l,f=e*(1-t),g=e*(1-d*t),_=e*(1-(1-d)*t);switch(l%6){case 0:i=e,r=_,s=f;break;case 1:i=g,r=e,s=f;break;case 2:i=f,r=e,s=_;break;case 3:i=f,r=g,s=e;break;case 4:i=_,r=f,s=e;break;case 5:i=e,r=f,s=g}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*s)}}function Mf(n,t,e){const i=Ug(n,t,e);return JD(i.r,i.g,i.b)}function BO(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)}function x1(n){return SO.test(n)}function Po(n){if(null===n||"object"!=typeof n)return null;if(n instanceof Element)return n;const t=Object.create(n);for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&"object"==typeof n[e]&&(t[e]=Po(n[e]));return t}function Ro(n,t,e,i={}){const r=function(T){return null!=T},s=function(T){return null!==T&&"object"==typeof T};if(!s(n))throw new Error("Parameter mergeTarget must be an object");if(!s(t))throw new Error("Parameter options must be an object");if(!r(e))throw new Error("Parameter option must have a value");if(!s(i))throw new Error("Parameter globalOptions must be an object");const f=t[e],_=s(i)&&!function(T){for(const N in T)if(Object.prototype.hasOwnProperty.call(T,N))return!1;return!0}(i)?i[e]:void 0,b=_?_.enabled:void 0;if(void 0===f)return;if("boolean"==typeof f)return s(n[e])||(n[e]={}),void(n[e].enabled=f);if(null===f&&!s(n[e])){if(!r(_))return;n[e]=Object.create(_)}if(!s(f))return;let w=!0;void 0!==f.enabled?w=f.enabled:void 0!==b&&(w=_.enabled),function(T,N,F){s(T[F])||(T[F]={});const I=N[F],P=T[F];for(const L in I)Object.prototype.hasOwnProperty.call(I,L)&&(P[L]=I[L])}(n,t,e),n[e].enabled=w}const zO={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n*n:(4-2*n)*n-1,easeInCubic:n=>n*n*n,easeOutCubic:n=>--n*n*n+1,easeInOutCubic:n=>n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1- --n*n*n*n,easeInOutQuart:n=>n<.5?8*n*n*n*n:1-8*--n*n*n*n,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1+--n*n*n*n*n,easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n};function Kl(n,t){let e;Array.isArray(t)||(t=[t]);for(const i of n)if(i){e=i[t[0]];for(let r=1;r<t.length;r++)e&&(e=e[t[r]]);if(void 0!==e)break}return e}const tx={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class nx{constructor(t=1){this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}setCloseCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}_isColorString(t){if("string"==typeof t)return tx[t]}setColor(t,e=!0){if("none"===t)return;let i;const r=this._isColorString(t);if(void 0!==r&&(t=r),!0===Zl(t)){if(!0===x1(t)){const s=t.substr(4).substr(0,t.length-5).split(",");i={r:s[0],g:s[1],b:s[2],a:1}}else if(!0===Ly.test(t)){const s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(!0===BO(t)){const s=E1(t);i={r:s.r,g:s.g,b:s.b,a:1}}}else t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&(i={r:t.r,g:t.g,b:t.b,a:void 0!==t.a?t.a:"1.0"});if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(t=!0){!0===t&&(this.previousColor=Object.assign({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t,e=!0){!0===e&&(this.initialColor=Object.assign({},t)),this.color=t;const i=zg(t.r,t.g,t.b),r=2*Math.PI,s=this.r*i.s,l=this.centerCoordinates.x+s*Math.sin(r*i.h),d=this.centerCoordinates.y+s*Math.cos(r*i.h);this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){const e=zg(this.color.r,this.color.g,this.color.b);e.v=t/100;const i=Ug(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(t=this.color){const e=zg(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),i.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(e){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(e){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const t=this;this.opacityRange.onchange=function(){t._setOpacity(this.value)},this.opacityRange.oninput=function(){t._setOpacity(this.value)},this.brightnessRange.onchange=function(){t._setBrightness(this.value)},this.brightnessRange.oninput=function(){t._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new w1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",t=>{t.isFirst&&this._moveSelector(t)}),this.hammer.on("tap",t=>{this._moveSelector(t)}),this.hammer.on("panstart",t=>{this._moveSelector(t)}),this.hammer.on("panmove",t=>{this._moveSelector(t)}),this.hammer.on("panend",t=>{this._moveSelector(t)})}_generateHueCircle(){if(!1===this.generated){const t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;let r,s,l,d;t.clearRect(0,0,e,i),this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;const f=2*Math.PI/360,g=1/360,_=1/this.r;let b;for(l=0;l<360;l++)for(d=0;d<this.r;d++)r=this.centerCoordinates.x+d*Math.sin(f*l),s=this.centerCoordinates.y+d*Math.cos(f*l),b=Ug(l*g,d*_,1),t.fillStyle="rgb("+b.r+","+b.g+","+b.b+")",t.fillRect(r-.5,s-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}_moveSelector(t){const e=this.colorPickerDiv.getBoundingClientRect(),s=.5*this.colorPickerDiv.clientHeight,l=.5*this.colorPickerDiv.clientWidth,d=t.center.x-e.left-l,f=t.center.y-e.top-s,g=Math.atan2(d,f),_=.98*Math.min(Math.sqrt(d*d+f*f),l),b=Math.cos(g)*_+s,w=Math.sin(g)*_+l;this.colorPickerSelector.style.top=b-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=w-.5*this.colorPickerSelector.clientWidth+"px";let T=g/(2*Math.PI);T=T<0?T+1:T;const N=_/this.r,F=zg(this.color.r,this.color.g,this.color.b);F.h=T,F.s=N;const I=Ug(F.h,F.s,F.v);I.a=this.color.a,this.color=I,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}function T1(...n){if(n.length<1)throw new TypeError("Invalid arguments.");if(1===n.length)return document.createTextNode(n[0]);{const t=document.createElement(n[0]);return t.appendChild(T1(...n.slice(1))),t}}let sx,$g=!1;const Uy="background: #FFeeee; color: #dd0000";class vi{static validate(t,e,i){$g=!1,sx=e;let r=e;return void 0!==i&&(r=e[i]),vi.parse(t,r,[]),$g}static parse(t,e,i){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&vi.check(r,t,e,i)}static check(t,e,i,r){if(void 0===i[t]&&void 0===i.__any__)return void vi.getSuggestion(t,i,r);let s=t,l=!0;void 0===i[t]&&void 0!==i.__any__&&(s="__any__",l="object"===vi.getType(e[t]));let d=i[s];l&&void 0!==d.__type__&&(d=d.__type__),vi.checkFields(t,e,i,s,d,r)}static checkFields(t,e,i,r,s,l){const d=function(_){console.error("%c"+_+vi.printLocation(l,t),Uy)},f=vi.getType(e[t]),g=s[f];void 0!==g?"array"===vi.getType(g)&&-1===g.indexOf(e[t])?(d('Invalid option detected in "'+t+'". Allowed values are:'+vi.print(g)+' not "'+e[t]+'". '),$g=!0):"object"===f&&"__any__"!==r&&(l=Hg(l,t),vi.parse(e[t],i[r],l)):void 0===s.any&&(d('Invalid type received for "'+t+'". Expected: '+vi.print(Object.keys(s))+". Received ["+f+'] "'+e[t]+'"'),$g=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(t,e,i){const r=vi.findInOptions(t,e,i,!1),s=vi.findInOptions(t,sx,[],!0);let f;f=void 0!==r.indexMatch?" in "+vi.printLocation(r.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':s.distance<=4&&r.distance>s.distance?" in "+vi.printLocation(r.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+vi.printLocation(s.path,s.closestMatch,""):r.distance<=8?'. Did you mean "'+r.closestMatch+'"?'+vi.printLocation(r.path,t):". Did you mean one of these: "+vi.print(Object.keys(e))+vi.printLocation(i,t),console.error('%cUnknown option detected: "'+t+'"'+f,Uy),$g=!0}static findInOptions(t,e,i,r=!1){let s=1e9,l="",d=[];const f=t.toLowerCase();let g;for(const _ in e){let b;if(void 0!==e[_].__type__&&!0===r){const w=vi.findInOptions(t,e[_],Hg(i,_));s>w.distance&&(l=w.closestMatch,d=w.path,s=w.distance,g=w.indexMatch)}else-1!==_.toLowerCase().indexOf(f)&&(g=_),b=vi.levenshteinDistance(t,_),s>b&&(l=_,d=i.slice(),s=b)}return{closestMatch:l,path:d,distance:s,indexMatch:g}}static printLocation(t,e,i="Problem value found at: \n"){let r="\n\n"+i+"options = {\n";for(let s=0;s<t.length;s++){for(let l=0;l<s+1;l++)r+="  ";r+=t[s]+": {\n"}for(let s=0;s<t.length+1;s++)r+="  ";r+=e+"\n";for(let s=0;s<t.length+1;s++){for(let l=0;l<t.length-s;l++)r+="  ";r+="}\n"}return r+"\n\n"}static print(t){return JSON.stringify(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const i=[];let r,s;for(r=0;r<=e.length;r++)i[r]=[r];for(s=0;s<=t.length;s++)i[0][s]=s;for(r=1;r<=e.length;r++)for(s=1;s<=t.length;s++)i[r][s]=e.charAt(r-1)==t.charAt(s-1)?i[r-1][s-1]:Math.min(i[r-1][s-1]+1,Math.min(i[r][s-1]+1,i[r-1][s]+1));return i[e.length][t.length]}}const ox=Rs,gd=w1,lx=Uy,WO=vi;var md=O(3199);function cx(n){return"string"==typeof n||"number"==typeof n}class ux{constructor(t){this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(t)}setOptions(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}static extend(t,e){const i=new ux(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=()=>{i.flush()};const r=[{name:"flush",original:void 0}];if(e&&e.replace)for(let s=0;s<e.replace.length;s++){const l=e.replace[s];r.push({name:l,original:t[l]}),i.replace(t,l)}return i._extended={object:t,methods:r},i}destroy(){if(this.flush(),this._extended){const t=this._extended.object,e=this._extended.methods;for(let i=0;i<e.length;i++){const r=e[i];r.original?t[r.name]=r.original:delete t[r.name]}this._extended=null}}replace(t,e){const i=this,r=t[e];if(!r)throw new Error("Method "+e+" undefined");t[e]=function(...s){i.queue({args:s,fn:r,context:this})}}queue(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=setTimeout(()=>{this.flush()},this.delay))}flush(){this._queue.splice(0).forEach(t=>{t.fn.apply(t.context||t.fn,t.args||[])})}}class M1{constructor(){this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=M1.prototype.on,this.unsubscribe=M1.prototype.off}_trigger(t,e,i){if("*"===t)throw new Error("Cannot trigger event *");[...this._subscribers[t],...this._subscribers["*"]].forEach(r=>{r(t,e,null!=i?i:null)})}on(t,e){"function"==typeof e&&this._subscribers[t].push(e)}off(t,e){this._subscribers[t]=this._subscribers[t].filter(i=>i!==e)}}class Sf{constructor(t){this._pairs=t}*[Symbol.iterator](){for(const[t,e]of this._pairs)yield[t,e]}*entries(){for(const[t,e]of this._pairs)yield[t,e]}*keys(){for(const[t]of this._pairs)yield t}*values(){for(const[,t]of this._pairs)yield t}toIdArray(){return[...this._pairs].map(t=>t[0])}toItemArray(){return[...this._pairs].map(t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const t=Object.create(null);for(const[e,i]of this._pairs)t[e]=i;return t}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new Sf([...this._pairs])}distinct(t){const e=new Set;for(const[i,r]of this._pairs)e.add(t(r,i));return e}filter(t){const e=this._pairs;return new Sf({*[Symbol.iterator](){for(const[i,r]of e)t(r,i)&&(yield[i,r])}})}forEach(t){for(const[e,i]of this._pairs)t(i,e)}map(t){const e=this._pairs;return new Sf({*[Symbol.iterator](){for(const[i,r]of e)yield[i,t(r,i)]}})}max(t){const e=this._pairs[Symbol.iterator]();let i=e.next();if(i.done)return null;let r=i.value[1],s=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){const[l,d]=i.value,f=t(d,l);f>s&&(s=f,r=d)}return r}min(t){const e=this._pairs[Symbol.iterator]();let i=e.next();if(i.done)return null;let r=i.value[1],s=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){const[l,d]=i.value,f=t(d,l);f<s&&(s=f,r=d)}return r}reduce(t,e){for(const[i,r]of this._pairs)e=t(e,r,i);return e}sort(t){return new Sf({[Symbol.iterator]:()=>[...this._pairs].sort(([e,i],[r,s])=>t(i,s,e,r))[Symbol.iterator]()})}}class $y extends M1{constructor(t,e){super(),this._queue=null,t&&!Array.isArray(t)&&(e=t,t=[]),this._options=e||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(e)}get idProp(){return this._idProp}setOptions(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=ux.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}add(t,e){const i=[];let r;if(Array.isArray(t)){if(t.map(l=>l[this._idProp]).some(l=>this._data.has(l)))throw new Error("A duplicate id was found in the parameter array.");for(let l=0,d=t.length;l<d;l++)r=this._addItem(t[l]),i.push(r)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");r=this._addItem(t),i.push(r)}return i.length&&this._trigger("add",{items:i},e),i}update(t,e){const i=[],r=[],s=[],l=[],d=this._idProp,f=g=>{const _=g[d];if(null!=_&&this._data.has(_)){const b=g,w=Object.assign({},this._data.get(_)),T=this._updateItem(b);r.push(T),l.push(b),s.push(w)}else{const b=this._addItem(g);i.push(b)}};if(Array.isArray(t))for(let g=0,_=t.length;g<_;g++)t[g]&&"object"==typeof t[g]?f(t[g]):console.warn("Ignoring input item, which is not an object at index "+g);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");f(t)}return i.length&&this._trigger("add",{items:i},e),r.length&&this._trigger("update",{items:r,oldData:s,data:l},e),i.concat(r)}updateOnly(t,e){Array.isArray(t)||(t=[t]);const i=t.map(r=>{const s=this._data.get(r[this._idProp]);if(null==s)throw new Error("Updating non-existent items is not allowed.");return{oldData:s,update:r}}).map(({oldData:r,update:s})=>{const l=r[this._idProp],d=function(n,...t){return y1({},n,...t)}(r,s);return this._data.set(l,d),{id:l,oldData:r,updatedData:d}});if(i.length){const r={items:i.map(s=>s.id),oldData:i.map(s=>s.oldData),data:i.map(s=>s.updatedData)};return this._trigger("update",r,e),r.items}return[]}get(t,e){let i,r,s;cx(t)?(i=t,s=e):Array.isArray(t)?(r=t,s=e):s=t;const l=s&&"Object"===s.returnType?"Object":"Array",d=s&&s.filter,f=[];let g,_,b;if(null!=i)g=this._data.get(i),g&&d&&!d(g)&&(g=void 0);else if(null!=r)for(let w=0,T=r.length;w<T;w++)g=this._data.get(r[w]),null!=g&&(!d||d(g))&&f.push(g);else{_=[...this._data.keys()];for(let w=0,T=_.length;w<T;w++)b=_[w],g=this._data.get(b),null!=g&&(!d||d(g))&&f.push(g)}if(s&&s.order&&null==i&&this._sort(f,s.order),s&&s.fields){const w=s.fields;if(null!=i&&null!=g)g=this._filterFields(g,w);else for(let T=0,N=f.length;T<N;T++)f[T]=this._filterFields(f[T],w)}if("Object"==l){const w={};for(let T=0,N=f.length;T<N;T++){const F=f[T];w[F[this._idProp]]=F}return w}return null!=i?null!=g?g:null:f}getIds(t){const e=this._data,i=t&&t.filter,r=t&&t.order,s=[...e.keys()],l=[];if(i)if(r){const d=[];for(let f=0,g=s.length;f<g;f++){const b=this._data.get(s[f]);null!=b&&i(b)&&d.push(b)}this._sort(d,r);for(let f=0,g=d.length;f<g;f++)l.push(d[f][this._idProp])}else for(let d=0,f=s.length;d<f;d++){const _=this._data.get(s[d]);null!=_&&i(_)&&l.push(_[this._idProp])}else if(r){const d=[];for(let f=0,g=s.length;f<g;f++)d.push(e.get(s[f]));this._sort(d,r);for(let f=0,g=d.length;f<g;f++)l.push(d[f][this._idProp])}else for(let d=0,f=s.length;d<f;d++){const _=e.get(s[d]);null!=_&&l.push(_[this._idProp])}return l}getDataSet(){return this}forEach(t,e){const i=e&&e.filter,s=[...this._data.keys()];if(e&&e.order){const l=this.get(e);for(let d=0,f=l.length;d<f;d++){const g=l[d];t(g,g[this._idProp])}}else for(let l=0,d=s.length;l<d;l++){const f=s[l],g=this._data.get(f);null!=g&&(!i||i(g))&&t(g,f)}}map(t,e){const i=e&&e.filter,r=[],l=[...this._data.keys()];for(let d=0,f=l.length;d<f;d++){const g=l[d],_=this._data.get(g);null!=_&&(!i||i(_))&&r.push(t(_,g))}return e&&e.order&&this._sort(r,e.order),r}_filterFields(t,e){return t&&(Array.isArray(e)?e:Object.keys(e)).reduce((i,r)=>(i[r]=t[r],i),{})}_sort(t,e){if("string"==typeof e){const i=e;t.sort((r,s)=>{const l=r[i],d=s[i];return l>d?1:l<d?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}}remove(t,e){const i=[],r=[],s=Array.isArray(t)?t:[t];for(let l=0,d=s.length;l<d;l++){const f=this._remove(s[l]);if(f){const g=f[this._idProp];null!=g&&(i.push(g),r.push(f))}}return i.length&&this._trigger("remove",{items:i,oldData:r},e),i}_remove(t){let e;if(cx(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){const i=this._data.get(e)||null;return this._data.delete(e),--this.length,i}return null}clear(t){const e=[...this._data.keys()],i=[];for(let r=0,s=e.length;r<s;r++)i.push(this._data.get(e[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i},t),e}max(t){let e=null,i=null;for(const r of this._data.values()){const s=r[t];"number"==typeof s&&(null==i||s>i)&&(e=r,i=s)}return e||null}min(t){let e=null,i=null;for(const r of this._data.values()){const s=r[t];"number"==typeof s&&(null==i||s<i)&&(e=r,i=s)}return e||null}distinct(t){const e=this._data,i=[...e.keys()],r=[];let s=0;for(let l=0,d=i.length;l<d;l++){const _=e.get(i[l])[t];let b=!1;for(let w=0;w<s;w++)if(r[w]==_){b=!0;break}!b&&void 0!==_&&(r[s]=_,s++)}return r}_addItem(t){const e=function(n,t){return null==n[t]&&(n[t]=(0,md.v4)()),n}(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}_updateItem(t){const e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");const i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,nc(nc({},i),t)),e}stream(t){if(t){const e=this._data;return new Sf({*[Symbol.iterator](){for(const i of t){const r=e.get(i);null!=r&&(yield[i,r])}}})}return new Sf({[Symbol.iterator]:this._data.entries.bind(this._data)})}}function YO(n,t){return"object"==typeof t&&null!==t&&n===t.idProp&&"function"==typeof t.forEach&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof t.map&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.stream&&function(n,t){return"object"==typeof t&&null!==t&&n===t.idProp&&"function"==typeof t.add&&"function"==typeof t.clear&&"function"==typeof t.distinct&&"function"==typeof t.forEach&&"function"==typeof t.get&&"function"==typeof t.getDataSet&&"function"==typeof t.getIds&&"number"==typeof t.length&&"function"==typeof t.map&&"function"==typeof t.max&&"function"==typeof t.min&&"function"==typeof t.off&&"function"==typeof t.on&&"function"==typeof t.remove&&"function"==typeof t.setOptions&&"function"==typeof t.stream&&"function"==typeof t.update&&"function"==typeof t.updateOnly}(n,t.getDataSet())}function Xn(n,t,e,i){if("a"===e&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?n!==t||!i:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?i:"a"===e?i.call(n):i?i.value:t.get(n)}function Wg(n,t,e,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?n!==t||!r:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(n,e):r?r.value=e:t.set(n,e),e}var Wy=O(1849),px=O.n(Wy);function Gy(n,t,e,i){n.beginPath(),n.arc(t,e,i,0,2*Math.PI,!1),n.closePath()}function QO(n,t,e,i,r,s){const l=Math.PI/180;i-2*s<0&&(s=i/2),r-2*s<0&&(s=r/2),n.beginPath(),n.moveTo(t+s,e),n.lineTo(t+i-s,e),n.arc(t+i-s,e+s,s,270*l,360*l,!1),n.lineTo(t+i,e+r-s),n.arc(t+i-s,e+r-s,s,0,90*l,!1),n.lineTo(t+s,e+r),n.arc(t+s,e+r-s,s,90*l,180*l,!1),n.lineTo(t,e+s),n.arc(t+s,e+s,s,180*l,270*l,!1),n.closePath()}function _x(n,t,e,i,r){const s=.5522848,l=i/2*s,d=r/2*s,f=t+i,g=e+r,_=t+i/2,b=e+r/2;n.beginPath(),n.moveTo(t,b),n.bezierCurveTo(t,b-d,_-l,e,_,e),n.bezierCurveTo(_+l,e,f,b-d,f,b),n.bezierCurveTo(f,b+d,_+l,g,_,g),n.bezierCurveTo(_-l,g,t,b+d,t,b),n.closePath()}function yx(n,t,e,i,r){const d=r*(1/3),f=.5522848,g=i/2*f,_=d/2*f,b=t+i,w=e+d,T=t+i/2,N=e+d/2,F=e+(r-d/2),I=e+r;n.beginPath(),n.moveTo(b,N),n.bezierCurveTo(b,N+_,T+g,w,T,w),n.bezierCurveTo(T-g,w,t,N+_,t,N),n.bezierCurveTo(t,N-_,T-g,e,T,e),n.bezierCurveTo(T+g,e,b,N-_,b,N),n.lineTo(b,F),n.bezierCurveTo(b,F+_,T+g,I,T,I),n.bezierCurveTo(T-g,I,t,F+_,t,F),n.lineTo(t,N)}function eI(n,t,e,i,r,s){n.beginPath(),n.moveTo(t,e);const l=s.length,d=i-t,f=r-e,g=f/d;let _=Math.sqrt(d*d+f*f),b=0,w=!0,T=0,N=+s[0];for(;_>=.1;)N=+s[b++%l],N>_&&(N=_),T=Math.sqrt(N*N/(1+g*g)),T=d<0?-T:T,t+=T,e+=g*T,!0===w?n.lineTo(t,e):n.moveTo(t,e),_-=N,w=!w}const bx={circle:Gy,dashedLine:eI,database:yx,diamond:function(n,t,e,i){n.beginPath(),n.lineTo(t,e+i),n.lineTo(t+i,e),n.lineTo(t,e-i),n.lineTo(t-i,e),n.closePath()},ellipse:_x,ellipse_vis:_x,hexagon:function(n,t,e,i){n.beginPath();const s=2*Math.PI/6;n.moveTo(t+i,e);for(let l=1;l<6;l++)n.lineTo(t+i*Math.cos(s*l),e+i*Math.sin(s*l));n.closePath()},roundRect:QO,square:function(n,t,e,i){n.beginPath(),n.rect(t-i,e-i,2*i,2*i),n.closePath()},star:function(n,t,e,i){n.beginPath(),e+=.1*(i*=.82);for(let r=0;r<10;r++){const s=r%2==0?1.3*i:.5*i;n.lineTo(t+s*Math.sin(2*r*Math.PI/10),e-s*Math.cos(2*r*Math.PI/10))}n.closePath()},triangle:function(n,t,e,i){n.beginPath(),e+=.275*(i*=1.15);const r=2*i,s=r/2,l=Math.sqrt(3)/6*r,d=Math.sqrt(r*r-s*s);n.moveTo(t,e-(d-l)),n.lineTo(t+s,e+l),n.lineTo(t-s,e+l),n.lineTo(t,e-(d-l)),n.closePath()},triangleDown:function(n,t,e,i){n.beginPath(),e-=.275*(i*=1.15);const r=2*i,s=r/2,l=Math.sqrt(3)/6*r,d=Math.sqrt(r*r-s*s);n.moveTo(t,e+(d-l)),n.lineTo(t+s,e-l),n.lineTo(t-s,e-l),n.lineTo(t,e+(d-l)),n.closePath()}};var Zy={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},A1=Object.create(Zy);A1.color="color.color",A1.style="dashes";var Ls_IDENTIFIER=2,nI={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Kc="",Gg=0,sn="",zt="",go=0;function vr(){Gg++,sn=Kc.charAt(Gg)}function tl(){return Kc.charAt(Gg+1)}function vx(n){var t=n.charCodeAt(0);return t<47?35===t||46===t:t<59?t>47:t<91?t>64:t<96?95===t:t<123&&t>96}function Jc(n,t){if(n||(n={}),t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function iI(n,t,e){for(var i=t.split("."),r=n;i.length;){var s=i.shift();i.length?(r[s]||(r[s]={}),r=r[s]):r[s]=e}}function Ky(n,t){for(var e,i,r=null,s=[n],l=n;l.parent;)s.push(l.parent),l=l.parent;if(l.nodes)for(e=0,i=l.nodes.length;e<i;e++)if(t.id===l.nodes[e].id){r=l.nodes[e];break}for(r||(r={id:t.id},n.node&&(r.attr=Jc(r.attr,n.node))),e=s.length-1;e>=0;e--){var d=s[e];d.nodes||(d.nodes=[]),-1===d.nodes.indexOf(r)&&d.nodes.push(r)}t.attr&&(r.attr=Jc(r.attr,t.attr))}function rI(n,t){if(n.edges||(n.edges=[]),n.edges.push(t),n.edge){var e=Jc({},n.edge);t.attr=Jc(e,t.attr)}}function Bs(n,t,e,i,r){var s={from:t,to:e,type:i};return n.edge&&(s.attr=Jc({},n.edge)),s.attr=Jc(s.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(s.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),s}function Qn(){for(go=0,zt="";" "===sn||"\t"===sn||"\n"===sn||"\r"===sn;)vr();do{var n=!1;if("#"===sn){for(var t=Gg-1;" "===Kc.charAt(t)||"\t"===Kc.charAt(t);)t--;if("\n"===Kc.charAt(t)||""===Kc.charAt(t)){for(;""!=sn&&"\n"!=sn;)vr();n=!0}}if("/"===sn&&"/"===tl()){for(;""!=sn&&"\n"!=sn;)vr();n=!0}if("/"===sn&&"*"===tl()){for(;""!=sn;){if("*"===sn&&"/"===tl()){vr(),vr();break}vr()}n=!0}for(;" "===sn||"\t"===sn||"\n"===sn||"\r"===sn;)vr()}while(n);if(""!==sn){var e=sn+tl();if(nI[e])return go=1,zt=e,vr(),void vr();if(nI[sn])return go=1,zt=sn,void vr();if(vx(sn)||"-"===sn){for(zt+=sn,vr();vx(sn);)zt+=sn,vr();return"false"===zt?zt=!1:"true"===zt?zt=!0:isNaN(Number(zt))||(zt=Number(zt)),void(go=Ls_IDENTIFIER)}if('"'===sn){for(vr();""!=sn&&('"'!=sn||'"'===sn&&'"'===tl());)'"'===sn?(zt+=sn,vr()):"\\"===sn&&"n"===tl()?(zt+="\n",vr()):zt+=sn,vr();if('"'!=sn)throw Zr('End of string " expected');return vr(),void(go=Ls_IDENTIFIER)}for(go=3;""!=sn;)zt+=sn,vr();throw new SyntaxError('Syntax error in part "'+xx(zt,30)+'"')}go=1}function wx(n){for(;""!==zt&&"}"!=zt;)sI(n),";"===zt&&Qn()}function sI(n){var t=Jy(n);if(t)Dx(n,t);else if(!function(n){return"node"===zt?(Qn(),n.node=Of(),"node"):"edge"===zt?(Qn(),n.edge=Of(),"edge"):"graph"===zt?(Qn(),n.graph=Of(),"graph"):null}(n)){if(go!=Ls_IDENTIFIER)throw Zr("Identifier expected");var i=zt;if(Qn(),"="===zt){if(Qn(),go!=Ls_IDENTIFIER)throw Zr("Identifier expected");n[i]=zt,Qn()}else!function(n,t){var e={id:t},i=Of();i&&(e.attr=i),Ky(n,e),Dx(n,t)}(n,i)}}function Jy(n){var t=null;if("subgraph"===zt&&((t={}).type="subgraph",Qn(),go===Ls_IDENTIFIER&&(t.id=zt,Qn())),"{"===zt){if(Qn(),t||(t={}),t.parent=n,t.node=n.node,t.edge=n.edge,t.graph=n.graph,wx(t),"}"!=zt)throw Zr("Angle bracket } expected");Qn(),delete t.node,delete t.edge,delete t.graph,delete t.parent,n.subgraphs||(n.subgraphs=[]),n.subgraphs.push(t)}return t}function Dx(n,t){for(;"->"===zt||"--"===zt;){var e,i=zt;Qn();var r=Jy(n);if(r)e=r;else{if(go!=Ls_IDENTIFIER)throw Zr("Identifier or subgraph expected");Ky(n,{id:e=zt}),Qn()}rI(n,Bs(n,t,e,i,Of())),t=e}}function Of(){for(var n,t=null,e={dashed:!0,solid:!1,dotted:[1,5]},i={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=new Array,s=new Array;"["===zt;){for(Qn(),t={};""!==zt&&"]"!=zt;){if(go!=Ls_IDENTIFIER)throw Zr("Attribute name expected");var l=zt;if(Qn(),"="!=zt)throw Zr("Equal sign = expected");if(Qn(),go!=Ls_IDENTIFIER)throw Zr("Attribute value expected");var d=zt;"style"===l&&(d=e[d]),"arrowhead"===l&&(l="arrows",d={to:{enabled:!0,type:i[d]}}),"arrowtail"===l&&(l="arrows",d={from:{enabled:!0,type:i[d]}}),r.push({attr:t,name:l,value:d}),s.push(l),Qn(),","==zt&&Qn()}if("]"!=zt)throw Zr("Bracket ] expected");Qn()}if(s.includes("dir")){var g={arrows:{}};for(n=0;n<r.length;n++)if("arrows"===r[n].name)if(null!=r[n].value.to)g.arrows.to=n;else{if(null==r[n].value.from)throw Zr("Invalid value of arrows");g.arrows.from=n}else"dir"===r[n].name&&(g.dir=n);var b,w,_=r[g.dir].value;if(!s.includes("arrows"))if("both"===_)r.push({attr:r[g.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),g.arrows.to=r.length-1,r.push({attr:r[g.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),g.arrows.from=r.length-1;else if("forward"===_)r.push({attr:r[g.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),g.arrows.to=r.length-1;else if("back"===_)r.push({attr:r[g.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),g.arrows.from=r.length-1;else{if("none"!==_)throw Zr('Invalid dir type "'+_+'"');r.push({attr:r[g.dir].attr,name:"arrows",value:""}),g.arrows.to=r.length-1}if("both"===_)g.arrows.to&&g.arrows.from?(r[g.arrows.to]={attr:r[g.arrows.to].attr,name:r[g.arrows.to].name,value:{to:{enabled:!0,type:w=r[g.arrows.to].value.to.type},from:{enabled:!0,type:b=r[g.arrows.from].value.from.type}}},r.splice(g.arrows.from,1)):g.arrows.to?r[g.arrows.to]={attr:r[g.arrows.to].attr,name:r[g.arrows.to].name,value:{to:{enabled:!0,type:w=r[g.arrows.to].value.to.type},from:{enabled:!0,type:b="arrow"}}}:g.arrows.from&&(r[g.arrows.from]={attr:r[g.arrows.from].attr,name:r[g.arrows.from].name,value:{to:{enabled:!0,type:w="arrow"},from:{enabled:!0,type:b=r[g.arrows.from].value.from.type}}});else if("back"===_)g.arrows.to&&g.arrows.from?r[g.arrows.from]={attr:r[g.arrows.from].attr,name:r[g.arrows.from].name,value:{to:{enabled:!0,type:w=""},from:{enabled:!0,type:b=r[g.arrows.from].value.from.type}}}:g.arrows.to?(w="",b="arrow",g.arrows.from=g.arrows.to,r[g.arrows.from]={attr:r[g.arrows.from].attr,name:r[g.arrows.from].name,value:{to:{enabled:!0,type:w},from:{enabled:!0,type:b}}}):g.arrows.from&&(r[g.arrows.to]={attr:r[g.arrows.from].attr,name:r[g.arrows.from].name,value:{to:{enabled:!0,type:w=""},from:{enabled:!0,type:b=r[g.arrows.from].value.from.type}}}),r[g.arrows.from]={attr:r[g.arrows.from].attr,name:r[g.arrows.from].name,value:{from:{enabled:!0,type:r[g.arrows.from].value.from.type}}};else if("none"===_){var T;r[T=g.arrows.to?g.arrows.to:g.arrows.from]={attr:r[T].attr,name:r[T].name,value:""}}else{if("forward"!==_)throw Zr('Invalid dir type "'+_+'"');g.arrows.to&&g.arrows.from||g.arrows.to?r[g.arrows.to]={attr:r[g.arrows.to].attr,name:r[g.arrows.to].name,value:{to:{enabled:!0,type:w=r[g.arrows.to].value.to.type},from:{enabled:!0,type:b=""}}}:g.arrows.from&&(w="arrow",b="",g.arrows.to=g.arrows.from,r[g.arrows.to]={attr:r[g.arrows.to].attr,name:r[g.arrows.to].name,value:{to:{enabled:!0,type:w},from:{enabled:!0,type:b}}}),r[g.arrows.to]={attr:r[g.arrows.to].attr,name:r[g.arrows.to].name,value:{to:{enabled:!0,type:r[g.arrows.to].value.to.type}}}}r.splice(g.dir,1)}var N;if(s.includes("penwidth")){var F=[];for(N=r.length,n=0;n<N;n++)"width"!==r[n].name&&("penwidth"===r[n].name&&(r[n].name="width"),F.push(r[n]));r=F}for(N=r.length,n=0;n<N;n++)iI(r[n].attr,r[n].name,r[n].value);return t}function Zr(n){return new SyntaxError(n+', got "'+xx(zt,30)+'" (char '+Gg+")")}function xx(n,t){return n.length<=t?n:n.substr(0,27)+"..."}function Yg(n,t,e){for(var i=t.split("."),r=i.pop(),s=n,l=0;l<i.length;l++){var d=i[l];d in s||(s[d]={}),s=s[d]}return s[r]=e,n}function I1(n,t){var e={};for(var i in n)if(n.hasOwnProperty(i)){var r=t[i];Array.isArray(r)?r.forEach(function(s){Yg(e,s,n[i])}):Yg(e,"string"==typeof r?r:i,n[i])}return e}function N1(n){var t=function(n){return Kc=n,function(){var n={};if(Gg=0,sn=Kc.charAt(0),Qn(),"strict"===zt&&(n.strict=!0,Qn()),("graph"===zt||"digraph"===zt)&&(n.type=zt,Qn()),go===Ls_IDENTIFIER&&(n.id=zt,Qn()),"{"!=zt)throw Zr("Angle bracket { expected");if(Qn(),wx(n),"}"!=zt)throw Zr("Angle bracket } expected");if(Qn(),""!==zt)throw Zr("End of file expected");return Qn(),delete n.node,delete n.edge,delete n.graph,n}()}(n),e={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach(function(r){var s={id:r.id,label:String(r.label||r.id)};Jc(s,I1(r.attr,Zy)),s.image&&(s.shape="image"),e.nodes.push(s)}),t.edges){var i=function(r){var s={from:r.from,to:r.to};return Jc(s,I1(r.attr,A1)),null==s.arrows&&"->"===r.type&&(s.arrows="to"),s};t.edges.forEach(function(r){var s,l;s=r.from instanceof Object?r.from.nodes:{id:r.from},l=r.to instanceof Object?r.to.nodes:{id:r.to},r.from instanceof Object&&r.from.edges&&r.from.edges.forEach(function(d){var f=i(d);e.edges.push(f)}),function(n,t,e){Array.isArray(n)?n.forEach(function(i){Array.isArray(t)?t.forEach(function(r){e(i,r)}):e(i,t)}):Array.isArray(t)?t.forEach(function(i){e(n,i)}):e(n,t)}(s,l,function(d,f){var g=Bs(e,d.id,f.id,r.type,r.attr),_=i(g);e.edges.push(_)}),r.to instanceof Object&&r.to.edges&&r.to.edges.forEach(function(d){var f=i(d);e.edges.push(f)})})}return t.attr&&(e.options=t.attr),e}var lI=Object.freeze({__proto__:null,en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"}});class cI{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const t=this.image.width,e=this.image.height;this.width=t,this.height=e;const i=Math.floor(e/2),r=Math.floor(e/4),s=Math.floor(e/8),l=Math.floor(e/16),d=Math.floor(t/2),f=Math.floor(t/4),g=Math.floor(t/8),_=Math.floor(t/16);this.canvas.width=3*f,this.canvas.height=i,this.coordinates=[[0,0,d,i],[d,0,f,r],[d,r,g,s],[5*g,r,_,l]],this._fillMipMap()}initialized(){return void 0!==this.coordinates}_fillMipMap(){const t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(let i=1;i<this.NUM_ITERATIONS;i++){const r=this.coordinates[i-1],s=this.coordinates[i];t.drawImage(this.canvas,r[0],r[1],r[2],r[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(t,e,i,r,s,l){if(this.initialized())if(e>2){e*=.5;let d=0;for(;e>2&&d<this.NUM_ITERATIONS;)e*=.5,d+=1;d>=this.NUM_ITERATIONS&&(d=this.NUM_ITERATIONS-1);const f=this.coordinates[d];t.drawImage(this.canvas,f[0],f[1],f[2],f[3],i,r,s,l)}else t.drawImage(this.image,i,r,s,l)}}class yR{constructor(t){this.images={},this.imageBroken={},this.callback=t}_tryloadBrokenUrl(t,e,i){if(void 0!==t&&void 0!==i){if(void 0===e)return void console.warn("No broken url image defined");i.image.onerror=()=>{console.error("Could not load brokenImage:",e)},i.image.src=e}}_redrawWithImage(t){this.callback&&this.callback(t)}load(t,e){const i=this.images[t];if(i)return i;const r=new cI;return this.images[t]=r,r.image.onload=()=>{this._fixImageCoordinates(r.image),r.init(),this._redrawWithImage(r)},r.image.onerror=()=>{console.error("Could not load image:",t),this._tryloadBrokenUrl(t,e,r)},r.image.src=t,r}_fixImageCoordinates(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}class Ax{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Object.assign(this.options,this.defaultOptions)}setOptions(t){const e=["useDefaultGroups"];if(void 0!==t)for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&-1===e.indexOf(i)&&this.add(i,t[i])}clear(){this._groups=new Map,this._groupNames=[]}get(t,e=!0){let i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){const r=this._groupIndex%this._groupNames.length;++this._groupIndex,i={},i.color=this._groups.get(this._groupNames[r]),this._groups.set(t,i)}else{const r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,i={},i.color=this._defaultGroups[r],this._groups.set(t,i)}return i}add(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}function Xy(n,t){const e=["node","edge","label"];let i=!0;const r=Kl(t,"chosen");if("boolean"==typeof r)i=r;else if("object"==typeof r){if(-1===e.indexOf(n))throw new Error("choosify: subOption '"+n+"' should be one of '"+e.join("', '")+"'");const s=Kl(t,["chosen",n]);("boolean"==typeof s||"function"==typeof s)&&(i=s)}return i}function k1(n,t,e){if(n.width<=0||n.height<=0)return!1;if(void 0!==e){const s={x:t.x-e.x,y:t.y-e.y};if(0!==e.angle){const l=-e.angle;t={x:Math.cos(l)*s.x-Math.sin(l)*s.y,y:Math.sin(l)*s.x+Math.cos(l)*s.y}}else t=s}return n.left<t.x&&n.x+n.width>t.x&&n.top<t.y&&n.y+n.width>t.y}function Qy(n){return"string"==typeof n&&""!==n}function P1(n,t,e,i){let r=i.x,s=i.y;if("function"==typeof i.distanceToBorder){const l=i.distanceToBorder(n,t),d=Math.sin(t)*l,f=Math.cos(t)*l;f===l?(r+=l,s=i.y):d===l?(r=i.x,s-=l):(r+=f,s-=d)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,s=i.y-e):(r=i.x+e,s=i.y-.5*i.shape.height);return{x:r,y:s}}class qg{constructor(t){this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(t,e,i="normal"){void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});let r=e;(void 0===e||""===e)&&(r=" ");const s=this.measureText(r,i),l=Object.assign({},s.values);l.text=e,l.width=s.width,l.mod=i,(void 0===e||""===e)&&(l.width=0),this.lines[t].blocks.push(l),this.lines[t].width+=l.width}curWidth(){const t=this.lines[this.current];return void 0===t?0:t.width}append(t,e="normal"){this._add(this.current,t,e)}newLine(t,e="normal"){this._add(this.current,t,e),this.current++}determineLineHeights(){for(let t=0;t<this.lines.length;t++){const e=this.lines[t];let i=0;if(void 0!==e.blocks)for(let r=0;r<e.blocks.length;r++){const s=e.blocks[r];i<s.height&&(i=s.height)}e.height=i}}determineLabelSize(){let t=0,e=0;for(let i=0;i<this.lines.length;i++){const r=this.lines[i];r.width>t&&(t=r.width),e+=r.height}this.width=t,this.height=e}removeEmptyBlocks(){const t=[];for(let e=0;e<this.lines.length;e++){const i=this.lines[e];if(0===i.blocks.length||e===this.lines.length-1&&0===i.width)continue;const r={};let s;Object.assign(r,i),r.blocks=[];const l=[];for(let d=0;d<i.blocks.length;d++){const f=i.blocks[d];0!==f.width?l.push(f):void 0===s&&(s=f)}0===l.length&&void 0!==s&&l.push(s),r.blocks=l,t.push(r)}return t}finalize(){this.determineLineHeights(),this.determineLabelSize();const t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}const R1={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class F1{constructor(t){this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return 0===this.modStack.length?"normal":this.modStack[0]}modName(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}parseWS(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}setTag(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}unsetTag(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}parseStartTag(t,e){return!(this.mono||this[t]||!this.match(e)||(this.setTag(t),0))}match(t,e=!0){const[i,r]=this.prepareRegExp(t),s=i.test(this.text.substr(this.position,r));return s&&e&&(this.position+=r-1),s}parseEndTag(t,e,i){let r=this.mod()===t;return r="mono"===t?r&&this.mono:r&&!this.mono,!(!r||!this.match(e)||(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),0))}replace(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}prepareRegExp(t){let e,i;if(t instanceof RegExp)i=t,e=1;else{const r=R1[t];i=void 0!==r?r:new RegExp(t),e=t.length}return[i,e]}}class uI{constructor(t,e,i,r){this.ctx=t,this.parent=e,this.selected=i,this.hover=r,this.lines=new qg((l,d)=>{if(void 0===l)return 0;const f=this.parent.getFormattingValues(t,i,r,d);let g=0;return""!==l&&(g=this.ctx.measureText(l).width),{width:g,values:f}})}process(t){if(!Qy(t))return this.lines.finalize();const e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");const i=String(t).split("\n"),r=i.length;if(e.multi)for(let s=0;s<r;s++){const l=this.splitBlocks(i[s],e.multi);if(void 0!==l){if(0===l.length){this.lines.newLine("");continue}if(e.maxWdt>0)for(let d=0;d<l.length;d++)this.splitStringIntoLines(l[d].text,l[d].mod,!0);else for(let d=0;d<l.length;d++)this.lines.append(l[d].text,l[d].mod);this.lines.newLine()}}else if(e.maxWdt>0)for(let s=0;s<r;s++)this.splitStringIntoLines(i[s]);else for(let s=0;s<r;s++)this.lines.newLine(i[s]);return this.lines.finalize()}decodeMarkupSystem(t){let e="none";return"markdown"===t||"md"===t?e="markdown":(!0===t||"html"===t)&&(e="html"),e}splitHtmlBlocks(t){const e=new F1(t),i=r=>!!/&/.test(r)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0);for(;e.position<e.text.length;){const r=e.text.charAt(e.position);e.parseWS(r)||/</.test(r)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(r)||e.add(r),e.position++}return e.emitBlock(),e.blocks}splitMarkdownBlocks(t){const e=new F1(t);let i=!0;const r=s=>!!/\\/.test(s)&&(e.position<this.text.length+1&&(e.position++,s=this.text.charAt(e.position),/ \t/.test(s)?e.spacing=!0:(e.add(s),i=!1)),!0);for(;e.position<e.text.length;){const s=e.text.charAt(e.position);e.parseWS(s)||r(s)||(i||e.spacing)&&(e.parseStartTag("bold","*")||e.parseStartTag("ital","_")||e.parseStartTag("mono","`"))||e.parseEndTag("bold","*","afterBold")||e.parseEndTag("ital","_","afterItal")||e.parseEndTag("mono","`","afterMono")||(e.add(s),i=!1),e.position++}return e.emitBlock(),e.blocks}splitBlocks(t,e){const i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}overMaxWidth(t){const e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}getLongestFit(t){let e="",i=0;for(;i<t.length;){const s=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(s))break;e=s,i++}return i}getLongestFitWord(t){let e=0;for(;e<t.length&&!this.overMaxWidth(t.slice(0,e));)e++;return e}splitStringIntoLines(t,e="normal",i=!1){this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);let r=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;r.length>0;){let s=this.getLongestFit(r);if(0===s){const l=r[0],d=this.getLongestFitWord(l);this.lines.newLine(l.slice(0,d),e),r[0]=l.slice(d)}else{let l=s;" "===r[s-1]?s--:" "===r[l]&&l++;const d=r.slice(0,s).join("");s==r.length&&i?this.lines.append(d,e):this.lines.newLine(d,e),r=r.slice(l)}}}}const eb=["bold","ital","boldital","mono"];class Zg{constructor(t,e,i=!1){this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(e),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}setOptions(t){if(this.elementOptions=t,this.initFontOptions(t.font),Qy(t.label)?this.labelDirty=!0:t.label=void 0,null!=t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"==typeof t.font){const e=t.font.size;void 0!==e&&(this.baseSize=e)}}initFontOptions(t){dn(eb,e=>{this.fontOptions[e]={}}),Zg.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:dn(t,(e,i)=>{null!=e&&"object"!=typeof e&&(this.fontOptions[i]=e)})}static parseFontString(t,e){if(!e||"string"!=typeof e)return!1;const i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}constrain(t){const e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=Kl(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"==typeof i){const s=Kl(t,["widthConstraint","maximum"]);"number"==typeof s&&(e.maxWdt=Number(s));const l=Kl(t,["widthConstraint","minimum"]);"number"==typeof l&&(e.minWdt=Number(l))}const r=Kl(t,"heightConstraint");if("number"==typeof r)e.minHgt=Number(r);else if("object"==typeof r){const s=Kl(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));const l=Kl(t,["heightConstraint","valign"]);"string"==typeof l&&("top"===l||"bottom"===l)&&(e.valign=l)}return e}update(t,e){this.setOptions(t,!0),this.propagateFonts(e),Jn(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=Xy("label",e)}adjustSizes(t){const e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=t?t.top+t.bottom:0)}addFontOptionsToPile(t,e){for(let i=0;i<e.length;++i)this.addFontToPile(t,e[i])}addFontToPile(t,e){void 0!==e&&null!=e.font&&t.push(e.font)}getBasicOptions(t){const e={};for(let i=0;i<t.length;++i){let r=t[i];const s={};Zg.parseFontString(s,r)&&(r=s),dn(r,(l,d)=>{void 0!==l&&(Object.prototype.hasOwnProperty.call(e,d)||(e[d]=-1!==eb.indexOf(d)?{}:l))})}return e}getFontOption(t,e,i){let r;for(let s=0;s<t.length;++s){const l=t[s];if(Object.prototype.hasOwnProperty.call(l,e)){if(r=l[e],null==r)continue;const d={};if(Zg.parseFontString(d,r)&&(r=d),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}getFontOptions(t,e){const i={},r=["color","size","face","mod","vadjust"];for(let s=0;s<r.length;++s){const l=r[s];i[l]=this.getFontOption(t,e,l)}return i}propagateFonts(t){const e=[];this.addFontOptionsToPile(e,t),this.fontOptions=this.getBasicOptions(e);for(let i=0;i<eb.length;++i){const r=eb[i],s=this.fontOptions[r];dn(this.getFontOptions(e,r),(d,f)=>{s[f]=d}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(t,e,i,r,s,l="middle"){if(void 0===this.elementOptions.label)return;let d=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&d<this.elementOptions.scaling.label.drawThreshold-1||(d>=this.elementOptions.scaling.label.maxVisible&&(d=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,r,s,e,i,l),this._drawBackground(t),this._drawText(t,e,this.size.yLine,l,d))}_drawBackground(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;const e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}_drawText(t,e,i,r="middle",s){[e,i]=this._setAlignment(t,e,i,r),t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(let l=0;l<this.lineCount;l++){const d=this.lines[l];if(d&&d.blocks){let f=0;this.isEdgeLabel||"center"===this.fontOptions.align?f+=(this.size.width-d.width)/2:"right"===this.fontOptions.align&&(f+=this.size.width-d.width);for(let g=0;g<d.blocks.length;g++){const _=d.blocks[g];t.font=_.font;const[b,w]=this._getColor(_.color,s,_.strokeColor);_.strokeWidth>0&&(t.lineWidth=_.strokeWidth,t.strokeStyle=w,t.lineJoin="round"),t.fillStyle=b,_.strokeWidth>0&&t.strokeText(_.text,e+f,i+_.vadjust),t.fillText(_.text,e+f,i+_.vadjust),f+=_.width}i+=d.height}}}_setAlignment(t,e,i,r){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;const s=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*s):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*s):t.textBaseline="middle"}else t.textBaseline=r;return[e,i]}_getColor(t,e,i){let r=t||"#000000",s=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){const l=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));r=Fs(r,l),s=Fs(s,l)}return[r,s]}getTextSize(t,e=!1,i=!1){return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let e=this.size.left,i=this.size.top-1;if(this.isEdgeLabel){const s=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=s,i=.5*-this.size.height;break;case"top":e=s,i=-(this.size.height+2);break;case"bottom":e=s,i=2}}return{left:e,top:i,width:this.size.width,height:this.size.height}}calculateLabelSize(t,e,i,r=0,s=0,l="middle"){this._processLabel(t,e,i),this.size.left=r-.5*this.size.width,this.size.top=s-.5*this.size.height,this.size.yLine=s+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===l&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(t,e,i,r){const s=function(f,g,_){return"normal"===g?"mod"===_?"":f[_]:void 0!==f[g][_]?f[g][_]:f[_]},l={color:s(this.fontOptions,r,"color"),size:s(this.fontOptions,r,"size"),face:s(this.fontOptions,r,"face"),mod:s(this.fontOptions,r,"mod"),vadjust:s(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?l.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(l,this.elementOptions.id,e,i));let d="";return void 0!==l.mod&&""!==l.mod&&(d+=l.mod+" "),d+=l.size+"px "+l.face,t.font=d.replace(/"/g,""),l.font=t.font,l.height=l.size,l}differentState(t,e){return t!==this.selectedState||e!==this.hoverState}_processLabelText(t,e,i,r){return new uI(t,this,e,i).process(r)}_processLabel(t,e,i){if(!1===this.labelDirty&&!this.differentState(e,i))return;const r=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,this.fontOptions.minHgt>0&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}visible(){return!(0===this.size.width||0===this.size.height||void 0===this.elementOptions.label||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class If{constructor(t,e,i){this.body=e,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(t){this.options=t}_setMargins(t){this.margin={},this.options.margin&&("object"==typeof this.options.margin?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}_distanceToBorder(t,e){const i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}enableShadow(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}enableBorderDashes(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){let i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}disableBorderDashes(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}needsRefresh(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}initContextForDraw(t,e){t.lineWidth=Math.min(this.width,e.borderWidth/this.body.view.scale),t.strokeStyle=e.borderColor,t.fillStyle=e.color}performStroke(t,e){const i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}performFill(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),t.fill(),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}_addBoundingBoxMargin(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}_updateBoundingBox(t,e,i,r,s){void 0!==i&&this.resize(i,r,s),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(t,e,i,r,s){this._updateBoundingBox(t,e,i,r,s)}getDimensionsFromLabel(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);let r=this.textSize.width,s=this.textSize.height;return 0===r&&(r=14,s=14),{width:r,height:s}}}class bR extends If{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e=this.selected,i=this.hover){if(this.needsRefresh(e,i)){const r=this.getDimensionsFromLabel(t,e,i);this.width=r.width+this.margin.right+this.margin.left,this.height=r.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(t,e,i,r,s,l){this.resize(t,r,s),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,l),QO(t,this.left,this.top,this.width,this.height,l.borderRadius),this.performFill(t,l),this.updateBoundingBox(e,i,t,r,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,s)}updateBoundingBox(t,e,i,r,s){this._updateBoundingBox(t,e,i,r,s),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}distanceToBorder(t,e){t&&this.resize(t);const i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}class tb extends If{constructor(t,e,i){super(t,e,i),this.labelOffset=0,this.selected=!1}setOptions(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}setImages(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}switchImages(t){const e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){const i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}_getImagePadding(){const t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const e=this.options.imagePadding;"object"==typeof e?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}_resizeImage(){let t,e;if(!1===this.options.shapeProperties.useImageSize){let i=1,r=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:r=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*r}else{const i=this._getImagePadding();t=this.imageObj.width+i.left+i.right,e=this.imageObj.height+i.top+i.bottom}this.width=t,this.height=e,this.radius=.5*this.width}_drawRawCircle(t,e,i,r){this.initContextForDraw(t,r),Gy(t,e,i,r.size),this.performFill(t,r)}_drawImageAtPosition(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);let i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);const r=this._getImagePadding();this.imageObj.drawImageAtPosition(t,i,this.left+r.left,this.top+r.top,this.width-r.left-r.right,this.height-r.top-r.bottom),this.disableShadow(t,e)}}_drawImageLabel(t,e,i,r,s){let l=0;if(void 0!==this.height){l=.5*this.height;const f=this.labelModule.getTextSize(t,r,s);f.lineCount>=1&&(l+=f.height/2)}const d=i+l;this.options.label&&(this.labelOffset=l),this.labelModule.draw(t,e,d,r,s,"hanging")}}class Ox extends tb{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e=this.selected,i=this.hover){if(this.needsRefresh(e,i)){const r=this.getDimensionsFromLabel(t,e,i),s=Math.max(r.width+this.margin.right+this.margin.left,r.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(t,e,i,r,s,l){this.resize(t,r,s),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,l),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,r,s)}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}distanceToBorder(t){return t&&this.resize(t),.5*this.width}}class dI extends tb{constructor(t,e,i,r,s){super(t,e,i),this.setImages(r,s)}resize(t,e=this.selected,i=this.hover){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const s=2*this.options.size;return this.width=s,this.height=s,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,r,s,l){this.switchImages(r),this.resize();let d=e,f=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,d+=this.width/2,f+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,d,f,l),t.save(),t.clip(),this._drawImageAtPosition(t,l),t.restore(),this._drawImageLabel(t,d,f,r,s),this.updateBoundingBox(e,i)}updateBoundingBox(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(t){return t&&this.resize(t),.5*this.width}}class Xc extends If{constructor(t,e,i){super(t,e,i)}resize(t,e=this.selected,i=this.hover,r={size:this.options.size}){var s,l;if(this.needsRefresh(e,i)){this.labelModule.getTextSize(t,e,i);const d=2*r.size;this.width=null!=(s=this.customSizeWidth)?s:d,this.height=null!=(l=this.customSizeHeight)?l:d,this.radius=.5*this.width}}_drawShape(t,e,i,r,s,l,d,f){return this.resize(t,l,d,f),this.left=r-this.width/2,this.top=s-this.height/2,this.initContextForDraw(t,f),(n=e,Object.prototype.hasOwnProperty.call(bx,n)?bx[n]:function(t,...e){CanvasRenderingContext2D.prototype[n].call(t,e)})(t,r,s,f.size),this.performFill(t,f),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(l?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,r,s)),{drawExternalLabel:()=>{void 0!==this.options.label&&(this.labelModule.calculateLabelSize(t,l,d,r,s,"hanging"),this.labelModule.draw(t,r,s+.5*this.height+.5*this.labelModule.size.height,l,d,"hanging")),this.updateBoundingBox(r,s)}};var n}updateBoundingBox(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}class hI extends Xc{constructor(t,e,i,r){super(t,e,i,r),this.ctxRenderer=r}draw(t,e,i,r,s,l){this.resize(t,r,s,l),this.left=e-this.width/2,this.top=i-this.height/2,t.save();const d=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:r,hover:s},style:nc({},l),label:this.options.label});if(null!=d.drawNode&&d.drawNode(),t.restore(),d.drawExternalLabel){const f=d.drawExternalLabel;d.drawExternalLabel=()=>{t.save(),f(),t.restore()}}return d.nodeDimensions&&(this.customSizeWidth=d.nodeDimensions.width,this.customSizeHeight=d.nodeDimensions.height),d}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class fI extends If{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){if(this.needsRefresh(e,i)){const s=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(t,e,i,r,s,l){this.resize(t,r,s),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,l),yx(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,l),this.updateBoundingBox(e,i,t,r,s),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Ix extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"diamond",4,e,i,r,s,l)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class vR extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"circle",2,e,i,r,s,l)}distanceToBorder(t){return t&&this.resize(t),this.options.size}}class pI extends If{constructor(t,e,i){super(t,e,i)}resize(t,e=this.selected,i=this.hover){if(this.needsRefresh(e,i)){const r=this.getDimensionsFromLabel(t,e,i);this.height=2*r.height,this.width=r.width+r.height,this.radius=.5*this.width}}draw(t,e,i,r,s,l){this.resize(t,r,s),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,l),_x(t,this.left,this.top,this.width,this.height),this.performFill(t,l),this.updateBoundingBox(e,i,t,r,s),this.labelModule.draw(t,e,i,r,s)}distanceToBorder(t,e){t&&this.resize(t);const i=.5*this.width,r=.5*this.height,s=Math.sin(e)*i,l=Math.cos(e)*r;return i*r/Math.sqrt(s*s+l*l)}}class gI extends If{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,r,s,l){return this.resize(t,r,s),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,r,s,l),{drawExternalLabel:()=>{void 0!==this.options.label&&this.labelModule.draw(t,this.left+this.iconSize.width/2+this.margin.left,i+this.height/2+5,r),this.updateBoundingBox(e,i)}}}updateBoundingBox(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){const i=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+i)}}_icon(t,e,i,r,s,l){const d=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:r?"bold":"",(null!=this.options.icon.weight&&r?5:0)+d+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,l),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,l)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class L1 extends tb{constructor(t,e,i,r,s){super(t,e,i),this.setImages(r,s)}resize(t,e=this.selected,i=this.hover){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){const s=2*this.options.size;return this.width=s,void(this.height=s)}this.needsRefresh(e,i)&&this._resizeImage()}draw(t,e,i,r,s,l){t.save(),this.switchImages(r),this.resize();let d=e,f=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,d+=this.width/2,f+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){const g=this.options.borderWidth,_=this.options.borderWidthSelected||2*this.options.borderWidth;t.lineWidth=Math.min(this.width,(r?_:g)/this.body.view.scale),t.beginPath();let w=r?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,T=r?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;void 0!==l.opacity&&(w=Fs(w,l.opacity),T=Fs(T,l.opacity)),t.strokeStyle=w,t.fillStyle=T,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),this.performStroke(t,l),t.closePath()}this._drawImageAtPosition(t,l),this._drawImageLabel(t,d,f,r,s),this.updateBoundingBox(e,i),t.restore()}updateBoundingBox(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class wr extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"square",2,e,i,r,s,l)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class wR extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"hexagon",4,e,i,r,s,l)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class Nx extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"star",4,e,i,r,s,l)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class kx extends If{constructor(t,e,i){super(t,e,i),this._setMargins(i)}resize(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(t,e,i,r,s,l){this.resize(t,r,s),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,l),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,s),this.disableShadow(t,l),this.updateBoundingBox(e,i,t,r,s)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class mI extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"triangle",3,e,i,r,s,l)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class nb extends Xc{constructor(t,e,i){super(t,e,i)}draw(t,e,i,r,s,l){return this._drawShape(t,"triangleDown",3,e,i,r,s,l)}distanceToBorder(t,e){return this._distanceToBorder(t,e)}}class fi{constructor(t,e,i,r,s,l){this.options=Po(s),this.globalOptions=s,this.defaultOptions=l,this.body=e,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Zg(this.body,this.options,!1),this.setOptions(t)}attachEdge(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}detachEdge(t){const e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}setOptions(t){const e=this.options.shape;if(t){if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");return fi.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),fi.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist),this.chooser=Xy("node",[t,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&fi.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(e),void 0!==t.hidden||void 0!==t.physics}}_load_images(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}static checkOpacity(t){return 0<=t&&t<=1}static checkCoordinateOrigin(t){return void 0===t||"center"===t||"top-left"===t}static updateGroupOptions(t,e,i){if(void 0===i)return;const r=t.group;if(void 0!==e&&void 0!==e.group&&r!==e.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"!=typeof r&&("string"!=typeof r||""==r))return;const l=i.get(r);void 0!==l.opacity&&void 0===e.opacity&&(fi.checkOpacity(l.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+l.opacity),l.opacity=void 0));const d=Object.getOwnPropertyNames(e).filter(f=>null!=e[f]);d.push("font"),jy(d,t,l),t.color=zy(t.color)}static parseOptions(t,e,i=!1,r={},s){if(jy(["color","fixed","shadow"],t,e,i),fi.checkMass(e),void 0!==t.opacity&&(fi.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==e.opacity&&(fi.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),e.shapeProperties&&!fi.checkCoordinateOrigin(e.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+e.shapeProperties.coordinateOrigin),Ro(t,e,"shadow",r),null!=e.color){const d=zy(e.color);Vy(t.color,d)}else!0===i&&null===e.color&&(t.color=Po(r.color));null!=e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),!0===i&&null===e.font&&(t.font=Po(r.font)),fi.updateGroupOptions(t,e,s),void 0!==e.scaling&&Ro(t.scaling,e.scaling,"label",r.scaling)}getFormattingValues(){const t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor!==this.options.shadow.color||t.shadowSize!==this.options.shadow.size||t.shadowX!==this.options.shadow.x||t.shadowY!==this.options.shadow.y)&&(t.shadow=!0)):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){const e=this.options.opacity;t.borderColor=Fs(t.borderColor,e),t.color=Fs(t.color,e),t.shadowColor=Fs(t.shadowColor,e)}return t}updateLabelModule(t){null==this.options.label&&(this.options.label=""),fi.updateGroupOptions(this.options,kb(nc({},t),{color:t&&t.color||this._localColor||void 0}),this.grouplist);const e=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[t,this.options,e,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new bR(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Ox(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new dI(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new hI(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new fI(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Ix(this.options,this.body,this.labelModule);break;case"dot":this.shape=new vR(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new pI(this.options,this.body,this.labelModule);break;case"icon":this.shape=new gI(this.options,this.body,this.labelModule);break;case"image":this.shape=new L1(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new wr(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new wR(this.options,this.body,this.labelModule);break;case"star":this.shape=new Nx(this.options,this.body,this.labelModule);break;case"text":this.shape=new kx(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new mI(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new nb(this.options,this.body,this.labelModule);break;default:this.shape=new pI(this.options,this.body,this.labelModule)}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(t,e){return this.shape.distanceToBorder(t,e)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(t,e,i){if(void 0!==this.options.value){const r=this.options.scaling.customScalingFunction(t,e,i,this.options.value),s=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+r*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(t){const e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}updateBoundingBox(t){this.shape.updateBoundingBox(this.x,this.y,t)}resize(t){const e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}getItemsOnPoint(t){const e=[];return this.labelModule.visible()&&k1(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),k1(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}isOverlappingWith(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}isBoundingBoxOverlappingWith(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}static checkMass(t,e){if(void 0!==t.mass&&t.mass<=0){let i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",lx),t.mass=1}}}class _I{constructor(t,e,i,r){if(this.body=t,this.images=e,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:(s,l)=>{this.add(l.items)},update:(s,l)=>{this.update(l.items,l.data,l.oldData)},remove:(s,l)=>{this.remove(l.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,l,d,f){return l===s?.5:Math.max(0,1/(l-s)*(f-s))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Po(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",()=>{dn(this.nodesListeners,(t,e)=>{this.body.data.nodes&&this.body.data.nodes.off(e,t)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(t){if(void 0!==t){if(fi.parseOptions(this.options,t),void 0!==t.opacity&&(Number.isNaN(t.opacity)||!Number.isFinite(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(const e of Object.keys(this.body.nodes))this.body.nodes[e].updateLabelModule(),this.body.nodes[e].needsRefresh();if(void 0!==t.size)for(const e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].needsRefresh();(void 0!==t.hidden||void 0!==t.physics)&&this.body.emitter.emit("_dataChanged")}}setData(t,e=!1){const i=this.body.data.nodes;if(YO("id",t))this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new $y,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new $y}if(i&&dn(this.nodesListeners,function(r,s){i.off(s,r)}),this.body.nodes={},this.body.data.nodes){const r=this;dn(this.nodesListeners,function(l,d){r.body.data.nodes.on(d,l)});const s=this.body.data.nodes.getIds();this.add(s,!0)}!1===e&&this.body.emitter.emit("_dataChanged")}add(t,e=!1){let i;const r=[];for(let s=0;s<t.length;s++){i=t[s];const l=this.body.data.nodes.get(i),d=this.create(l);r.push(d),this.body.nodes[i]=d}this.layoutEngine.positionInitially(r),!1===e&&this.body.emitter.emit("_dataChanged")}update(t,e,i){const r=this.body.nodes;let s=!1;for(let l=0;l<t.length;l++){const d=t[l];let f=r[d];const g=e[l];void 0!==f?f.setOptions(g)&&(s=!0):(s=!0,f=this.create(g),r[d]=f)}!s&&void 0!==i&&(s=e.some(function(l,d){const f=i[d];return f&&f.level!==l.level})),this.body.emitter.emit(!0===s?"_dataChanged":"_dataUpdated")}remove(t){const e=this.body.nodes;for(let i=0;i<t.length;i++)delete e[t[i]];this.body.emitter.emit("_dataChanged")}create(t,e=fi){return new e(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(t=!1){dn(this.body.nodes,(e,i)=>{const r=this.body.data.nodes.get(i);void 0!==r&&(!0===t&&e.setOptions({x:null,y:null}),e.setOptions({fixed:!1}),e.setOptions(r))})}getPositions(t){const e={};if(void 0!==t){if(!0===Array.isArray(t)){for(let i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){const r=this.body.nodes[t[i]];e[t[i]]={x:Math.round(r.x),y:Math.round(r.y)}}}else if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];e[t]={x:Math.round(i.x),y:Math.round(i.y)}}}else for(let i=0;i<this.body.nodeIndices.length;i++){const r=this.body.nodes[this.body.nodeIndices[i]];e[this.body.nodeIndices[i]]={x:Math.round(r.x),y:Math.round(r.y)}}return e}getPosition(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError(`NodeId provided for getPosition does not exist. Provided: ${t}`);return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}storePositions(){const t=[],e=this.body.data.nodes.getDataSet();for(const i of e.get()){const r=i.id,s=this.body.nodes[r],l=Math.round(s.x),d=Math.round(s.y);(i.x!==l||i.y!==d)&&t.push({id:r,x:l,y:d})}e.update(t)}getBoundingBox(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}getConnectedNodes(t,e){const i=[];if(void 0!==this.body.nodes[t]){const r=this.body.nodes[t],s={};for(let l=0;l<r.edges.length;l++){const d=r.edges[l];"to"!==e&&d.toId==r.id?void 0===s[d.fromId]&&(i.push(d.fromId),s[d.fromId]=!0):"from"!==e&&d.fromId==r.id&&void 0===s[d.toId]&&(i.push(d.toId),s[d.toId]=!0)}}return i}getConnectedEdges(t){const e=[];if(void 0!==this.body.nodes[t]){const i=this.body.nodes[t];for(let r=0;r<i.edges.length;r++)e.push(i.edges[r].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}moveNode(t,e,i){void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}class Ai{static transform(t,e){Array.isArray(t)||(t=[t]);const i=e.point.x,r=e.point.y,s=e.angle,l=e.length;for(let d=0;d<t.length;++d){const f=t[d],g=f.x*Math.cos(s)-f.y*Math.sin(s),_=f.x*Math.sin(s)+f.y*Math.cos(s);f.x=i+l*g,f.y=r+l*_}}static drawPath(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(let i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}class _d extends Ai{static draw(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);const i=null!=e.imageWidth?e.imageWidth:e.image.width;e.image.drawImageAtPosition(t,1,-i/2,0,i,null!=e.imageHeight?e.imageHeight:e.image.height),t.restore()}return!1}}class Px extends Ai{static draw(t,e){const i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}class Fx{static draw(t,e){let i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return _d.draw(t,e);case"circle":return class{static draw(t,e){const i={x:-.4,y:0};return Ai.transform(i,e),Gy(t,i.x,i.y,.4*e.length),!0}}.draw(t,e);case"box":return class{static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"crow":return class{static draw(t,e){const i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"curve":return class{static draw(t,e){const i={x:-.4,y:0};Ai.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const r=Math.PI,s=e.angle-r/2,l=e.angle+r/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,s,l,!1),t.stroke(),!0}}.draw(t,e);case"diamond":return class{static draw(t,e){const i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"inv_curve":return class{static draw(t,e){const i={x:-.3,y:0};Ai.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";const r=Math.PI,s=e.angle+r/2,l=e.angle+3*r/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,s,l,!1),t.stroke(),!0}}.draw(t,e);case"triangle":return class{static draw(t,e){const i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"inv_triangle":return class{static draw(t,e){const i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"bar":return class{static draw(t,e){const i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"vee":return class{static draw(t,e){const i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ai.transform(i,e),Ai.drawPath(t,i),!0}}.draw(t,e);case"arrow":default:return Px.draw(t,e)}}}class wI{constructor(t,e,i){this._body=e,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(t,e,i,r,s=this.getViaNode()){t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,s):this._drawLine(t,e,s)}_drawLine(t,e,i,r,s){if(this.from!=this.to)this._line(t,e,i,r,s);else{const[l,d,f]=this._getCircleData(t);this._circle(t,e,l,d,f)}}_drawDashedLine(t,e,i,r,s){t.lineCap="round";const l=Array.isArray(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(l),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{const[d,f,g]=this._getCircleData(t);this._circle(t,e,d,f,g)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)eI(t,this.from.x,this.from.y,this.to.x,this.to.y,l);else{const[d,f,g]=this._getCircleData(t);this._circle(t,e,d,f,g)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}findBorderPosition(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}findBorderPositions(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};{const[e,i]=this._getCircleData(t).slice(0,2);return{from:this._findBorderPositionCircle(this.from,t,{x:e,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:e,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(t){const e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);const i=P1(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}_pointOnCircle(t,e,i,r){const s=2*r*Math.PI;return{x:t+i*Math.cos(s),y:e-i*Math.sin(s)}}_findBorderPositionCircle(t,e,i){const r=i.x,s=i.y;let l=i.low,d=i.high;const f=i.direction,_=this.options.selfReference.size;let w,T=.5*(l+d),N=0;!0===this.options.arrowStrikethrough&&(-1===f?N=this.options.endPointOffset.from:1===f&&(N=this.options.endPointOffset.to));let F=0;do{T=.5*(l+d),w=this._pointOnCircle(r,s,_,T);const I=Math.atan2(t.y-w.y,t.x-w.x),U=t.distanceToBorder(e,I)+N-Math.sqrt(Math.pow(w.x-t.x,2)+Math.pow(w.y-t.y,2));if(Math.abs(U)<.05)break;U>0?f>0?l=T:d=T:f>0?d=T:l=T,++F}while(l<=d&&F<10);return kb(nc({},w),{t:T})}getLineWidth(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){const i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let r=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(r=Fs(this.from.options.color.border,e.opacity),s=Fs(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?s=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),i.addColorStop(0,r),i.addColorStop(1,s),i}return Fs("to"===e.inheritsColor?this.to.options.color.border:this.from.options.color.border,e.opacity)}return Fs(e.color,e.opacity)}_circle(t,e,i,r,s){this.enableShadow(t,e);let l=0,d=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){const f=this.options.selfReference.angle,g=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:f,high:g,direction:-1}),b=this._findBorderPositionCircle(this.from,t,{x:i,y:r,low:f,high:g,direction:1});l=Math.atan2(_.y-r,_.x-i),d=Math.atan2(b.y-r,b.x-i)}t.beginPath(),t.arc(i,r,s,l,d,!1),t.stroke(),this.disableShadow(t,e)}getDistanceToEdge(t,e,i,r,s,l){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,r,s,l);{const[d,f,g]=this._getCircleData(void 0),_=d-s,b=f-l;return Math.abs(Math.sqrt(_*_+b*b)-g)}}_getDistanceToLine(t,e,i,r,s,l){const d=i-t,f=r-e;let _=((s-t)*d+(l-e)*f)/(d*d+f*f);_>1?_=1:_<0&&(_=0);const T=t+_*d-s,N=e+_*f-l;return Math.sqrt(T*T+N*N)}getArrowData(t,e,i,r,s,l){let d,f,g,_,b,w,T;const N=l.width;"from"===e?(g=this.from,_=this.to,b=l.fromArrowScale<0,w=Math.abs(l.fromArrowScale),T=l.fromArrowType):"to"===e?(g=this.to,_=this.from,b=l.toArrowScale<0,w=Math.abs(l.toArrowScale),T=l.toArrowType):(g=this.to,_=this.from,b=l.middleArrowScale<0,w=Math.abs(l.middleArrowScale),T=l.middleArrowType);const F=15*w+3*N;if(g!=_){const J=F/Math.hypot(g.x-_.x,g.y-_.y);if("middle"!==e)if(!0===this.options.smooth.enabled){const K=this._findBorderPosition(g,t,{via:i}),ye=this.getPoint(K.t+J*("from"===e?1:-1),i);d=Math.atan2(K.y-ye.y,K.x-ye.x),f=K}else d=Math.atan2(g.y-_.y,g.x-_.x),f=this._findBorderPosition(g,t);else{const K=(b?-J:J)/2,ye=this.getPoint(.5+K,i),Fe=this.getPoint(.5-K,i);d=Math.atan2(ye.y-Fe.y,ye.x-Fe.x),f=this.getPoint(.5,i)}}else{const[U,J,K]=this._getCircleData(t);if("from"===e){const Fe=this.options.selfReference.angle+Math.PI,Pe=this._findBorderPositionCircle(this.from,t,{x:U,y:J,low:this.options.selfReference.angle,high:Fe,direction:-1});d=-2*Pe.t*Math.PI+1.5*Math.PI+.1*Math.PI,f=Pe}else if("to"===e){const Fe=this.options.selfReference.angle+Math.PI,Pe=this._findBorderPositionCircle(this.from,t,{x:U,y:J,low:this.options.selfReference.angle,high:Fe,direction:1});d=-2*Pe.t*Math.PI+1.5*Math.PI-1.1*Math.PI,f=Pe}else{const ye=this.options.selfReference.angle/(2*Math.PI);f=this._pointOnCircle(U,J,K,ye),d=-2*ye*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:f,core:{x:f.x-.9*F*Math.cos(d),y:f.y-.9*F*Math.sin(d)},angle:d,length:F,type:T}}drawArrowHead(t,e,i,r,s){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,Fx.draw(t,s)&&(this.enableShadow(t,e),t.fill(),this.disableShadow(t,e))}enableShadow(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}disableShadow(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}drawBackground(t,e){if(!1!==e.background){const i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}setStrokeDashed(t,e){if(!1!==e)if(void 0!==t.setLineDash){const i=Array.isArray(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}class Nf extends wI{constructor(t,e,i){super(t,e,i)}_findBorderPositionBezier(t,e,i=this._getViaCoordinates()){let _,b,l=!1,d=1,f=0,g=this.to,w=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(g=this.from,l=!0,w=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(w=0);let T=0;do{b=.5*(f+d),_=this.getPoint(b,i);const N=Math.atan2(g.y-_.y,g.x-_.x),P=g.distanceToBorder(e,N)+w-Math.sqrt(Math.pow(_.x-g.x,2)+Math.pow(_.y-g.y,2));if(Math.abs(P)<.2)break;P<0?!1===l?f=b:d=b:!1===l?d=b:f=b,++T}while(f<=d&&T<10);return kb(nc({},_),{t:b})}_getDistanceToBezierEdge(t,e,i,r,s,l,d){let g,_,b,w,T,f=1e9,N=t,F=e;for(_=1;_<10;_++)b=.1*_,w=Math.pow(1-b,2)*t+2*b*(1-b)*d.x+Math.pow(b,2)*i,T=Math.pow(1-b,2)*e+2*b*(1-b)*d.y+Math.pow(b,2)*r,_>0&&(g=this._getDistanceToLine(N,F,w,T,s,l),f=g<f?g:f),N=w,F=T;return f}_bezierCurve(t,e,i,r){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=r&&null!=r.x?t.bezierCurveTo(i.x,i.y,r.x,r.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){return this._getViaCoordinates()}}class Lx extends Nf{constructor(t,e,i){super(t,e,i),this.via=this.via,this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(t){super.setOptions(t);let e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}setupSupportNode(){if(void 0===this.via){const t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}_line(t,e,i){this._bezierCurve(t,e,i)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(t,e=this.via){if(this.from===this.to){const[i,r,s]=this._getCircleData(),l=2*Math.PI*(1-t);return{x:i+s*Math.sin(l),y:r+s-s*(1-Math.cos(l))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e,this.via)}_getDistanceToEdge(t,e,i,r,s,l){return this._getDistanceToBezierEdge(t,e,i,r,s,l,this.via)}}class CI extends Nf{constructor(t,e,i){super(t,e,i)}_line(t,e,i){this._bezierCurve(t,e,i)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const t=this.options.smooth.roundness,e=this.options.smooth.type;let i=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===e||"diagonalCross"===e){let s,l;s=l=i<=r?t*r:t*i,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(l=-l);let d=this.from.x+s,f=this.from.y+l;return"discrete"===e&&(i<=r?d=i<t*r?this.from.x:d:f=r<t*i?this.from.y:f),{x:d,y:f}}if("straightCross"===e){let s=(1-t)*i,l=(1-t)*r;return i<=r?(s=0,this.from.y<this.to.y&&(l=-l)):(this.from.x<this.to.x&&(s=-s),l=0),{x:this.to.x+s,y:this.to.y+l}}if("horizontal"===e){let s=(1-t)*i;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}if("vertical"===e){let s=(1-t)*r;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}if("curvedCW"===e){i=this.to.x-this.from.x,r=this.from.y-this.to.y;const s=Math.sqrt(i*i+r*r),l=Math.PI,f=(Math.atan2(r,i)+(.5*t+.5)*l)%(2*l);return{x:this.from.x+(.5*t+.5)*s*Math.sin(f),y:this.from.y+(.5*t+.5)*s*Math.cos(f)}}if("curvedCCW"===e){i=this.to.x-this.from.x,r=this.from.y-this.to.y;const s=Math.sqrt(i*i+r*r),l=Math.PI,f=(Math.atan2(r,i)+(.5*-t+.5)*l)%(2*l);return{x:this.from.x+(.5*t+.5)*s*Math.sin(f),y:this.from.y+(.5*t+.5)*s*Math.cos(f)}}{let s,l;s=l=i<=r?t*r:t*i,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(l=-l);let d=this.from.x+s,f=this.from.y+l;return i<=r?d=this.from.x<=this.to.x?this.to.x<d?this.to.x:d:this.to.x>d?this.to.x:d:f=this.from.y>=this.to.y?this.to.y>f?this.to.y:f:this.to.y<f?this.to.y:f,{x:d,y:f}}}_findBorderPosition(t,e,i={}){return this._findBorderPositionBezier(t,e,i.via)}_getDistanceToEdge(t,e,i,r,s,l,d=this._getViaCoordinates()){return this._getDistanceToBezierEdge(t,e,i,r,s,l,d)}getPoint(t,e=this._getViaCoordinates()){const i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}class ER extends Nf{constructor(t,e,i){super(t,e,i)}_getDistanceToBezierEdge2(t,e,i,r,s,l,d,f){let g=1e9,_=t,b=e;const w=[0,0,0,0];for(let T=1;T<10;T++){const N=.1*T;w[0]=Math.pow(1-N,3),w[1]=3*N*Math.pow(1-N,2),w[2]=3*Math.pow(N,2)*(1-N),w[3]=Math.pow(N,3);const F=w[0]*t+w[1]*d.x+w[2]*f.x+w[3]*i,I=w[0]*e+w[1]*d.y+w[2]*f.y+w[3]*r;if(T>0){const P=this._getDistanceToLine(_,b,F,I,s,l);g=P<g?P:g}_=F,b=I}return g}}class EI extends ER{constructor(t,e,i){super(t,e,i)}_line(t,e,i){this._bezierCurve(t,e,i[0],i[1])}_getViaCoordinates(){const t=this.from.x-this.to.x,e=this.from.y-this.to.y;let i,r,s,l;const d=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(r=this.from.y,l=this.to.y,i=this.from.x-d*t,s=this.to.x+d*t):(r=this.from.y-d*e,l=this.to.y+d*e,i=this.from.x,s=this.to.x),[{x:i,y:r},{x:s,y:l}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(t,e){return this._findBorderPositionBezier(t,e)}_getDistanceToEdge(t,e,i,r,s,l,[d,f]=this._getViaCoordinates()){return this._getDistanceToBezierEdge2(t,e,i,r,s,l,d,f)}getPoint(t,[e,i]=this._getViaCoordinates()){const r=t,s=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:s[0]*this.fromPoint.x+s[1]*e.x+s[2]*i.x+s[3]*this.toPoint.x,y:s[0]*this.fromPoint.y+s[1]*e.y+s[2]*i.y+s[3]*this.toPoint.y}}}class Bx extends wI{constructor(t,e,i){super(t,e,i)}_line(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}getViaNode(){}getPoint(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}_findBorderPosition(t,e){let i=this.to,r=this.from;t.id===this.from.id&&(i=this.from,r=this.to);const s=Math.atan2(i.y-r.y,i.x-r.x),l=i.x-r.x,d=i.y-r.y,f=Math.sqrt(l*l+d*d),_=(f-t.distanceToBorder(e,s))/f;return{x:(1-_)*r.x+_*i.x,y:(1-_)*r.y+_*i.y,t:0}}_getDistanceToEdge(t,e,i,r,s,l){return this._getDistanceToLine(t,e,i,r,s,l)}}class Qc{constructor(t,e,i,r,s){if(void 0===e)throw new Error("No body provided");this.options=Po(r),this.globalOptions=r,this.defaultOptions=s,this.body=e,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Zg(this.body,this.options,!0),this.setOptions(t)}setOptions(t){if(!t)return;let e=void 0!==t.physics&&this.options.physics!==t.physics||void 0!==t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||void 0!==t.from&&this.options.from!==t.from||void 0!==t.to&&this.options.to!==t.to;return Qc.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=parseFloat(t.value)),this.chooser=Xy("edge",[t,this.options,this.defaultOptions]),this.updateLabelModule(t),e=this.updateEdgeType()||e,this._setInteractionWidths(),this.connect(),e}static parseOptions(t,e,i=!1,r={},s=!1){if(Df(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Number.isFinite(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==r.endPointOffset.from?r.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Number.isFinite(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==r.endPointOffset.to?r.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Qy(e.label)?t.label=e.label:Qy(t.label)||(t.label=void 0),Ro(t,e,"smooth",r),Ro(t,e,"shadow",r),Ro(t,e,"background",r),null!=e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Object.create(r.dashes)),null!=e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Ro(t.scaling,e.scaling,"label",r.scaling)):!0===i&&null===e.scaling&&(t.scaling=Object.create(r.scaling)),null!=e.arrows)if("string"==typeof e.arrows){const d=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=d.indexOf("to"),t.arrows.middle.enabled=-1!=d.indexOf("middle"),t.arrows.from.enabled=-1!=d.indexOf("from")}else{if("object"!=typeof e.arrows)throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));Ro(t.arrows,e.arrows,"to",r.arrows),Ro(t.arrows,e.arrows,"middle",r.arrows),Ro(t.arrows,e.arrows,"from",r.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Object.create(r.arrows));if(null!=e.color){const d=Zl(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,f=t.color;if(s)Jn(f,r.color,!1,i);else for(const g in f)Object.prototype.hasOwnProperty.call(f,g)&&delete f[g];if(Zl(f))f.color=f,f.highlight=f,f.hover=f,f.inherit=!1,void 0===d.opacity&&(f.opacity=1);else{let g=!1;void 0!==d.color&&(f.color=d.color,g=!0),void 0!==d.highlight&&(f.highlight=d.highlight,g=!0),void 0!==d.hover&&(f.hover=d.hover,g=!0),void 0!==d.inherit&&(f.inherit=d.inherit),void 0!==d.opacity&&(f.opacity=Math.min(1,Math.max(0,d.opacity))),!0===g?f.inherit=!1:void 0===f.inherit&&(f.inherit="from")}}else!0===i&&null===e.color&&(t.color=Po(r.color));!0===i&&null===e.font&&(t.font=Po(r.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}getFormattingValues(){const r=this.options.color.inherit,s={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){const l=this.options.selectionWidth;"function"==typeof l?s.width=l(s.width):"number"==typeof l&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const l=this.options.hoverWidth;"function"==typeof l?s.width=l(s.width):"number"==typeof l&&(s.width+=l),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(s,this.options.id,this.selected,this.hover),void 0!==s.color&&(s.inheritsColor=!1),!1===s.shadow&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(t){this.labelModule.update(this.options,[t,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const t=this.options.smooth;let e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Lx&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof EI&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof CI&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof Bx&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new Lx(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===t.type?new EI(this.options,this.body,this.labelModule):new CI(this.options,this.body,this.labelModule):this.edgeType=new Bx(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(t,e,i){if(void 0!==this.options.value){const r=this.options.scaling.customScalingFunction(t,e,i,this.options.value),s=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+r*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+r*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}draw(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}drawArrows(t){const e=this.getFormattingValues();if(e.hidden)return;const i=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(r.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core),e.fromArrowSrc&&(r.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(r.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(r.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(r.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core),e.toArrowSrc&&(r.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(r.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(r.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(r.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(r.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(r.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(r.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,r.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,r.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,r.to)}drawLabel(t,e){if(void 0!==this.options.label){const i=this.from,r=this.to;let s;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),i.id!=r.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,e),t.save();const l=this._getRotation(t);0!=l.angle&&(t.translate(l.x,l.y),t.rotate(l.angle)),this.labelModule.draw(t,s.x,s.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;const l=P1(t,this.options.selfReference.angle,this.options.selfReference.size,i);s=this._pointOnCircle(l.x,l.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(t){const e=[];if(this.labelModule.visible()){const r=this._getRotation();k1(this.labelModule.getSize(),t,r)&&e.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:t.x,top:t.y})&&e.push({edgeId:this.id}),e}isOverlappingWith(t){if(this.connected){const e=10;return this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,t.left,t.top)<e}return!1}_getRotation(t){const e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);const r={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return r;const l=this.from.x-this.to.x;let d=Math.atan2(this.from.y-this.to.y,l);return(d<-1&&l<0||d>0&&l<0)&&(d+=Math.PI),r.angle=d,r}_pointOnCircle(t,e,i,r){return{x:t+i*Math.cos(r),y:e-i*Math.sin(r)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}class DI{constructor(t,e,i){this.body=t,this.images=e,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:(r,s)=>{this.add(s.items)},update:(r,s)=>{this.update(s.items)},remove:(r,s)=>{this.remove(s.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(r,s,l,d){return s===r?.5:Math.max(0,1/(s-r)*(d-r))}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Jn(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_forceDisableDynamicCurves",(t,e=!0)=>{"dynamic"===t&&(t="continuous");let i=!1;for(const r in this.body.edges)if(Object.prototype.hasOwnProperty.call(this.body.edges,r)){const s=this.body.edges[r],l=this.body.data.edges.get(r);if(null!=l){const d=l.smooth;void 0!==d&&!0===d.enabled&&"dynamic"===d.type&&(s.setOptions(void 0===t?{smooth:!1}:{smooth:{type:t}}),i=!0)}}!0===e&&!0===i&&this.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",()=>{dn(this.edgesListeners,(t,e)=>{this.body.data.edges&&this.body.data.edges.off(e,t)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(t){if(void 0!==t){Qc.parseOptions(this.options,t,!0,this.defaultOptions,!0);let e=!1;if(void 0!==t.smooth)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();(void 0!==t.hidden||void 0!==t.physics||!0===e)&&this.body.emitter.emit("_dataChanged")}}setData(t,e=!1){const i=this.body.data.edges;if(YO("id",t))this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new $y,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new $y}if(i&&dn(this.edgesListeners,(r,s)=>{i.off(s,r)}),this.body.edges={},this.body.data.edges){dn(this.edgesListeners,(s,l)=>{this.body.data.edges.on(l,s)});const r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}add(t,e=!1){const i=this.body.edges,r=this.body.data.edges;for(let s=0;s<t.length;s++){const l=t[s],d=i[l];d&&d.disconnect();const f=r.get(l,{showInternalIds:!0});i[l]=this.create(f)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}update(t){const e=this.body.edges,i=this.body.data.edges;let r=!1;for(let s=0;s<t.length;s++){const l=t[s],d=i.get(l),f=e[l];void 0!==f?(f.disconnect(),r=f.setOptions(d)||r,f.connect()):(this.body.edges[l]=this.create(d),r=!0)}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(t,e=!0){if(0===t.length)return;const i=this.body.edges;dn(t,r=>{const s=i[r];void 0!==s&&s.remove()}),e&&this.body.emitter.emit("_dataChanged")}refresh(){dn(this.body.edges,(t,e)=>{const i=this.body.data.edges.get(e);void 0!==i&&t.setOptions(i)})}create(t){return new Qc(t,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let t;const e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){const r=i[t];r.from=null,r.to=null,r.connect()}}getConnectedNodes(t){const e=[];if(void 0!==this.body.edges[t]){const i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const t=[];dn(this.body.edges,(e,i)=>{const r=this.body.nodes[e.toId],s=this.body.nodes[e.fromId];void 0!==r&&!0===r.isCluster||void 0!==s&&!0===s.isCluster||(void 0===r||void 0===s)&&t.push(i)}),this.remove(t,!1)}_addMissingEdges(){const t=this.body.data.edges;if(null==t)return;const e=this.body.edges,i=[];t.forEach((r,s)=>{void 0===e[s]&&i.push(s)}),this.add(i,!0)}}class Vx{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i),this._rng=Fy("BARNES HUT SOLVER")}setOptions(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){let t;const e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,r=i.length,s=this._formBarnesHutTree(e,i);this.barnesHutTree=s;for(let l=0;l<r;l++)t=e[i[l]],t.options.mass>0&&this._getForceContributions(s.root,t)}}_getForceContributions(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}_getForceContribution(t,e){if(t.childrenCount>0){const i=t.centerOfMass.x-e.x,r=t.centerOfMass.y-e.y,s=Math.sqrt(i*i+r*r);s*t.calcSize>this.thetaInversed?this._calculateForces(s,i,r,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(s,i,r,e,t)}}_calculateForces(t,e,i,r,s){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&r.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,t-r.shape.radius));const l=this.options.gravitationalConstant*s.mass*r.options.mass/Math.pow(t,3),f=i*l;this.physicsBody.forces[r.id].x+=e*l,this.physicsBody.forces[r.id].y+=f}_formBarnesHutTree(t,e){let i;const r=e.length;let s=t[e[0]].x,l=t[e[0]].y,d=t[e[0]].x,f=t[e[0]].y;for(let I=1;I<r;I++){const P=t[e[I]],L=P.x,U=P.y;P.options.mass>0&&(L<s&&(s=L),L>d&&(d=L),U<l&&(l=U),U>f&&(f=U))}const g=Math.abs(d-s)-Math.abs(f-l);g>0?(l-=.5*g,f+=.5*g):(s+=.5*g,d-=.5*g);const b=Math.max(1e-5,Math.abs(d-s)),w=.5*b,T=.5*(s+d),N=.5*(l+f),F={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:T-w,maxX:T+w,minY:N-w,maxY:N+w},size:b,calcSize:1/b,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(F.root);for(let I=0;I<r;I++)i=t[e[I]],i.options.mass>0&&this._placeInTree(F.root,i);return F}_updateBranchMass(t,e){const i=t.centerOfMass,r=t.mass+e.options.mass,s=1/r;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=s,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=s,t.mass=r;const l=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<l?l:t.maxWidth}_placeInTree(t,e,i){(1!=i||void 0===i)&&this._updateBranchMass(t,e);const r=t.children.NW.range;let s;s=r.maxX>e.x?r.maxY>e.y?"NW":"SW":r.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,s)}_placeInRegion(t,e,i){const r=t.children[i];switch(r.childrenCount){case 0:r.children.data=e,r.childrenCount=1,this._updateBranchMass(r,e);break;case 1:r.children.data.x===e.x&&r.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(r),this._placeInTree(r,e));break;case 4:this._placeInTree(r,e)}}_splitBranch(t){let e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}_insertRegion(t,e){let i,r,s,l;const d=.5*t.size;switch(e){case"NW":i=t.range.minX,r=t.range.minX+d,s=t.range.minY,l=t.range.minY+d;break;case"NE":i=t.range.minX+d,r=t.range.maxX,s=t.range.minY,l=t.range.minY+d;break;case"SW":i=t.range.minX,r=t.range.minX+d,s=t.range.minY+d,l=t.range.maxY;break;case"SE":i=t.range.minX+d,r=t.range.maxX,s=t.range.minY+d,l=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:r,minY:s,maxY:l},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}_debug(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}_drawBranch(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}class xI{constructor(t,e,i){this._rng=Fy("REPULSION SOLVER"),this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,r,s,l,d,f;const g=this.body.nodes,_=this.physicsBody.physicsNodeIndices,b=this.physicsBody.forces,w=this.options.nodeDistance,T=-2/3/w;for(let F=0;F<_.length-1;F++){d=g[_[F]];for(let I=F+1;I<_.length;I++)f=g[_[I]],t=f.x-d.x,e=f.y-d.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*this._rng(),t=i),i<2*w&&(l=i<.5*w?1:T*i+1.3333333333333333,l/=i,r=t*l,s=e*l,b[d.id].x-=r,b[d.id].y-=s,b[f.id].x+=r,b[f.id].y+=s)}}}class DR{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,r=this.options.nodeDistance;for(let s=0;s<e.length-1;s++){const l=t[e[s]];for(let d=s+1;d<e.length;d++){const f=t[e[d]];if(l.level===f.level){const g=r+this.overlapAvoidanceFactor*((l.shape.radius||0)/2+(f.shape.radius||0)/2),_=f.x-l.x,b=f.y-l.y,w=Math.sqrt(_*_+b*b),T=.05;let N;N=w<g?-Math.pow(T*w,2)+Math.pow(T*g,2):0,0!==w&&(N/=w);const F=_*N,I=b*N;i[l.id].x-=F,i[l.id].y-=I,i[f.id].x+=F,i[f.id].y+=I}}}}}class H1{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e;const i=this.physicsBody.physicsEdgeIndices,r=this.body.edges;let s,l,d;for(let f=0;f<i.length;f++)e=r[i[f]],!0===e.connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,s=e.to,l=e.edgeType.via,d=e.from,this._calculateSpringForce(s,l,.5*t),this._calculateSpringForce(l,d,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}_calculateSpringForce(t,e,i){const r=t.x-e.x,s=t.y-e.y,l=Math.max(Math.sqrt(r*r+s*s),.01),d=this.options.springConstant*(i-l)/l,f=r*d,g=s*d;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=f,this.physicsBody.forces[t.id].y+=g),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=f,this.physicsBody.forces[e.id].y-=g)}}class TI{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,r,s,l,d,f;const g=this.body.edges,_=.5,b=this.physicsBody.physicsEdgeIndices,w=this.physicsBody.physicsNodeIndices,T=this.physicsBody.forces;for(let J=0;J<w.length;J++){const K=w[J];T[K].springFx=0,T[K].springFy=0}for(let J=0;J<b.length;J++)e=g[b[J]],!0===e.connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,r=e.from.y-e.to.y,f=Math.sqrt(i*i+r*r),f=0===f?.01:f,d=this.options.springConstant*(t-f)/f,s=i*d,l=r*d,e.to.level!=e.from.level?(void 0!==T[e.toId]&&(T[e.toId].springFx-=s,T[e.toId].springFy-=l),void 0!==T[e.fromId]&&(T[e.fromId].springFx+=s,T[e.fromId].springFy+=l)):(void 0!==T[e.toId]&&(T[e.toId].x-=_*s,T[e.toId].y-=_*l),void 0!==T[e.fromId]&&(T[e.fromId].x+=_*s,T[e.fromId].y+=_*l)));let N,F;d=1;for(let J=0;J<w.length;J++){const K=w[J];N=Math.min(d,Math.max(-d,T[K].springFx)),F=Math.min(d,Math.max(-d,T[K].springFy)),T[K].x+=N,T[K].y+=F}let I=0,P=0;for(let J=0;J<w.length;J++){const K=w[J];I+=T[K].x,P+=T[K].y}const L=I/w.length,U=P/w.length;for(let J=0;J<w.length;J++){const K=w[J];T[K].x-=L,T[K].y-=U}}}class rb{constructor(t,e,i){this.body=t,this.physicsBody=e,this.setOptions(i)}setOptions(t){this.options=t}solve(){let t,e,i,r;const s=this.body.nodes,l=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces;for(let f=0;f<l.length;f++)r=s[l[f]],t=-r.x,e=-r.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,d,r)}_calculateForces(t,e,i,r,s){const l=0===t?0:this.options.centralGravity/t;r[s.id].x=e*l,r[s.id].y=i*l}}class xR extends Vx{constructor(t,e,i){super(t,e,i),this._rng=Fy("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(t,e,i,r,s){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&r.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*r.shape.radius,t-r.shape.radius));const d=this.options.gravitationalConstant*s.mass*r.options.mass*(r.edges.length+1)/Math.pow(t,2),g=i*d;this.physicsBody.forces[r.id].x+=e*d,this.physicsBody.forces[r.id].y+=g}}class TR extends rb{constructor(t,e,i){super(t,e,i)}_calculateForces(t,e,i,r,s){if(t>0){const d=this.options.centralGravity*(s.edges.length+1)*s.options.mass;r[s.id].x=e*d,r[s.id].y=i*d}}}class MI{constructor(t){this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Object.assign(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),!0===this.ready&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{!0===this.ready&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,jy(["stabilization"],this.options,t),Ro(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());const e=this.options.wind;e&&(("number"!=typeof e.x||Number.isNaN(e.x))&&(e.x=0),("number"!=typeof e.y||Number.isNaN(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}init(){let t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new xR(this.body,this.physicsBody,t),this.edgesSolver=new H1(this.body,this.physicsBody,t),this.gravitySolver=new TR(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new xI(this.body,this.physicsBody,t),this.edgesSolver=new H1(this.body,this.physicsBody,t),this.gravitySolver=new rb(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new DR(this.body,this.physicsBody,t),this.edgesSolver=new TI(this.body,this.physicsBody,t),this.gravitySolver=new rb(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new Vx(this.body,this.physicsBody,t),this.edgesSolver=new H1(this.body,this.physicsBody,t),this.gravitySolver=new rb(this.body,this.physicsBody,t)),this.modelOptions=t}initPhysics(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}stopSimulation(t=!0){this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const t=Date.now();this.physicsTick(),(Date.now()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}_emitStabilized(t=this.stabilizationIterations){(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(()=>{this.body.emitter.emit("stabilized",{iterations:t}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const t=this.body.nodes,e=this.body.edges;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&!0===e[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[i].id);for(let i=0;i<this.physicsBody.physicsNodeIndices.length;i++){const r=this.physicsBody.physicsNodeIndices[i];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(const i in this.physicsBody.velocities)void 0===t[i]&&delete this.physicsBody.velocities[i]}revert(){const t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(let r=0;r<t.length;r++){const s=t[r];void 0!==e[s]?!0===e[s].options.physics&&(this.referenceState[s]={positions:{x:e[s].x,y:e[s].y}},i[s].x=this.previousStates[s].vx,i[s].y=this.previousStates[s].vy,e[s].x=this.previousStates[s].x,e[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let t,e,i;const r=this.body.nodes,s=this.referenceState;for(const d in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,d)&&void 0!==r[d]&&(t=r[d].x-s[d].positions.x,e=r[d].y-s[d].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>.3))return!1;return!0}moveNodes(){const t=this.physicsBody.physicsNodeIndices;let e=0,i=0;for(let s=0;s<t.length;s++){const d=this._performStep(t[s]);e=Math.max(e,d),i+=d}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}calculateComponentVelocity(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;const l=this.options.maxVelocity||1e9;return Math.abs(t)>l&&(t=t>0?l:-l),t}_performStep(t){const e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);const r=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:r.x,vy:r.y},!1===e.options.fixed.x?(r.x=this.calculateComponentVelocity(r.x,i.x,e.options.mass),e.x+=r.x*this.timestep):(i.x=0,r.x=0),!1===e.options.fixed.y?(r.y=this.calculateComponentVelocity(r.y,i.y,e.options.mass),e.y+=r.y*this.timestep):(i.y=0,r.y=0),Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2))}_freezeNodes(){const t=this.body.nodes;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){const i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}_restoreFrozenNodes(){const t=this.body.nodes;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}stabilize(t=this.options.stabilization.iterations){"number"!=typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(()=>this._stabilizationBatch(),0)):this.ready=!0}_startStabilizing(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const t=()=>!1===this.stabilized&&this.stabilizationIterations<this.targetIterations,e=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&e();let i=0;for(;t()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;e(),t()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(t){for(let e=0;e<this.physicsBody.physicsNodeIndices.length;e++){const i=this.physicsBody.physicsNodeIndices[e],r=this.body.nodes[i],s=this.physicsBody.forces[i],l=20,d=.03,f=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),g=Math.min(Math.max(5,f),15),_=3*g,b=Mf((180-180*Math.min(1,Math.max(0,d*f)))/360,1,1),w={x:r.x+l*s.x,y:r.y+l*s.y};t.lineWidth=g,t.strokeStyle=b,t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(w.x,w.y),t.stroke();const T=Math.atan2(s.y,s.x);t.fillStyle=b,Fx.draw(t,{type:"arrow",point:w,angle:T,length:_}),t.fill()}}}class ps{constructor(){}static getRange(t,e=[]){let d,i=1e9,r=-1e9,s=1e9,l=-1e9;if(e.length>0)for(let f=0;f<e.length;f++)d=t[e[f]],s>d.shape.boundingBox.left&&(s=d.shape.boundingBox.left),l<d.shape.boundingBox.right&&(l=d.shape.boundingBox.right),i>d.shape.boundingBox.top&&(i=d.shape.boundingBox.top),r<d.shape.boundingBox.bottom&&(r=d.shape.boundingBox.bottom);return 1e9===s&&-1e9===l&&1e9===i&&-1e9===r&&(i=0,r=0,s=0,l=0),{minX:s,maxX:l,minY:i,maxY:r}}static getRangeCore(t,e=[]){let d,i=1e9,r=-1e9,s=1e9,l=-1e9;if(e.length>0)for(let f=0;f<e.length;f++)d=t[e[f]],s>d.x&&(s=d.x),l<d.x&&(l=d.x),i>d.y&&(i=d.y),r<d.y&&(r=d.y);return 1e9===s&&-1e9===l&&1e9===i&&-1e9===r&&(i=0,r=0,s=0,l=0),{minX:s,maxX:l,minY:i,maxY:r}}static findCenter(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}static cloneOptions(t,e){const i={};return void 0===e||"node"===e?(Jn(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):Jn(i,t.options,!0),i}}class SI extends fi{constructor(t,e,i,r,s,l){super(t,e,i,r,s,l),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(t){const e=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!e.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],dn(e.edges,i=>{delete this.containedEdges[i.id]}),dn(e.containedNodes,(i,r)=>{this.containedNodes[r]=i}),e.containedNodes={},dn(e.containedEdges,(i,r)=>{this.containedEdges[r]=i}),e.containedEdges={},dn(e.edges,i=>{dn(this.edges,r=>{const s=r.clusteringEdgeReplacingIds.indexOf(i.id);-1!==s&&(dn(i.clusteringEdgeReplacingIds,l=>{r.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=r.id}),r.clusteringEdgeReplacingIds.splice(s,1))})}),e.edges=[]}}class AI{constructor(t){this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Object.assign(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(t,e){void 0===t?t=this._getHubSize():"object"==typeof t&&(e=this._checkOptions(t),t=this._getHubSize());const i=[];for(let r=0;r<this.body.nodeIndices.length;r++){const s=this.body.nodes[this.body.nodeIndices[r]];s.edges.length>=t&&i.push(s.id)}for(let r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}cluster(t={},e=!0){if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);const i={},r={};dn(this.body.nodes,(s,l)=>{s.options&&!0===t.joinCondition(s.options)&&(i[l]=s,dn(s.edges,d=>{void 0===this.clusteredEdges[d.id]&&(r[d.id]=d)}))}),this._cluster(i,r,t,e)}clusterByEdgeCount(t,e,i=!0){e=this._checkOptions(e);const r=[],s={};let l,d,f;for(let g=0;g<this.body.nodeIndices.length;g++){const _={},b={},w=this.body.nodeIndices[g],T=this.body.nodes[w];if(void 0===s[w]){f=0,d=[];for(let N=0;N<T.edges.length;N++)l=T.edges[N],void 0===this.clusteredEdges[l.id]&&(l.toId!==l.fromId&&f++,d.push(l));if(f===t){const N=function(I){if(null==e.joinCondition)return!0;const P=ps.cloneOptions(I);return e.joinCondition(P)};let F=!0;for(let I=0;I<d.length;I++){l=d[I];const P=this._getConnectedId(l,w);if(!N(T)){F=!1;break}b[l.id]=l,_[w]=T,_[P]=this.body.nodes[P],s[w]=!0}if(Object.keys(_).length>0&&Object.keys(b).length>0&&!0===F){const P=function(){for(let L=0;L<r.length;++L)for(const U in _)if(void 0!==r[L].nodes[U])return r[L]}();if(void 0!==P){for(const L in _)void 0===P.nodes[L]&&(P.nodes[L]=_[L]);for(const L in b)void 0===P.edges[L]&&(P.edges[L]=b[L])}else r.push({nodes:_,edges:b})}}}}for(let g=0;g<r.length;g++)this._cluster(r[g].nodes,r[g].edges,e,!1);!0===i&&this.body.emitter.emit("_dataChanged")}clusterOutliers(t,e=!0){this.clusterByEdgeCount(1,t,e)}clusterBridges(t,e=!0){this.clusterByEdgeCount(2,t,e)}clusterByConnection(t,e,i=!0){if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");const r=this.body.nodes[t];void 0===(e=this._checkOptions(e,r)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=r.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=r.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=r.options.fixed.x,e.clusterNodeProperties.fixed.y=r.options.fixed.y);const s={},l={},d=r.id,f=ps.cloneOptions(r);s[d]=r;for(let _=0;_<r.edges.length;_++){const b=r.edges[_];if(void 0===this.clusteredEdges[b.id]){const w=this._getConnectedId(b,d);if(void 0===this.clusteredNodes[w])if(w!==d)if(void 0===e.joinCondition)l[b.id]=b,s[w]=this.body.nodes[w];else{const T=ps.cloneOptions(this.body.nodes[w]);!0===e.joinCondition(f,T)&&(l[b.id]=b,s[w]=this.body.nodes[w])}else l[b.id]=b}}const g=Object.keys(s).map(function(_){return s[_].id});for(const _ in s){if(!Object.prototype.hasOwnProperty.call(s,_))continue;const b=s[_];for(let w=0;w<b.edges.length;w++){const T=b.edges[w];g.indexOf(this._getConnectedId(T,b.id))>-1&&(l[T.id]=T)}}this._cluster(s,l,e,i)}_createClusterEdges(t,e,i,r){let s,l,d,f,g,_;const b=Object.keys(t),w=[];for(let F=0;F<b.length;F++){l=b[F],d=t[l];for(let I=0;I<d.edges.length;I++)s=d.edges[I],void 0===this.clusteredEdges[s.id]&&(s.toId==s.fromId?e[s.id]=s:s.toId==l?(f=i.id,g=s.fromId,_=g):(f=s.toId,g=i.id,_=f),void 0===t[_]&&w.push({edge:s,fromId:g,toId:f}))}const T=[],N=function(F){for(let I=0;I<T.length;I++){const P=T[I],U=F.fromId===P.toId&&F.toId===P.fromId;if(F.fromId===P.fromId&&F.toId===P.toId||U)return P}return null};for(let F=0;F<w.length;F++){const I=w[F],P=I.edge;let L=N(I);null===L?(L=this._createClusteredEdge(I.fromId,I.toId,P,r),T.push(L)):L.clusteringEdgeReplacingIds.push(P.id),this.body.edges[P.id].edgeReplacedById=L.id,this._backupEdgeOptions(P),P.setOptions({physics:!1})}}_checkOptions(t={}){return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}_cluster(t,e,i,r=!0){const s=[];for(const _ in t)Object.prototype.hasOwnProperty.call(t,_)&&void 0!==this.clusteredNodes[_]&&s.push(_);for(let _=0;_<s.length;++_)delete t[s[_]];if(0==Object.keys(t).length||1==Object.keys(t).length&&1!=i.clusterNodeProperties.allowSingleNodeCluster)return;let l=Jn({},i.clusterNodeProperties);if(void 0!==i.processProperties){const _=[];for(const w in t)if(Object.prototype.hasOwnProperty.call(t,w)){const T=ps.cloneOptions(t[w]);_.push(T)}const b=[];for(const w in e)if(Object.prototype.hasOwnProperty.call(e,w)&&"clusterEdge:"!==w.substr(0,12)){const T=ps.cloneOptions(e[w],"edge");b.push(T)}if(l=i.processProperties(l,_,b),!l)throw new Error("The processProperties function does not return properties!")}void 0===l.id&&(l.id="cluster:"+(0,md.v4)());const d=l.id;let f;void 0===l.label&&(l.label="cluster"),void 0===l.x&&(f=this._getClusterPosition(t),l.x=f.x),void 0===l.y&&(void 0===f&&(f=this._getClusterPosition(t)),l.y=f.y),l.id=d;const g=this.body.functions.createNode(l,SI);g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[l.id]=g,this._clusterEdges(t,e,l,i.clusterEdgeProperties),l.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}_restoreEdge(t){const e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}isCluster(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}_getClusterPosition(t){const e=Object.keys(t);let d,i=t[e[0]].x,r=t[e[0]].x,s=t[e[0]].y,l=t[e[0]].y;for(let f=1;f<e.length;f++)d=t[e[f]],i=d.x<i?d.x:i,r=d.x>r?d.x:r,s=d.y<s?d.y:s,l=d.y>l?d.y:l;return{x:.5*(i+r),y:.5*(s+l)}}openCluster(t,e,i=!0){if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");const r=this.body.nodes[t];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");const s=this.findNode(t),l=s.indexOf(t)-1;if(l>=0)return this.body.nodes[s[l]]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"));const d=r.containedNodes,f=r.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){const _={},b={x:r.x,y:r.y};for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T)){const N=this.body.nodes[T];_[T]={x:N.x,y:N.y}}const w=e.releaseFunction(b,_);for(const T in d)if(Object.prototype.hasOwnProperty.call(d,T)){const N=this.body.nodes[T];void 0!==w[T]&&(N.x=void 0===w[T].x?r.x:w[T].x,N.y=void 0===w[T].y?r.y:w[T].y)}}else dn(d,function(_){!1===_.options.fixed.x&&(_.x=r.x),!1===_.options.fixed.y&&(_.y=r.y)});for(const _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){const b=this.body.nodes[_];b.vx=r.vx,b.vy=r.vy,b.setOptions({physics:!0}),delete this.clusteredNodes[_]}const g=[];for(let _=0;_<r.edges.length;_++)g.push(r.edges[_]);for(let _=0;_<g.length;_++){const b=g[_],w=this._getConnectedId(b,t),T=this.clusteredNodes[w];for(let N=0;N<b.clusteringEdgeReplacingIds.length;N++){const I=this.body.edges[b.clusteringEdgeReplacingIds[N]];if(void 0!==I)if(void 0!==T){const P=this.body.nodes[T.clusterId];P.containedEdges[I.id]=I,delete f[I.id];let L=I.fromId,U=I.toId;I.toId==w?U=T.clusterId:L=T.clusterId,this._createClusteredEdge(L,U,I,P.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(I)}b.remove()}for(const _ in f)Object.prototype.hasOwnProperty.call(f,_)&&this._restoreEdge(f[_]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(t){const e=[];if(!0===this.isCluster(t)){const i=this.body.nodes[t].containedNodes;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.push(this.body.nodes[r].id)}return e}findNode(t){const e=[];let s,r=0;for(;void 0!==this.clusteredNodes[t]&&r<100;){if(s=this.body.nodes[t],void 0===s)return[];e.push(s.id),t=this.clusteredNodes[t].clusterId,r++}return s=this.body.nodes[t],void 0===s?[]:(e.push(s.id),e.reverse(),e)}updateClusteredNode(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}updateEdge(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");const i=this.getClusteredEdges(t);for(let r=0;r<i.length;r++)this.body.edges[i[r]].setOptions(e);this.body.emitter.emit("_dataChanged")}getClusteredEdges(t){const e=[];let r=0;for(;void 0!==t&&void 0!==this.body.edges[t]&&r<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,r++;return e.reverse(),e}getBaseEdge(t){return this.getBaseEdges(t)[0]}getBaseEdges(t){const e=[t],i=[],r=[];let l=0;for(;e.length>0&&l<100;){const d=e.pop();if(void 0===d)continue;const f=this.body.edges[d];if(void 0===f)continue;l++;const g=f.clusteringEdgeReplacingIds;if(void 0===g)r.push(d);else for(let _=0;_<g.length;++_){const b=g[_];-1!==e.indexOf(g)||-1!==i.indexOf(g)||e.push(b)}i.push(d)}return r}_getConnectedId(t,e){return t.toId!=e?t.toId:t.fromId}_getHubSize(){let t=0,e=0,i=0,r=0;for(let f=0;f<this.body.nodeIndices.length;f++){const g=this.body.nodes[this.body.nodeIndices[f]];g.edges.length>r&&(r=g.edges.length),t+=g.edges.length,e+=Math.pow(g.edges.length,2),i+=1}t/=i,e/=i;const s=e-Math.pow(t,2),l=Math.sqrt(s);let d=Math.floor(t+2*l);return d>r&&(d=r),d}_createClusteredEdge(t,e,i,r,s){const l=ps.cloneOptions(i,"edge");Jn(l,r),l.from=t,l.to=e,l.id="clusterEdge:"+(0,md.v4)(),void 0!==s&&Jn(l,s);const d=this.body.functions.createEdge(l);return d.clusteringEdgeReplacingIds=[i.id],d.connect(),this.body.edges[d.id]=d,d}_clusterEdges(t,e,i,r){if(e instanceof Qc){const l={};l[e.id]=e,e=l}if(t instanceof fi){const l={};l[t.id]=t,t=l}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");void 0===r&&(r=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,r);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&void 0!==this.body.edges[s]){const l=this.body.edges[s];this._backupEdgeOptions(l),l.setOptions({physics:!1})}for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(this.clusteredNodes[s]={clusterId:i.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(t){if(void 0===t)return;const e=this.clusteredNodes[t];if(void 0===e)return;const i=e.clusterId;return void 0!==i?this.body.nodes[i]:void 0}_filter(t,e){const i=[];return dn(t,r=>{e(r)&&i.push(r)}),i}_updateState(){let t;const e=[],i={},r=f=>{dn(this.body.nodes,g=>{!0===g.isCluster&&f(g)})};for(t in this.clusteredNodes)Object.prototype.hasOwnProperty.call(this.clusteredNodes,t)&&void 0===this.body.nodes[t]&&e.push(t);r(function(f){for(let g=0;g<e.length;g++)delete f.containedNodes[e[g]]});for(let f=0;f<e.length;f++)delete this.clusteredNodes[e[f]];dn(this.clusteredEdges,f=>{const g=this.body.edges[f];(void 0===g||!g.endPointsValid())&&(i[f]=f)}),r(function(f){dn(f.containedEdges,(g,_)=>{!g.endPointsValid()&&!i[_]&&(i[_]=_)})}),dn(this.body.edges,(f,g)=>{let _=!0;const b=f.clusteringEdgeReplacingIds;if(void 0!==b){let w=0;dn(b,T=>{const N=this.body.edges[T];void 0!==N&&N.endPointsValid()&&(w+=1)}),_=w>0}(!f.endPointsValid()||!_)&&(i[g]=g)}),r(f=>{dn(i,g=>{delete f.containedEdges[g],dn(f.edges,(_,b)=>{_.id!==g?_.clusteringEdgeReplacingIds=this._filter(_.clusteringEdgeReplacingIds,function(w){return!i[w]}):f.edges[b]=null}),f.edges=this._filter(f.edges,function(_){return null!==_})})}),dn(i,f=>{delete this.clusteredEdges[f]}),dn(i,f=>{delete this.body.edges[f]}),dn(Object.keys(this.body.edges),f=>{const g=this.body.edges[f],_=this._isClusteredNode(g.fromId)||this._isClusteredNode(g.toId);if(_!==this._isClusteredEdge(g.id))if(_){const b=this._getClusterNodeForNode(g.fromId);void 0!==b&&this._clusterEdges(this.body.nodes[g.fromId],g,b);const w=this._getClusterNodeForNode(g.toId);void 0!==w&&this._clusterEdges(this.body.nodes[g.toId],g,w)}else delete this._clusterEdges[f],this._restoreEdge(g)});let l=!1,d=!0;for(;d;){const f=[];r(function(g){const _=Object.keys(g.containedNodes).length,b=!0===g.options.allowSingleNodeCluster;(b&&_<1||!b&&_<2)&&f.push(g.id)});for(let g=0;g<f.length;++g)this.openCluster(f[g],{},!1);d=f.length>0,l=l||d}l&&this._updateState()}_isClusteredNode(t){return void 0!==this.clusteredNodes[t]}_isClusteredEdge(t){return void 0!==this.clusteredEdges[t]}}class ya{constructor(t,e){(function(){let n;void 0!==window&&(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===n?function(t){t()}:n})(),this.body=t,this.canvas=e,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Object.assign(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=window.setTimeout(()=>{this.zooming=!1,this._requestRedraw.bind(this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{!1===this.renderingActive&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.renderTimer=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,!0===this.requiresTimeout?clearTimeout(this.renderTimer):window.cancelAnimationFrame(this.renderTimer),this.body.emitter.off()})}setOptions(t){void 0!==t&&Df(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}_requestNextFrame(t,e){if("undefined"==typeof window)return;let i;const r=window;return!0===this.requiresTimeout?i=r.setTimeout(t,e):r.requestAnimationFrame&&(i=r.requestAnimationFrame(t)),i}_startRendering(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}_renderStep(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(()=>{this._redraw(!1)},0))}_redraw(t=!1){if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const e={drawExternalLabels:null};(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();const i=this.canvas.getContext(),r=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,r,s),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){const{drawExternalLabels:l}=this._drawNodes(i,t);e.drawExternalLabels=l}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,r,s)}}_resizeNodes(){this.canvas.setTransform();const t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);const e=this.body.nodes;let i;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i=e[r],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}_drawNodes(t,e=!1){const i=this.body.nodes,r=this.body.nodeIndices;let s;const l=[],d=[],g=this.canvas.DOMtoCanvas({x:-20,y:-20}),_=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),b={top:g.y,left:g.x,bottom:_.y,right:_.x},w=[];for(let I=0;I<r.length;I++)if(s=i[r[I]],s.hover)d.push(r[I]);else if(s.isSelected())l.push(r[I]);else if(!0===e){const P=s.draw(t);null!=P.drawExternalLabel&&w.push(P.drawExternalLabel)}else if(!0===s.isBoundingBoxOverlappingWith(b)){const P=s.draw(t);null!=P.drawExternalLabel&&w.push(P.drawExternalLabel)}else s.updateBoundingBox(t,s.selected);let T;const N=l.length,F=d.length;for(T=0;T<N;T++){s=i[l[T]];const I=s.draw(t);null!=I.drawExternalLabel&&w.push(I.drawExternalLabel)}for(T=0;T<F;T++){s=i[d[T]];const I=s.draw(t);null!=I.drawExternalLabel&&w.push(I.drawExternalLabel)}return{drawExternalLabels:()=>{for(const I of w)I()}}}_drawEdges(t){const e=this.body.edges,i=this.body.edgeIndices;for(let r=0;r<i.length;r++){const s=e[i[r]];!0===s.connected&&s.draw(t)}}_drawArrows(t){const e=this.body.edges,i=this.body.edgeIndices;for(let r=0;r<i.length;r++){const s=e[i[r]];!0===s.connected&&s.drawArrows(t)}}_determineBrowserMethod(){if("undefined"!=typeof window){const t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=t.indexOf("msie 9.0")||-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}_drawSelectionBox(t){if(this.body.selectionBox.show){t.beginPath();const e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}function sb(n,t){t.inputHandler=function(e){e.isFirst&&t(e)},n.on("hammer.input",t.inputHandler)}function jx(n,t){return t.inputHandler=function(e){e.isFinal&&t(e)},n.on("hammer.input",t.inputHandler)}class II{constructor(t){this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Object.assign(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.once("resize",t=>{0!==t.width&&(this.body.view.translation.x=.5*t.width),0!==t.height&&(this.body.view.translation.y=.5*t.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(t){if(void 0!==t&&Df(["width","height","autoResize"],this.options,t),this._cleanUp(),!0===this.options.autoResize){if(window.ResizeObserver){const i=new ResizeObserver(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")}),{frame:r}=this;i.observe(r),this._cleanupCallbacks.push(()=>{i.unobserve(r)})}else{const i=setInterval(()=>{!0===this.setSize()&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const e=this._onResize.bind(this);(function(n,t,e,i){n.addEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&navigator.userAgent.includes("Firefox")&&(t="DOMMouseScroll"),n.addEventListener(t,e,i)):n.attachEvent("on"+t,e)})(window,"resize",e),this._cleanupCallbacks.push(()=>{!function(n,t,e,i){n.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&navigator.userAgent.includes("Firefox")&&(t="DOMMouseScroll"),n.removeEventListener(t,e,i)):n.detachEvent("on"+t,e)}(window,"resize",e)})}}_cleanUp(){this._cleanupCallbacks.splice(0).reverse().forEach(t=>{try{t()}catch(e){console.error(e)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(t=this.pixelRatio){!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}_setCameraState(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;const r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new gd(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:gd.DIRECTION_ALL}),sb(this.hammer,t=>{this.body.eventListeners.onTouch(t)}),this.hammer.on("tap",t=>{this.body.eventListeners.onTap(t)}),this.hammer.on("doubletap",t=>{this.body.eventListeners.onDoubleTap(t)}),this.hammer.on("press",t=>{this.body.eventListeners.onHold(t)}),this.hammer.on("panstart",t=>{this.body.eventListeners.onDragStart(t)}),this.hammer.on("panmove",t=>{this.body.eventListeners.onDrag(t)}),this.hammer.on("panend",t=>{this.body.eventListeners.onDragEnd(t)}),this.hammer.on("pinch",t=>{this.body.eventListeners.onPinch(t)}),this.frame.canvas.addEventListener("wheel",t=>{this.body.eventListeners.onMouseWheel(t)}),this.frame.canvas.addEventListener("mousemove",t=>{this.body.eventListeners.onMouseMove(t)}),this.frame.canvas.addEventListener("contextmenu",t=>{this.body.eventListeners.onContext(t)}),this.hammerFrame=new gd(this.frame),jx(this.hammerFrame,t=>{this.body.eventListeners.onRelease(t)})}setSize(t=this.options.width,e=this.options.height){t=this._prepareValue(t),e=this._prepareValue(e);let i=!1;const r=this.frame.canvas.width,s=this.frame.canvas.height,l=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(l),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{const d=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),f=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==d||this.frame.canvas.height!==f)&&this._getCameraState(l),this.frame.canvas.width!==d&&(this.frame.canvas.width=d,i=!0),this.frame.canvas.height!==f&&(this.frame.canvas.height=f,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(r/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");let e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(t){return(t-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(t){return(t-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(t){return t*this.body.view.scale+this.body.view.translation.y}canvasToDOM(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}DOMtoCanvas(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}class MR{constructor(t,e){this.body=t,this.canvas=e,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}setOptions(t={}){this.options=t}fit(t,e=!1){t=function(n,t){const e=Object.assign({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=n?n:{});if(!Array.isArray(e.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===e.nodes.length&&(e.nodes=t),!("number"==typeof e.minZoomLevel&&e.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof e.maxZoomLevel&&e.minZoomLevel<=e.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return e}(t,this.body.nodeIndices);const i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;let s,l;if(0===i||0===r)l=1,s=ps.getRange(this.body.nodes,t.nodes);else if(!0===e){let g=0;for(const w in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,w)&&!0===this.body.nodes[w].predefinedPosition&&(g+=1);if(g>.5*this.body.nodeIndices.length)return void this.fit(t,!1);s=ps.getRange(this.body.nodes,t.nodes),l=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,l*=Math.min(i/600,r/600)}else{this.body.emitter.emit("_resizeNodes"),s=ps.getRange(this.body.nodes,t.nodes);const b=i/(1.1*Math.abs(s.maxX-s.minX)),w=r/(1.1*Math.abs(s.maxY-s.minY));l=b<=w?b:w}l>t.maxZoomLevel?l=t.maxZoomLevel:l<t.minZoomLevel&&(l=t.minZoomLevel);const f={position:ps.findCenter(s),scale:l,animation:t.animation};this.moveTo(f)}focus(t,e={}){void 0!==this.body.nodes[t]?(e.position={x:this.body.nodes[t].x,y:this.body.nodes[t].y},e.lockedOnNode=t,this.moveTo(e)):console.error("Node: "+t+" cannot be found.")}moveTo(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Number.isFinite(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Number.isFinite(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Number.isFinite(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Number.isFinite(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}animateView(t){if(void 0===t)return;this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;const e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});this.targetTranslation={x:this.sourceTranslation.x+(e.x-t.position.x)*this.targetScale+t.offset.x,y:this.sourceTranslation.y+(e.y-t.position.y)*this.targetScale+t.offset.y},0===t.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}_lockedRedraw(){const t_x=this.body.nodes[this.lockedOnNodeId].x,t_y=this.body.nodes[this.lockedOnNodeId].y,e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=this.body.view.translation;this.body.view.translation={x:r.x+(e.x-t_x)*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+(e.y-t_y)*this.body.view.scale+this.lockedOnNodeOffset.y}}releaseNode(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(t=!1){this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;const e=zO[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}class kI{constructor(t,e){this.body=t,this.canvas=e,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{void 0!==this.keycharm&&this.keycharm.destroy()}),this.options={}}setOptions(t){void 0!==t&&(this.options=t,this.create())}create(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(0!=this.navigationHammers.length){for(let t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let r=0;r<t.length;r++){this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[r]]);const s=new gd(this.navigationDOM[t[r]]);sb(s,"_fit"===e[r]?this._fit.bind(this):this.bindToRedraw.bind(this,e[r])),this.navigationHammers.push(s)}const i=new gd(this.canvas.frame);jx(i,()=>{this._stopMovement()}),this.navigationHammers.push(i),this.iconsCreated=!0}bindToRedraw(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}unbindFromRedraw(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}_fit(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}_stopMovement(){for(const t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=e/this.body.view.scale,s=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,l=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=e,this.body.view.translation={x:s,y:l},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,r=e/this.body.view.scale,s=(1-r)*this.canvas.canvasViewCenter.x+i.x*r,l=(1-r)*this.canvas.canvasViewCenter.y+i.y*r;this.body.view.scale=e,this.body.view.translation={x:s,y:l},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=function(n){var l,t=n&&n.preventDefault||!1,e=n&&n.container||window,i={},r={keydown:{},keyup:{}},s={};for(l=97;l<=122;l++)s[String.fromCharCode(l)]={code:l-97+65,shift:!1};for(l=65;l<=90;l++)s[String.fromCharCode(l)]={code:l,shift:!0};for(l=0;l<=9;l++)s[""+l]={code:48+l,shift:!1};for(l=1;l<=12;l++)s["F"+l]={code:111+l,shift:!1};for(l=0;l<=9;l++)s["num"+l]={code:96+l,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var d=function(_){g(_,"keydown")},f=function(_){g(_,"keyup")},g=function(_,b){if(void 0!==r[b][_.keyCode]){for(var w=r[b][_.keyCode],T=0;T<w.length;T++)(void 0===w[T].shift||1==w[T].shift&&1==_.shiftKey||0==w[T].shift&&0==_.shiftKey)&&w[T].fn(_);1==t&&_.preventDefault()}};return i.bind=function(_,b,w){if(void 0===w&&(w="keydown"),void 0===s[_])throw new Error("unsupported key: "+_);void 0===r[w][s[_].code]&&(r[w][s[_].code]=[]),r[w][s[_].code].push({fn:b,shift:s[_].shift})},i.bindAll=function(_,b){for(var w in void 0===b&&(b="keydown"),s)s.hasOwnProperty(w)&&i.bind(w,_,b)},i.getKey=function(_){for(var b in s)if(s.hasOwnProperty(b)){if(1==_.shiftKey&&1==s[b].shift&&_.keyCode==s[b].code)return b;if(0==_.shiftKey&&0==s[b].shift&&_.keyCode==s[b].code)return b;if(_.keyCode==s[b].code&&"shift"==b)return b}return"unknown key, currently not supported"},i.unbind=function(_,b,w){if(void 0===w&&(w="keydown"),void 0===s[_])throw new Error("unsupported key: "+_);if(void 0!==b){var T=[],N=r[w][s[_].code];if(void 0!==N)for(var F=0;F<N.length;F++)N[F].fn==b&&N[F].shift==s[_].shift||T.push(r[w][s[_].code][F]);r[w][s[_].code]=T}else r[w][s[_].code]=[]},i.reset=function(){r={keydown:{},keyup:{}}},i.destroy=function(){r={keydown:{},keyup:{}},e.removeEventListener("keydown",d,!0),e.removeEventListener("keyup",f,!0)},e.addEventListener("keydown",d,!0),e.addEventListener("keyup",f,!0),i}(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",()=>{this.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",()=>{this.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",()=>{this.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")))}}class PI{constructor(t,e,i){this.body=t,this.canvas=e,this.selectionHandler=i,this.navigationHandler=new kI(t,e),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Object.assign(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(t){void 0!==t&&(jy(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Ro(this.options,t,"keyboard"),t.tooltip&&(Object.assign(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=zy(t.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(t){return{x:t.x-(n=this.canvas.frame.canvas,n.getBoundingClientRect().left),y:t.y-NO(this.canvas.frame.canvas)};var n}onTouch(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}onTap(t){const e=this.getPointer(t.center);this.checkSelectionChanges(e,this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey)),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}onDoubleTap(t){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}onHold(t){const e=this.getPointer(t.center);this.checkSelectionChanges(e,this.selectionHandler.options.multiselect),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}onRelease(t){if((new Date).valueOf()-this.touchTime>10){const e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}onContext(t){const e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}checkSelectionChanges(t,e=!1){!0===e?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}_determineDifference(t,e){const i=function(r,s){const l=[];for(let d=0;d<r.length;d++){const f=r[d];-1===s.indexOf(f)&&l.push(f)}return l};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}onDragStart(t){if(this.drag.dragging)return;void 0===this.drag.pointer&&this.onTouch(t);const e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Object.assign({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;const i=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);for(const i of this.selectionHandler.getSelectedNodes()){const r={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(r)}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}onDrag(t){if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");const e=this.getPointer(t.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,e);const r=e.x-this.drag.pointer.x,s=e.y-this.drag.pointer.y;i.forEach(l=>{const d=l.node;!1===l.xFixed&&(d.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(l.x)+r)),!1===l.yFixed&&(d.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(l.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(e.x),y:this.canvas._YconvertDOMtoCanvas(e.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,e,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.view.translation={x:this.drag.translation.x+(e.x-this.drag.pointer.x),y:this.drag.translation.y+(e.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(t){if(this.drag.dragging=!1,this.body.selectionBox.show){this.body.selectionBox.show=!1;const e=this.body.selectionBox.position,i={minX:Math.min(e.start.x,e.end.x),minY:Math.min(e.start.y,e.end.y),maxX:Math.max(e.start.x,e.end.x),maxY:Math.max(e.start.y,e.end.y)};this.body.nodeIndices.filter(l=>{const d=this.body.nodes[l];return d.x>=i.minX&&d.x<=i.maxX&&d.y>=i.minY&&d.y<=i.maxY}).forEach(l=>this.selectionHandler.selectObject(this.body.nodes[l]));const s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const e=this.drag.selection;e&&e.length?(e.forEach(function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(t){const e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*t.scale,e)}zoom(t,e){if(!0===this.options.zoomView){const i=this.body.view.scale;let r;t<1e-5&&(t=1e-5),t>10&&(t=10),void 0!==this.drag&&!0===this.drag.dragging&&(r=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,l=t/i,d=(1-l)*e.x+s.x*l,f=(1-l)*e.y+s.y*l;if(this.body.view.scale=t,this.body.view.translation={x:d,y:f},null!=r){const g=this.canvas.canvasToDOM(r);this.drag.pointer.x=g.x,this.drag.pointer.y=g.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",i<t?{direction:"+",scale:this.body.view.scale,pointer:e}:{direction:"-",scale:this.body.view.scale,pointer:e})}}onMouseWheel(t){if(!0===this.options.zoomView){if(0!==t.deltaY){let e=this.body.view.scale;e*=1+.1*this.options.zoomSpeed*(t.deltaY<0?1:-1);const i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}onMouseMove(t){const e=this.getPointer({x:t.clientX,y:t.clientY});let i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(e),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(e.x+3,e.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(()=>this._checkShowPopup(e),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,e)}_checkShowPopup(t){const e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),r={left:e,top:i,right:e,bottom:i},s=void 0===this.popupObj?void 0:this.popupObj.id;let l=!1,d="node";if(void 0===this.popupObj){const f=this.body.nodeIndices,g=this.body.nodes;let _;const b=[];for(let w=0;w<f.length;w++)_=g[f[w]],!0===_.isOverlappingWith(r)&&(l=!0,void 0!==_.getTitle()&&b.push(f[w]));b.length>0&&(this.popupObj=g[b[b.length-1]],l=!0)}if(void 0===this.popupObj&&!1===l){const f=this.body.edgeIndices,g=this.body.edges;let _;const b=[];for(let w=0;w<f.length;w++)_=g[f[w]],!0===_.isOverlappingWith(r)&&!0===_.connected&&void 0!==_.getTitle()&&b.push(f[w]);b.length>0&&(this.popupObj=g[b[b.length-1]],d="edge")}void 0!==this.popupObj?this.popupObj.id!==s&&(void 0===this.popup&&(this.popup=new class{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=parseInt(t),this.y=parseInt(e)}setText(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}show(t){if(void 0===t&&(t=!0),!0===t){const e=this.frame.clientHeight,i=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let l=0,d=0;if("flip"==this.overflowMethod){let f=!1,g=!0;this.y-e<this.padding&&(g=!1),this.x+i>s-this.padding&&(f=!0),l=f?this.x-i:this.x,d=g?this.y-e:this.y}else d=this.y-e,d+e+this.padding>r&&(d=r-e-this.padding),d<this.padding&&(d=this.padding),l=this.x,l+i+this.padding>s&&(l=s-i-this.padding),l<this.padding&&(l=this.padding);this.frame.style.left=l+"px",this.frame.style.top=d+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}(this.canvas.frame)),this.popup.popupTargetType=d,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(t){const e=this.selectionHandler._pointerToPositionObject(t);let i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),!0===i)){const r=this.selectionHandler.getNodeAt(t);i=void 0!==r&&r.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var yd,Kr,Jl,bd,ob;function RI(n,t){const e=new Set;for(const i of t)n.has(i)||e.add(i);return e}class FI{constructor(){yd.set(this,new Set),Kr.set(this,new Set)}get size(){return Xn(this,Kr,"f").size}add(...t){for(const e of t)Xn(this,Kr,"f").add(e)}delete(...t){for(const e of t)Xn(this,Kr,"f").delete(e)}clear(){Xn(this,Kr,"f").clear()}getSelection(){return[...Xn(this,Kr,"f")]}getChanges(){return{added:[...RI(Xn(this,yd,"f"),Xn(this,Kr,"f"))],deleted:[...RI(Xn(this,Kr,"f"),Xn(this,yd,"f"))],previous:[...new Set(Xn(this,yd,"f"))],current:[...new Set(Xn(this,Kr,"f"))]}}commit(){const t=this.getChanges();Wg(this,yd,Xn(this,Kr,"f"),"f"),Wg(this,Kr,new Set(Xn(this,yd,"f")),"f");for(const e of t.added)e.select();for(const e of t.deleted)e.unselect();return t}}yd=new WeakMap,Kr=new WeakMap;class SR{constructor(t=(()=>{})){Jl.set(this,new FI),bd.set(this,new FI),ob.set(this,void 0),Wg(this,ob,t,"f")}get sizeNodes(){return Xn(this,Jl,"f").size}get sizeEdges(){return Xn(this,bd,"f").size}getNodes(){return Xn(this,Jl,"f").getSelection()}getEdges(){return Xn(this,bd,"f").getSelection()}addNodes(...t){Xn(this,Jl,"f").add(...t)}addEdges(...t){Xn(this,bd,"f").add(...t)}deleteNodes(t){Xn(this,Jl,"f").delete(t)}deleteEdges(t){Xn(this,bd,"f").delete(t)}clear(){Xn(this,Jl,"f").clear(),Xn(this,bd,"f").clear()}commit(...t){const e={nodes:Xn(this,Jl,"f").commit(),edges:Xn(this,bd,"f").commit()};return Xn(this,ob,"f").call(this,e,...t),e}}Jl=new WeakMap,bd=new WeakMap,ob=new WeakMap;class z1{constructor(t,e){this.body=t,this.canvas=e,this._selectionAccumulator=new SR,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Object.assign(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(t){void 0!==t&&Df(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}selectOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}selectAdditionalOnPoint(t){let e=!1;if(!0===this.options.selectable){const i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}_initBaseEvent(t,e){const i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}generateClickEvent(t,e,i,r,s=!1){const l=this._initBaseEvent(e,i);if(!0===s)l.nodes=[],l.edges=[];else{const d=this.getSelection();l.nodes=d.nodes,l.edges=d.edges}void 0!==r&&(l.previousSelection=r),"click"==t&&(l.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(l.controlEdge=e.controlEdge),this.body.emitter.emit(t,l)}selectObject(t,e=this.options.selectConnectedEdges){return void 0!==t&&(t instanceof fi?(!0===e&&this._selectionAccumulator.addEdges(...t.edges),this._selectionAccumulator.addNodes(t)):this._selectionAccumulator.addEdges(t),!0)}deselectObject(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}_getAllNodesOverlappingWith(t){const e=[],i=this.body.nodes;for(let r=0;r<this.body.nodeIndices.length;r++){const s=this.body.nodeIndices[r];i[s].isOverlappingWith(t)&&e.push(s)}return e}_pointerToPositionObject(t){const e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}getNodeAt(t,e=!0){const i=this._pointerToPositionObject(t),r=this._getAllNodesOverlappingWith(i);if(r.length>0)return!0===e?this.body.nodes[r[r.length-1]]:r[r.length-1]}_getEdgesOverlappingWith(t,e){const i=this.body.edges;for(let r=0;r<this.body.edgeIndices.length;r++){const s=this.body.edgeIndices[r];i[s].isOverlappingWith(t)&&e.push(s)}}_getAllEdgesOverlappingWith(t){const e=[];return this._getEdgesOverlappingWith(t,e),e}getEdgeAt(t,e=!0){const i=this.canvas.DOMtoCanvas(t);let r=10,s=null;const l=this.body.edges;for(let d=0;d<this.body.edgeIndices.length;d++){const f=this.body.edgeIndices[d],g=l[f];if(g.connected){const N=g.edgeType.getDistanceToEdge(g.from.x,g.from.y,g.to.x,g.to.y,i.x,i.y);N<r&&(s=f,r=N)}}if(null!==s)return!0===e?this.body.edges[s]:s}_addToHover(t){t instanceof fi?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}_removeFromSelection(t){t instanceof fi?(this._selectionAccumulator.deleteNodes(t),this._selectionAccumulator.deleteEdges(...t.edges)):this._selectionAccumulator.deleteEdges(t)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(t){for(let e=0;e<t.edges.length;e++){const i=t.edges[e];i.hover=!0,this._addToHover(i)}}emitBlurEvent(t,e,i){const r=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof fi?(r.node=i.id,this.body.emitter.emit("blurNode",r)):(r.edge=i.id,this.body.emitter.emit("blurEdge",r)))}emitHoverEvent(t,e,i){const r=this._initBaseEvent(t,e);let s=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),s=!0,i instanceof fi?(r.node=i.id,this.body.emitter.emit("hoverNode",r)):(r.edge=i.id,this.body.emitter.emit("hoverEdge",r))),s}hoverObject(t,e){let i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));let r=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(void 0===i||i instanceof fi&&i.id!=s||i instanceof Qc)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],r=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(!0===r?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(void 0===i||i instanceof Qc&&i.id!=s||i instanceof fi&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],r=!0));if(void 0!==i){const s=Object.keys(this.hoverObj.edges).length,l=Object.keys(this.hoverObj.nodes).length,d=i instanceof Qc&&0===s&&0===l,f=i instanceof fi&&0===s&&0===l;(r||d||f)&&(r=this.emitHoverEvent(t,e,i)),i instanceof fi&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===r&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(t,e){let i=!1;const r=this._selectionAccumulator.commit(),s={nodes:r.nodes.previous,edges:r.edges.previous};r.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,s),i=!0),r.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,s),i=!0),r.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),r.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){return this._selectionAccumulator.getNodes().map(t=>t.id)}getSelectedEdgeIds(){return this._selectionAccumulator.getEdges().map(t=>t.id)}setSelection(t,e={}){if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(const i of t.nodes){const r=this.body.nodes[i];if(!r)throw new RangeError('Node with id "'+i+'" not found');this.selectObject(r,e.highlightEdges)}if(t.edges)for(const i of t.edges){const r=this.body.edges[i];if(!r)throw new RangeError('Edge with id "'+i+'" not found');this.selectObject(r)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(t,e=!0){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}selectEdges(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}updateSelection(){for(const t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(const t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}getClickedItems(t){const e=this.canvas.DOMtoCanvas(t),i=[],r=this.body.nodeIndices,s=this.body.nodes;for(let f=r.length-1;f>=0;f--){const _=s[r[f]].getItemsOnPoint(e);i.push.apply(i,_)}const l=this.body.edgeIndices,d=this.body.edges;for(let f=l.length-1;f>=0;f--){const _=d[l[f]].getItemsOnPoint(e);i.push.apply(i,_)}return i}}class Hx{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(t){return this.fake_use(t),this.abstract()}setPosition(t,e,i){this.fake_use(t,e,i),this.abstract()}getTreeSize(t){return this.fake_use(t),this.abstract()}sort(t){this.fake_use(t),this.abstract()}fix(t,e){this.fake_use(t,e),this.abstract()}shift(t,e){this.fake_use(t,e),this.abstract()}}class LI extends Hx{constructor(t){super(),this.layout=t}curveType(){return"horizontal"}getPosition(t){return t.x}setPosition(t,e,i){void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}sort(t){(0,Wy.sort)(t,function(e,i){return e.x-i.x})}fix(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}shift(t,e){this.layout.body.nodes[t].x+=e}}class BI extends Hx{constructor(t){super(),this.layout=t}curveType(){return"vertical"}getPosition(t){return t.y}setPosition(t,e,i){void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}getTreeSize(t){const e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}sort(t){(0,Wy.sort)(t,function(e,i){return e.y-i.y})}fix(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}shift(t,e){this.layout.body.nodes[t].y+=e}}function AR(n,t){const e=new Set;return n.forEach(i=>{i.edges.forEach(r=>{r.connected&&e.add(r)})}),e.forEach(i=>{const r=i.from.id,s=i.to.id;null==t[r]&&(t[r]=0),(null==t[s]||t[r]>=t[s])&&(t[s]=t[r]+1)}),t}function zx(n,t,e,i){const r=Object.create(null),s=[...i.values()].reduce((f,g)=>f+1+g.edges.length,0),l=e+"Id",d="to"===e?1:-1;for(const[f,g]of i){if(!i.has(f)||!n(g))continue;r[f]=0;const _=[g];let w,b=0;for(;w=_.pop();){if(!i.has(f))continue;const T=r[w.id]+d;if(w.edges.filter(N=>N.connected&&N.to!==N.from&&N[e]!==w&&i.has(N.toId)&&i.has(N.fromId)).forEach(N=>{const F=N[l],I=r[F];(null==I||t(T,I))&&(r[F]=T,_.push(N[e]))}),b>s)return AR(i,r);++b}}return r}class ba{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}checkIfTree(){for(const t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}ensureLevel(t){void 0===this.levels[t]&&(this.levels[t]=0)}getMaxLevel(t){const e={},i=r=>{if(void 0!==e[r])return e[r];let s=this.levels[r];if(this.childrenReference[r]){const l=this.childrenReference[r];if(l.length>0)for(let d=0;d<l.length;d++)s=Math.max(s,i(l[d]))}return e[r]=s,s};return i(t)}levelDownstream(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}setMinLevelToZero(t){let e=1e9;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(this.levels[i]-=e)}getTreeSize(t,e){let i=1e9,r=-1e9,s=1e9,l=-1e9;for(const d in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,d)&&this.trees[d]===e){const f=t[d];i=Math.min(f.x,i),r=Math.max(f.x,r),s=Math.min(f.y,s),l=Math.max(f.y,l)}return{min_x:i,max_x:r,min_y:s,max_y:l}}hasSameParent(t,e){const i=this.parentReference[t.id],r=this.parentReference[e.id];if(void 0===i||void 0===r)return!1;for(let s=0;s<i.length;s++)for(let l=0;l<r.length;l++)if(i[s]==r[l])return!0;return!1}inSameSubNetwork(t,e){return this.trees[t.id]===this.trees[e.id]}getLevels(){return Object.keys(this.distributionOrdering)}addToOrdering(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);let i=!1;const r=this.distributionOrdering[e];for(const s in r)if(r[s]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}class OR{constructor(t){this.body=t,this._resetRNG(Math.random()+":"+Date.now()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Object.assign(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(!0!==this.options.hierarchical.enabled)return;const t=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",t,!1)})}setOptions(t,e){if(void 0!==t){const i=this.options.hierarchical,r=i.enabled;if(Df(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Ro(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===r)return this.body.emitter.emit("refresh"),Jn(e,this.optionsBackup)}return e}_resetRNG(t){this.initialRandomSeed=t,this._rng=Fy(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(t){if(!0===this.options.hierarchical.enabled){const e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"==typeof t.physics?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});let i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{const r=t.edges.smooth;void 0!==r.type&&"dynamic"!==r.type&&(i=r.type),this.optionsBackup.edges={smooth:{enabled:void 0===r.enabled||r.enabled,type:void 0===r.type?"dynamic":r.type,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}},t.edges.smooth={enabled:void 0===r.enabled||r.enabled,type:i,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}positionInitially(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);const e=t.length+50;for(let i=0;i<t.length;i++){const r=t[i],s=2*Math.PI*this._rng();void 0===r.x&&(r.x=e*Math.cos(s)),void 0===r.y&&(r.y=e*Math.sin(s))}}}layoutNetwork(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){const t=this.body.nodeIndices;let e=0;for(let i=0;i<t.length;i++)!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1);if(e<.5*t.length){const i=10;let r=0;const s=this.options.clusterThreshold,l={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>s){const f=t.length;for(;t.length>s&&r<=i;){r+=1;const g=t.length;if(r%3==0?this.body.modules.clustering.clusterBridges(l):this.body.modules.clustering.clusterOutliers(l),g==t.length&&r%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*f)})}r>i&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();const d=70;for(let f=0;f<t.length;f++){const g=this.body.nodes[t[f]];!1===g.predefinedPosition&&(g.x+=(.5-this._rng())*d,g.y+=(.5-this._rng())*d)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const t=ps.getRangeCore(this.body.nodes,this.body.nodeIndices),e=ps.findCenter(t);for(let i=0;i<this.body.nodeIndices.length;i++){const r=this.body.nodes[this.body.nodeIndices[i]];r.x-=e.x,r.y-=e.y}}_declusterAll(){let t=!0;for(;!0===t;){t=!1;for(let e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){let t,e,i=!1,r=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new ba,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(t=this.body.nodes[e],void 0!==t.options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):r=!0);if(!0===r&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(!0===r){const l=this.options.hierarchical.sortMethod;"hubsize"===l?this._determineLevelsByHubsize():"directed"===l?this._determineLevelsDirected():"custom"===l&&this._determineLevelsCustomCallback()}for(const l in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,l)&&this.hierarchical.ensureLevel(l);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){let t=!1;const e={},r=(I,P)=>{const L=this.hierarchical.trees;for(const U in L)Object.prototype.hasOwnProperty.call(L,U)&&L[U]===I&&this.direction.shift(U,P)},s=()=>{const I=[];for(let P=0;P<this.hierarchical.numTrees();P++)I.push(this.direction.getTreeSize(P));return I},l=(I,P)=>{if(!P[I.id]&&(P[I.id]=!0,this.hierarchical.childrenReference[I.id])){const L=this.hierarchical.childrenReference[I.id];if(L.length>0)for(let U=0;U<L.length;U++)l(this.body.nodes[L[U]],P)}},d=(I,P=1e9)=>{let L=1e9,U=1e9,J=1e9,K=-1e9;for(const ye in I)if(Object.prototype.hasOwnProperty.call(I,ye)){const Fe=this.body.nodes[ye],Pe=this.hierarchical.levels[Fe.id],Xe=this.direction.getPosition(Fe),[dt,qe]=this._getSpaceAroundNode(Fe,I);L=Math.min(dt,L),U=Math.min(qe,U),Pe<=P&&(J=Math.min(Xe,J),K=Math.max(Xe,K))}return[J,K,L,U]},f=(I,P)=>{const L=this.hierarchical.getMaxLevel(I.id),U=this.hierarchical.getMaxLevel(P.id);return Math.min(L,U)},g=(I,P,L)=>{const U=this.hierarchical;for(let J=0;J<P.length;J++){const ye=U.distributionOrdering[P[J]];if(ye.length>1)for(let Fe=0;Fe<ye.length-1;Fe++){const Pe=ye[Fe],Xe=ye[Fe+1];U.hasSameParent(Pe,Xe)&&U.inSameSubNetwork(Pe,Xe)&&I(Pe,Xe,L)}}},_=(I,P,L=!1)=>{const U=this.direction.getPosition(I),J=this.direction.getPosition(P),K=Math.abs(J-U),ye=this.options.hierarchical.nodeSpacing;if(K>ye){const Fe={},Pe={};l(I,Fe),l(P,Pe);const Xe=f(I,P),dt=d(Fe,Xe),qe=d(Pe,Xe),at=dt[1],Ze=qe[0],pe=qe[2];if(Math.abs(at-Ze)>ye){let me=at-Ze+ye;me<-pe+ye&&(me=-pe+ye),me<0&&(this._shiftBlock(P.id,me),t=!0,!0===L&&this._centerParent(P))}}},b=(I,P)=>{const L=P.id,U=P.edges,J=this.hierarchical.levels[P.id],K=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,ye={},Fe=[];for(let pe=0;pe<U.length;pe++){const $e=U[pe];if($e.toId!=$e.fromId){const me=$e.toId==L?$e.from:$e.to;ye[U[pe].id]=me,this.hierarchical.levels[me.id]<J&&Fe.push($e)}}const Pe=(pe,$e)=>{let me=0;for(let Ge=0;Ge<$e.length;Ge++)if(void 0!==ye[$e[Ge].id]){const ft=this.direction.getPosition(ye[$e[Ge].id])-pe;me+=ft/Math.sqrt(ft*ft+K)}return me},Xe=(pe,$e)=>{let me=0;for(let Ge=0;Ge<$e.length;Ge++)if(void 0!==ye[$e[Ge].id]){const ft=this.direction.getPosition(ye[$e[Ge].id])-pe;me-=K*Math.pow(ft*ft+K,-1.5)}return me},dt=(pe,$e)=>{let me=this.direction.getPosition(P);const Ge={};for(let ft=0;ft<pe;ft++){const ut=Pe(me,$e),_t=Xe(me,$e),St=40;if(me-=Math.max(-St,Math.min(St,Math.round(ut/_t))),void 0!==Ge[me])break;Ge[me]=ft}return me};let Ze=dt(I,Fe);(pe=>{const $e=this.direction.getPosition(P);if(void 0===e[P.id]){const St={};l(P,St),e[P.id]=St}const me=d(e[P.id]),Ge=me[2],ut=pe-$e;let _t=0;ut>0?_t=Math.min(ut,me[3]-this.options.hierarchical.nodeSpacing):ut<0&&(_t=-Math.min(-ut,Ge-this.options.hierarchical.nodeSpacing)),0!=_t&&(this._shiftBlock(P.id,_t),t=!0)})(Ze),Ze=dt(I,U),(pe=>{const $e=this.direction.getPosition(P),[me,Ge]=this._getSpaceAroundNode(P),ft=pe-$e;let ut=$e;ft>0?ut=Math.min($e+(Ge-this.options.hierarchical.nodeSpacing),pe):ft<0&&(ut=Math.max($e-(me-this.options.hierarchical.nodeSpacing),pe)),ut!==$e&&(this.direction.setPosition(P,ut),t=!0)})(Ze)};!0===this.options.hierarchical.blockShifting&&((I=>{let P=this.hierarchical.getLevels();P=P.reverse();for(let L=0;L<5&&(t=!1,g(_,P,!0),!0===t);L++);})(),(()=>{for(const I in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,I)&&this._centerParent(this.body.nodes[I])})()),!0===this.options.hierarchical.edgeMinimization&&(I=>{let P=this.hierarchical.getLevels();P=P.reverse();for(let L=0;L<20;L++){t=!1;for(let U=0;U<P.length;U++){const K=this.hierarchical.distributionOrdering[P[U]];for(let ye=0;ye<K.length;ye++)b(1e3,K[ye])}if(!0!==t)break}})(),!0===this.options.hierarchical.parentCentralization&&(()=>{let I=this.hierarchical.getLevels();I=I.reverse();for(let P=0;P<I.length;P++){const U=this.hierarchical.distributionOrdering[I[P]];for(let J=0;J<U.length;J++)this._centerParent(U[J])}})(),(()=>{const I=s();let P=0;for(let L=0;L<I.length-1;L++)P+=I[L].max-I[L+1].min+this.options.hierarchical.treeSpacing,r(L+1,P)})()}_getSpaceAroundNode(t,e){let i=!0;void 0===e&&(i=!1);const r=this.hierarchical.levels[t.id];if(void 0!==r){const s=this.hierarchical.distributionIndex[t.id],l=this.direction.getPosition(t),d=this.hierarchical.distributionOrdering[r];let f=1e9,g=1e9;if(0!==s){const _=d[s-1];(!0===i&&void 0===e[_.id]||!1===i)&&(f=l-this.direction.getPosition(_))}if(s!=d.length-1){const _=d[s+1];if(!0===i&&void 0===e[_.id]||!1===i){const b=this.direction.getPosition(_);g=Math.min(g,b-l)}}return[f,g]}return[0,0]}_centerParent(t){if(this.hierarchical.parentReference[t.id]){const e=this.hierarchical.parentReference[t.id];for(let i=0;i<e.length;i++){const r=e[i],s=this.body.nodes[r],l=this.hierarchical.childrenReference[r];if(void 0!==l){const d=this._getCenterPosition(l),f=this.direction.getPosition(s),[g,_]=this._getSpaceAroundNode(s),b=f-d;(b<0&&Math.abs(b)<_-this.options.hierarchical.nodeSpacing||b>0&&Math.abs(b)<g-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,d)}}}}_placeNodesByHierarchy(t){this.positionedNodes={};for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let i=Object.keys(t[e]);i=this._indexArrayToNodes(i),this.direction.sort(i);let r=0;for(let s=0;s<i.length;s++){const l=i[s];if(void 0===this.positionedNodes[l.id]){const d=this.options.hierarchical.nodeSpacing;let f=d*r;r>0&&(f=this.direction.getPosition(i[s-1])+d),this.direction.setPosition(l,f,e),this._validatePositionAndContinue(l,e,f),r++}}}}_placeBranchNodes(t,e){const i=this.hierarchical.childrenReference[t];if(void 0===i)return;const r=[];for(let l=0;l<i.length;l++)r.push(this.body.nodes[i[l]]);this.direction.sort(r);for(let l=0;l<r.length;l++){const d=r[l],f=this.hierarchical.levels[d.id];if(!(f>e&&void 0===this.positionedNodes[d.id]))return;{const g=this.options.hierarchical.nodeSpacing;let _;_=0===l?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(r[l-1])+g,this.direction.setPosition(d,_,f),this._validatePositionAndContinue(d,f,_)}}const s=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[t],s,e)}_validatePositionAndContinue(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){const r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-r<this.options.hierarchical.nodeSpacing){const s=r+this.options.hierarchical.nodeSpacing-i,l=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(l.withChild,s)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}_indexArrayToNodes(t){const e=[];for(let i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}_getDistribution(){const t={};let e,i;for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){i=this.body.nodes[e];const r=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(i,r),void 0===t[r]&&(t[r]={}),t[r][e]=i}return t}_getActiveEdges(t){const e=[];return dn(t.edges,i=>{-1!==this.body.edgeIndices.indexOf(i.id)&&e.push(i)}),e}_getHubSizes(){const t={};dn(this.body.nodeIndices,r=>{const l=this._getActiveEdges(this.body.nodes[r]).length;t[l]=!0});const i=[];return dn(t,r=>{i.push(Number(r))}),px().sort(i,function(r,s){return s-r}),i}_determineLevelsByHubsize(){const t=(i,r)=>{this.hierarchical.levelDownstream(i,r)},e=this._getHubSizes();for(let i=0;i<e.length;++i){const r=e[i];if(0===r)break;dn(this.body.nodeIndices,s=>{r===this._getActiveEdges(this.body.nodes[s]).length&&this._crawlNetwork(t,s)})}}_determineLevelsCustomCallback(){this._crawlNetwork((r,s,l)=>{let d=this.hierarchical.levels[r.id];void 0===d&&(d=this.hierarchical.levels[r.id]=1e5);const f=(ps.cloneOptions(r,"node"),ps.cloneOptions(s,"node"),void ps.cloneOptions(l,"edge"));this.hierarchical.levels[s.id]=d+f}),this.hierarchical.setMinLevelToZero(this.body.nodes)}_determineLevelsDirected(){const t=this.body.nodeIndices.reduce((e,i)=>(e.set(i,this.body.nodes[i]),e),new Map);var n;this.hierarchical.levels="roots"===this.options.hierarchical.shakeTowards?zx(t=>t.edges.filter(e=>n.has(e.toId)).every(e=>e.from===t),(t,e)=>e<t,"to",n=t):function(n){return zx(t=>t.edges.filter(e=>n.has(e.toId)).every(e=>e.to===t),(t,e)=>e>t,"from",n)}(t),this.hierarchical.setMinLevelToZero(this.body.nodes)}_generateMap(){this._crawlNetwork((e,i)=>{this.hierarchical.levels[i.id]>this.hierarchical.levels[e.id]&&this.hierarchical.addRelation(e.id,i.id)}),this.hierarchical.checkIfTree()}_crawlNetwork(t=function(){},e){const i={},r=(s,l)=>{if(void 0===i[s.id]){let d;this.hierarchical.setTreeIndex(s,l),i[s.id]=!0;const f=this._getActiveEdges(s);for(let g=0;g<f.length;g++){const _=f[g];!0===_.connected&&(d=_.toId==s.id?_.from:_.to,s.id!=d.id&&(t(s,d,_),r(d,l)))}}};if(void 0===e){let s=0;for(let l=0;l<this.body.nodeIndices.length;l++){const d=this.body.nodeIndices[l];void 0===i[d]&&(r(this.body.nodes[d],s),s+=1)}}else{const s=this.body.nodes[e];if(void 0===s)return void console.error("Node not found:",e);r(s)}}_shiftBlock(t,e){const i={},r=s=>{if(i[s])return;i[s]=!0,this.direction.shift(s,e);const l=this.hierarchical.childrenReference[s];if(void 0!==l)for(let d=0;d<l.length;d++)r(l[d])};r(t)}_findCommonParent(t,e){const i={},r=(l,d)=>{const f=this.hierarchical.parentReference[d];if(void 0!==f)for(let g=0;g<f.length;g++){const _=f[g];l[_]=!0,r(l,_)}},s=(l,d)=>{const f=this.hierarchical.parentReference[d];if(void 0!==f)for(let g=0;g<f.length;g++){const _=f[g];if(void 0!==l[_])return{foundParent:_,withChild:d};const b=s(l,_);if(null!==b.foundParent)return b}return{foundParent:null,withChild:d}};return r(i,t),s(i,e)}setDirectionStrategy(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new LI(this):new BI(this)}_getCenterPosition(t){let e=1e9,i=-1e9;for(let r=0;r<t.length;r++){let s;s=void 0!==t[r].id?t[r]:this.body.nodes[t[r]];const l=this.direction.getPosition(s);e=Math.min(e,l),i=Math.max(i,l)}return.5*(e+i)}}class Ux{constructor(t,e,i,r){this.body=t,this.canvas=e,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Object.assign(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}_restore(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}setOptions(t,e,i){void 0!==e&&(this.options.locale=void 0!==e.locale?e.locale:i.locale,this.options.locales=void 0!==e.locales?e.locales:i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,Jn(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}toggleEditMode(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const t=this.selectionHandler.getSelectedNodeCount(),e=this.selectionHandler.getSelectedEdgeCount(),i=t+e,r=this.options.locales[this.options.locale];let s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(r)),1===t&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(r)):1===e&&0===t&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(r)),0!==i&&(t>0&&!1!==this.options.deleteNode||0===t&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(r)),this._bindElementEvents(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}addNodeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}editNode(){!0!==this.editMode&&this.enableEditMode(),this._clean();const t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){const e=Jn({},t.options,!1);if(e.x=t.x,e.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(e,i=>{null!=i&&"editNode"===this.inMode&&this.body.data.nodes.getDataSet().update(i),this.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}addEdgeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!=typeof this.options.editEdge||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){const t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){const t=this.body.edges[this.edgeBeingEditedId],e=this._getNewTargetNode(t.from.x,t.from.y),i=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(e.id),this.temporaryIds.nodes.push(i.id),this.body.nodes[e.id]=e,this.body.nodeIndices.push(e.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",r=>{const s=t.edgeType.findBorderPositions(r);!1===e.selected&&(e.x=s.from.x,e.y=s.from.y),!1===i.selected&&(i.x=s.to.x,i.y=s.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{const t=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(t.from.id,t.to.id)}}deleteSelected(){!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";const t=this.selectionHandler.getSelectedNodeIds(),e=this.selectionHandler.getSelectedEdgeIds();let i;if(t.length>0){for(let r=0;r<t.length;r++)if(!0===this.body.nodes[t[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else e.length>0&&"function"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"==typeof i){const r={nodes:t,edges:e};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(r,s=>{null!=s&&"delete"===this.inMode?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(e),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){var t,e;void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!=(e=null==(t=this.options.locales[this.options.locale])?void 0:t.close)?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}_getNewTargetNode(t,e){const i=Jn({},this.options.controlNodeStyle);i.id="targetNode"+(0,md.v4)(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;const r=this.body.functions.createNode(i);return r.shape.boundingBox={left:t,right:t,top:e,bottom:e},r}_createEditButton(){this._clean(),this.manipulationDOM={},qc(this.editModeDiv);const e=this._createButton("editMode","vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindElementEvents(e,this.toggleEditMode.bind(this))}_clean(){this.inMode=!1,!0===this.guiEnabled&&(qc(this.editModeDiv),qc(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of this._domEventListenerCleanupQueue.splice(0))t()}_removeManipulationDOM(){this._clean(),qc(this.manipulationDiv),qc(this.editModeDiv),qc(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(t=1){this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}_createAddNodeButton(t){const e=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindElementEvents(e,this.addNodeMode.bind(this))}_createAddEdgeButton(t){const e=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindElementEvents(e,this.addEdgeMode.bind(this))}_createEditNodeButton(t){const e=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindElementEvents(e,this.editNode.bind(this))}_createEditEdgeButton(t){const e=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindElementEvents(e,this.editEdgeMode.bind(this))}_createDeleteButton(t){let e;e=this.options.rtl?"vis-delete-rtl":"vis-delete";const i=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,this.deleteSelected.bind(this))}_createBackButton(t){const e=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindElementEvents(e,this.showManipulatorToolbar.bind(this))}_createButton(t,e,i,r="vis-label"){return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=r,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}_createDescription(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}_temporaryBindUI(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}_unbindTemporaryUIs(){for(const t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let t=0;t<this.temporaryEventFunctions.length;t++)this.body.emitter.off(this.temporaryEventFunctions[t].event,this.temporaryEventFunctions[t].boundFunction);this.temporaryEventFunctions=[]}_bindElementEvents(t,e){const i=new gd(t,{});sb(i,e),this._domEventListenerCleanupQueue.push(()=>{i.destroy()});const r=({keyCode:s,key:l})=>{("Enter"===l||" "===l||13===s||32===s)&&e()};t.addEventListener("keyup",r,!1),this._domEventListenerCleanupQueue.push(()=>{t.removeEventListener("keyup",r,!1)})}_cleanupTemporaryNodesAndEdges(){for(let t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];const e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(let t=0;t<this.temporaryIds.nodes.length;t++){delete this.body.nodes[this.temporaryIds.nodes[t]];const e=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[t]);-1!==e&&this.body.nodeIndices.splice(e,1)}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Object.assign({},this.body.view.translation)}_controlNodeDragStart(){const e=this.selectionHandler._pointerToPositionObject(this.lastTouch),i=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const l=i.isOverlappingWith(e),d=r.isOverlappingWith(e);!0===l?(this.selectedControlNode=i,s.edgeType.from=i):!0===d&&(this.selectedControlNode=r,s.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(t){this.body.emitter.emit("disablePhysics");const e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),r=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(i);let l;for(let d=s.length-1;d>=0;d--)if(s[d]!==this.selectedControlNode.id){l=this.body.nodes[s[d]];break}void 0!==l&&void 0!==this.selectedControlNode?!0===l.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(l.id,r.to.id):this._performEditEdge(r.from.id,l.id):(r.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}_handleConnect(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=Object.assign({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const i=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const r=this._getNewTargetNode(i.x,i.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);const s=this.body.functions.createEdge({id:"connectionEdge"+(0,md.v4)(),from:i.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(s.id)}this.touchTime=(new Date).valueOf()}}_dragControlNode(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let r;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(i);let l;for(let d=s.length-1;d>=0;d--)if(-1===this.temporaryIds.nodes.indexOf(s[d])){l=this.body.nodes[s[d]];break}if(t.controlEdge={from:r,to:l?l.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){const d=this.body.nodes[this.temporaryIds.nodes[0]];d.x=this.canvas._XconvertDOMtoCanvas(e.x),d.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}_finishConnect(t){const e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e);let r;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(i);let l;for(let d=s.length-1;d>=0;d--)if(-1===this.temporaryIds.nodes.indexOf(s[d])){l=this.body.nodes[s[d]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==l&&(!0===l.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[l.id]&&this._performAddEdge(r,l.id)),t.controlEdge={from:r,to:l?l.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}_dragStartEdge(t){this.selectionHandler.generateClickEvent("dragStart",t,this.lastTouch,void 0,!0)}_performAddNode(t){const e={id:(0,md.v4)(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(e,i=>{null!=i&&"addNode"===this.inMode&&this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()})}else this.body.data.nodes.getDataSet().add(e),this.showManipulatorToolbar()}_performAddEdge(t,e){const i={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,r=>{null!=r&&"addEdge"===this.inMode&&(this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(t,e){const i={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let r=this.options.editEdge;if("object"==typeof r&&(r=r.editWithoutDrag),"function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,s=>{null==s||"editEdge"!==this.inMode?(this.body.edges[i.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ct="string",nt="boolean",Le="number",kf="array",Dt="object",Pf=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Rf={borderWidth:{number:Le},borderWidthSelected:{number:Le,undefined:"undefined"},brokenImage:{string:ct,undefined:"undefined"},chosen:{label:{boolean:nt,function:"function"},node:{boolean:nt,function:"function"},__type__:{object:Dt,boolean:nt}},color:{border:{string:ct},background:{string:ct},highlight:{border:{string:ct},background:{string:ct},__type__:{object:Dt,string:ct}},hover:{border:{string:ct},background:{string:ct},__type__:{object:Dt,string:ct}},__type__:{object:Dt,string:ct}},opacity:{number:Le,undefined:"undefined"},fixed:{x:{boolean:nt},y:{boolean:nt},__type__:{object:Dt,boolean:nt}},font:{align:{string:ct},color:{string:ct},size:{number:Le},face:{string:ct},background:{string:ct},strokeWidth:{number:Le},strokeColor:{string:ct},vadjust:{number:Le},multi:{boolean:nt,string:ct},bold:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},boldital:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},ital:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},mono:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},__type__:{object:Dt,string:ct}},group:{string:ct,number:Le,undefined:"undefined"},heightConstraint:{minimum:{number:Le},valign:{string:ct},__type__:{object:Dt,boolean:nt,number:Le}},hidden:{boolean:nt},icon:{face:{string:ct},code:{string:ct},size:{number:Le},color:{string:ct},weight:{string:ct,number:Le},__type__:{object:Dt}},id:{string:ct,number:Le},image:{selected:{string:ct,undefined:"undefined"},unselected:{string:ct,undefined:"undefined"},__type__:{object:Dt,string:ct}},imagePadding:{top:{number:Le},right:{number:Le},bottom:{number:Le},left:{number:Le},__type__:{object:Dt,number:Le}},label:{string:ct,undefined:"undefined"},labelHighlightBold:{boolean:nt},level:{number:Le,undefined:"undefined"},margin:{top:{number:Le},right:{number:Le},bottom:{number:Le},left:{number:Le},__type__:{object:Dt,number:Le}},mass:{number:Le},physics:{boolean:nt},scaling:{min:{number:Le},max:{number:Le},label:{enabled:{boolean:nt},min:{number:Le},max:{number:Le},maxVisible:{number:Le},drawThreshold:{number:Le},__type__:{object:Dt,boolean:nt}},customScalingFunction:{function:"function"},__type__:{object:Dt}},shadow:{enabled:{boolean:nt},color:{string:ct},size:{number:Le},x:{number:Le},y:{number:Le},__type__:{object:Dt,boolean:nt}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:nt,array:kf},borderRadius:{number:Le},interpolation:{boolean:nt},useImageSize:{boolean:nt},useBorderWithImage:{boolean:nt},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Dt}},size:{number:Le},title:{string:ct,dom:"dom",undefined:"undefined"},value:{number:Le,undefined:"undefined"},widthConstraint:{minimum:{number:Le},maximum:{number:Le},__type__:{object:Dt,boolean:nt,number:Le}},x:{number:Le},y:{number:Le},__type__:{object:Dt}},$1={configure:{enabled:{boolean:nt},filter:{boolean:nt,string:ct,array:kf,function:"function"},container:{dom:"dom"},showButton:{boolean:nt},__type__:{object:Dt,boolean:nt,string:ct,array:kf,function:"function"}},edges:{arrows:{to:{enabled:{boolean:nt},scaleFactor:{number:Le},type:{string:Pf},imageHeight:{number:Le},imageWidth:{number:Le},src:{string:ct},__type__:{object:Dt,boolean:nt}},middle:{enabled:{boolean:nt},scaleFactor:{number:Le},type:{string:Pf},imageWidth:{number:Le},imageHeight:{number:Le},src:{string:ct},__type__:{object:Dt,boolean:nt}},from:{enabled:{boolean:nt},scaleFactor:{number:Le},type:{string:Pf},imageWidth:{number:Le},imageHeight:{number:Le},src:{string:ct},__type__:{object:Dt,boolean:nt}},__type__:{string:["from","to","middle"],object:Dt}},endPointOffset:{from:{number:Le},to:{number:Le},__type__:{object:Dt,number:Le}},arrowStrikethrough:{boolean:nt},background:{enabled:{boolean:nt},color:{string:ct},size:{number:Le},dashes:{boolean:nt,array:kf},__type__:{object:Dt,boolean:nt}},chosen:{label:{boolean:nt,function:"function"},edge:{boolean:nt,function:"function"},__type__:{object:Dt,boolean:nt}},color:{color:{string:ct},highlight:{string:ct},hover:{string:ct},inherit:{string:["from","to","both"],boolean:nt},opacity:{number:Le},__type__:{object:Dt,string:ct}},dashes:{boolean:nt,array:kf},font:{color:{string:ct},size:{number:Le},face:{string:ct},background:{string:ct},strokeWidth:{number:Le},strokeColor:{string:ct},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:Le},multi:{boolean:nt,string:ct},bold:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},boldital:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},ital:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},mono:{color:{string:ct},size:{number:Le},face:{string:ct},mod:{string:ct},vadjust:{number:Le},__type__:{object:Dt,string:ct}},__type__:{object:Dt,string:ct}},hidden:{boolean:nt},hoverWidth:{function:"function",number:Le},label:{string:ct,undefined:"undefined"},labelHighlightBold:{boolean:nt},length:{number:Le,undefined:"undefined"},physics:{boolean:nt},scaling:{min:{number:Le},max:{number:Le},label:{enabled:{boolean:nt},min:{number:Le},max:{number:Le},maxVisible:{number:Le},drawThreshold:{number:Le},__type__:{object:Dt,boolean:nt}},customScalingFunction:{function:"function"},__type__:{object:Dt}},selectionWidth:{function:"function",number:Le},selfReferenceSize:{number:Le},selfReference:{size:{number:Le},angle:{number:Le},renderBehindTheNode:{boolean:nt},__type__:{object:Dt}},shadow:{enabled:{boolean:nt},color:{string:ct},size:{number:Le},x:{number:Le},y:{number:Le},__type__:{object:Dt,boolean:nt}},smooth:{enabled:{boolean:nt},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:Le},forceDirection:{string:["horizontal","vertical","none"],boolean:nt},__type__:{object:Dt,boolean:nt}},title:{string:ct,undefined:"undefined"},width:{number:Le},widthConstraint:{maximum:{number:Le},__type__:{object:Dt,boolean:nt,number:Le}},value:{number:Le,undefined:"undefined"},__type__:{object:Dt}},groups:{useDefaultGroups:{boolean:nt},__any__:Rf,__type__:{object:Dt}},interaction:{dragNodes:{boolean:nt},dragView:{boolean:nt},hideEdgesOnDrag:{boolean:nt},hideEdgesOnZoom:{boolean:nt},hideNodesOnDrag:{boolean:nt},hover:{boolean:nt},keyboard:{enabled:{boolean:nt},speed:{x:{number:Le},y:{number:Le},zoom:{number:Le},__type__:{object:Dt}},bindToWindow:{boolean:nt},autoFocus:{boolean:nt},__type__:{object:Dt,boolean:nt}},multiselect:{boolean:nt},navigationButtons:{boolean:nt},selectable:{boolean:nt},selectConnectedEdges:{boolean:nt},hoverConnectedEdges:{boolean:nt},tooltipDelay:{number:Le},zoomView:{boolean:nt},zoomSpeed:{number:Le},__type__:{object:Dt}},layout:{randomSeed:{undefined:"undefined",number:Le,string:ct},improvedLayout:{boolean:nt},clusterThreshold:{number:Le},hierarchical:{enabled:{boolean:nt},levelSeparation:{number:Le},nodeSpacing:{number:Le},treeSpacing:{number:Le},blockShifting:{boolean:nt},edgeMinimization:{boolean:nt},parentCentralization:{boolean:nt},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Dt,boolean:nt}},__type__:{object:Dt}},manipulation:{enabled:{boolean:nt},initiallyActive:{boolean:nt},addNode:{boolean:nt,function:"function"},addEdge:{boolean:nt,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Dt,boolean:nt,function:"function"}},deleteNode:{boolean:nt,function:"function"},deleteEdge:{boolean:nt,function:"function"},controlNodeStyle:Rf,__type__:{object:Dt,boolean:nt}},nodes:Rf,physics:{enabled:{boolean:nt},barnesHut:{theta:{number:Le},gravitationalConstant:{number:Le},centralGravity:{number:Le},springLength:{number:Le},springConstant:{number:Le},damping:{number:Le},avoidOverlap:{number:Le},__type__:{object:Dt}},forceAtlas2Based:{theta:{number:Le},gravitationalConstant:{number:Le},centralGravity:{number:Le},springLength:{number:Le},springConstant:{number:Le},damping:{number:Le},avoidOverlap:{number:Le},__type__:{object:Dt}},repulsion:{centralGravity:{number:Le},springLength:{number:Le},springConstant:{number:Le},nodeDistance:{number:Le},damping:{number:Le},__type__:{object:Dt}},hierarchicalRepulsion:{centralGravity:{number:Le},springLength:{number:Le},springConstant:{number:Le},nodeDistance:{number:Le},damping:{number:Le},avoidOverlap:{number:Le},__type__:{object:Dt}},maxVelocity:{number:Le},minVelocity:{number:Le},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:nt},iterations:{number:Le},updateInterval:{number:Le},onlyDynamicEdges:{boolean:nt},fit:{boolean:nt},__type__:{object:Dt,boolean:nt}},timestep:{number:Le},adaptiveTimestep:{boolean:nt},wind:{x:{number:Le},y:{number:Le},__type__:{object:Dt}},__type__:{object:Dt,boolean:nt}},autoResize:{boolean:nt},clickToUse:{boolean:nt},locale:{string:ct},locales:{__any__:{any:"any"},__type__:{object:Dt}},height:{string:ct},width:{string:ct},__type__:{object:Dt}},lb={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},$x=(n,t,e)=>!(!n.includes("physics")||!lb.physics.solver.includes(t)||e.physics.solver===t||"wind"===t);class Wx{constructor(){}getDistances(t,e,i){const r={},s=t.edges;for(let d=0;d<e.length;d++){const g={};r[e[d]]=g;for(let _=0;_<e.length;_++)g[e[_]]=d==_?0:1e9}for(let d=0;d<i.length;d++){const f=s[i[d]];!0===f.connected&&void 0!==r[f.fromId]&&void 0!==r[f.toId]&&(r[f.fromId][f.toId]=1,r[f.toId][f.fromId]=1)}const l=e.length;for(let d=0;d<l;d++){const f=e[d],g=r[f];for(let _=0;_<l-1;_++){const b=e[_],w=r[b];for(let T=_+1;T<l;T++){const N=e[T],F=r[N],I=Math.min(w[N],w[f]+g[N]);w[N]=I,F[b]=I}}}return r}}class HI{constructor(t,e,i){this.body=t,this.springLength=e,this.springConstant=i,this.distanceSolver=new Wx}setOptions(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}solve(t,e,i=!1){const r=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(r),this._createK_matrix(r),this._createE_matrix();let d=0;const f=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));let _=1e9,b=0,w=0,T=0,N=0,F=0;for(;_>.01&&d<f;)for(d+=1,[b,_,w,T]=this._getHighestEnergyNode(i),N=_,F=0;N>1&&F<5;)F+=1,this._moveNode(b,w,T),[N,w,T]=this._getEnergy(b)}_getHighestEnergyNode(t){const e=this.body.nodeIndices,i=this.body.nodes;let r=0,s=e[0],l=0,d=0;for(let f=0;f<e.length;f++){const g=e[f];if(!0!==i[g].predefinedPosition||!0===i[g].isCluster&&!0===t||!0!==i[g].options.fixed.x||!0!==i[g].options.fixed.y){const[_,b,w]=this._getEnergy(g);r<_&&(r=_,s=g,l=b,d=w)}}return[s,r,l,d]}_getEnergy(t){const[e,i]=this.E_sums[t];return[Math.sqrt(e**2+i**2),e,i]}_moveNode(t,e,i){const r=this.body.nodeIndices,s=this.body.nodes;let l=0,d=0,f=0;const g=s[t].x,_=s[t].y,b=this.K_matrix[t],w=this.L_matrix[t];for(let J=0;J<r.length;J++){const K=r[J];if(K!==t){const ye=s[K].x,Fe=s[K].y,Pe=b[K],Xe=w[K],dt=1/((g-ye)**2+(_-Fe)**2)**1.5;l+=Pe*(1-Xe*(_-Fe)**2*dt),d+=Pe*(Xe*(g-ye)*(_-Fe)*dt),f+=Pe*(1-Xe*(g-ye)**2*dt)}}const L=(e/l+i/d)/(d/l-f/d);s[t].x+=-(d*L+e)/l,s[t].y+=L,this._updateE_matrix(t)}_createL_matrix(t){const e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(let r=0;r<e.length;r++){this.L_matrix[e[r]]={};for(let s=0;s<e.length;s++)this.L_matrix[e[r]][e[s]]=i*t[e[r]][e[s]]}}_createK_matrix(t){const e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(let r=0;r<e.length;r++){this.K_matrix[e[r]]={};for(let s=0;s<e.length;s++)this.K_matrix[e[r]][e[s]]=i*t[e[r]][e[s]]**-2}}_createE_matrix(){const t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(let i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(let i=0;i<t.length;i++){const r=t[i],s=e[r].x,l=e[r].y;let d=0,f=0;for(let g=i;g<t.length;g++){const _=t[g];if(_!==r){const b=e[_].x,w=e[_].y,T=1/Math.sqrt((s-b)**2+(l-w)**2);this.E_matrix[r][g]=[this.K_matrix[r][_]*(s-b-this.L_matrix[r][_]*(s-b)*T),this.K_matrix[r][_]*(l-w-this.L_matrix[r][_]*(l-w)*T)],this.E_matrix[_][i]=this.E_matrix[r][g],d+=this.E_matrix[r][g][0],f+=this.E_matrix[r][g][1]}}this.E_sums[r]=[d,f]}}_updateE_matrix(t){const e=this.body.nodeIndices,i=this.body.nodes,r=this.E_matrix[t],s=this.K_matrix[t],l=this.L_matrix[t],d=i[t].x,f=i[t].y;let g=0,_=0;for(let b=0;b<e.length;b++){const w=e[b];if(w!==t){const T=r[b],N=T[0],F=T[1],I=i[w].x,P=i[w].y,L=1/Math.sqrt((d-I)**2+(f-P)**2),U=s[w]*(d-I-l[w]*(d-I)*L),J=s[w]*(f-P-l[w]*(f-P)*L);r[b]=[U,J],g+=U,_+=J;const K=this.E_sums[w];K[0]+=U-N,K[1]+=J-F}}this.E_sums[t]=[g,_]}}function Ct(n,t,e){if(!(this instanceof Ct))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:lI,clickToUse:!1},Object.assign(this.options,this.defaultOptions),this.body={container:n,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new yR(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Ax,this.canvas=new II(this.body),this.selectionHandler=new z1(this.body,this.canvas),this.interactionHandler=new PI(this.body,this.canvas,this.selectionHandler),this.view=new MR(this.body,this.canvas),this.renderer=new ya(this.body,this.canvas),this.physics=new MI(this.body),this.layoutEngine=new OR(this.body),this.clustering=new AI(this.body),this.manipulation=new Ux(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new _I(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new DI(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new HI(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(e),this.setData(t)}co()(Ct.prototype),Ct.prototype.setOptions=function(n){if(null===n&&(n=void 0),void 0!==n){if(!0===WO.validate(n,$1)&&console.error("%cErrors have been found in the supplied options object.",lx),Df(["locale","locales","clickToUse"],this.options,n),void 0!==n.locale&&(n.locale=function(n,t){try{const[e,i]=t.split(/[-_ /]/,2),r=null!=e?e.toLowerCase():null,s=null!=i?i.toUpperCase():null;if(r&&s){const l=r+"-"+s;if(Object.prototype.hasOwnProperty.call(n,l))return l;console.warn(`Unknown variant ${s} of language ${r}.`)}if(r){const l=r;if(Object.prototype.hasOwnProperty.call(n,l))return l;console.warn(`Unknown language ${r}`)}return console.warn(`Unknown locale ${t}, falling back to English.`),"en"}catch(e){return console.error(e),console.warn(`Unexpected error while normalizing locale ${t}, falling back to English.`),"en"}}(n.locales||this.options.locales,n.locale)),n=this.layoutEngine.setOptions(n.layout,n),this.canvas.setOptions(n),this.groups.setOptions(n.groups),this.nodesHandler.setOptions(n.nodes),this.edgesHandler.setOptions(n.edges),this.physics.setOptions(n.physics),this.manipulation.setOptions(n.manipulation,n,this.options),this.interactionHandler.setOptions(n.interaction),this.renderer.setOptions(n.interaction),this.selectionHandler.setOptions(n.interaction),void 0!==n.groups&&this.body.emitter.emit("refreshNodes"),"configure"in n&&(this.configurator||(this.configurator=new class{constructor(t,e,i,r=1,s=(()=>!1)){this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new nx(r),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"==typeof t)this.options.filter=t;else if(Array.isArray(t))this.options.filter=t.join();else if("object"==typeof t){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const t=this.options.filter;let e=0,i=!1;for(const r in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,r)&&(this.allowCreation=!1,i=!1,"function"==typeof t?(i=t(r,[]),i=i||this._handleObject(this.configureOptions[r],[r],!0)):(!0===t||-1!==t.indexOf(r))&&(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(let t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}_makeItem(t,...e){if(!0===this.allowCreation){const i=document.createElement("div");return i.className="vis-configuration vis-config-item vis-config-s"+t.length,e.forEach(r=>{i.appendChild(r)}),this.domElements.push(i),this.domElements.length}return 0}_makeHeader(t){const e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}_makeLabel(t,e,i=!1){const r=document.createElement("div");if(r.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(T1("i","b",t))}else r.innerText=t+":";return r}_makeDropdown(t,e,i){const r=document.createElement("select");r.className="vis-configuration vis-config-select";let s=0;void 0!==e&&-1!==t.indexOf(e)&&(s=t.indexOf(e));for(let f=0;f<t.length;f++){const g=document.createElement("option");g.value=t[f],f===s&&(g.selected="selected"),g.innerText=t[f],r.appendChild(g)}const l=this;r.onchange=function(){l._update(this.value,i)};const d=this._makeLabel(i[i.length-1],i);this._makeItem(i,d,r)}_makeRange(t,e,i){const r=t[0],s=t[1],l=t[2],d=t[3],f=document.createElement("input");f.className="vis-configuration vis-config-range";try{f.type="range",f.min=s,f.max=l}catch(F){}f.step=d;let g="",_=0;if(void 0!==e){const F=1.2;e<0&&e*F<s?(f.min=Math.ceil(e*F),_=f.min,g="range increased"):e/F<s&&(f.min=Math.ceil(e/F),_=f.min,g="range increased"),e*F>l&&1!==l&&(f.max=Math.ceil(e*F),_=f.max,g="range increased"),f.value=e}else f.value=r;const b=document.createElement("input");b.className="vis-configuration vis-config-rangeinput",b.value=f.value;const w=this;f.onchange=function(){b.value=this.value,w._update(Number(this.value),i)},f.oninput=function(){b.value=this.value};const T=this._makeLabel(i[i.length-1],i),N=this._makeItem(i,T,f,b);""!==g&&this.popupHistory[N]!==_&&(this.popupHistory[N]=_,this._setupPopup(g,N))}_makeButton(){if(!0===this.options.showButton){const t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){const e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(t,e,i){const r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=t,void 0!==e&&(r.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));const s=this;r.onchange=function(){s._update(this.checked,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,r)}_makeTextInput(t,e,i){const r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=e,e!==t&&this.changedOptions.push({path:i,value:e});const s=this;r.onchange=function(){s._update(this.value,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,r)}_makeColorField(t,e,i){const r=t[1],s=document.createElement("div");"none"!==(e=void 0===e?r:e)?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?r:e,s.onclick=()=>{this._showColorPicker(e,s,i)};const l=this._makeLabel(i[i.length-1],i);this._makeItem(i,l,s)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(r=>{const s="rgba("+r.r+","+r.g+","+r.b+","+r.a+")";e.style.backgroundColor=s,this._update(s,i)}),this.colorPicker.setCloseCallback(()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}})}_handleObject(t,e=[],i=!1){let r=!1;const s=this.options.filter;let l=!1;for(const d in t)if(Object.prototype.hasOwnProperty.call(t,d)){r=!0;const f=t[d],g=Hg(e,d);if("function"==typeof s&&(r=s(d,e),!1===r&&!Array.isArray(f)&&"string"!=typeof f&&"boolean"!=typeof f&&f instanceof Object&&(this.allowCreation=!1,r=this._handleObject(f,g,!0),this.allowCreation=!1===i)),!1!==r){l=!0;const _=this._getValue(g);if(Array.isArray(f))this._handleArray(f,_,g);else if("string"==typeof f)this._makeTextInput(f,_,g);else if("boolean"==typeof f)this._makeCheckbox(f,_,g);else if(f instanceof Object){if(!this.hideOption(e,d,this.moduleOptions))if(void 0!==f.enabled){const b=Hg(g,"enabled"),w=this._getValue(b);if(!0===w){const T=this._makeLabel(d,g,!0);this._makeItem(g,T),l=this._handleObject(f,g)||l}else this._makeCheckbox(f,w,g)}else{const b=this._makeLabel(d,g,!0);this._makeItem(g,b),l=this._handleObject(f,g)||l}}else console.error("dont know how to handle",f,d,g)}}return l}_handleArray(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){const i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e,i={}){let r=i;t="false"!==(t="true"===t||t)&&t;for(let s=0;s<e.length;s++)"global"!==e[s]&&(void 0===r[e[s]]&&(r[e[s]]={}),s!==e.length-1?r=r[e[s]]:r[e[s]]=t);return i}_printOptions(){const t=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(T1("pre","const options = "+JSON.stringify(t,null,2)))}getOptions(){const t={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}(this,this.body.container,lb,this.canvas.pixelRatio,$x)),this.configurator.setOptions(n.configure)),this.configurator&&!0===this.configurator.options.enabled){const i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Jn(i.nodes,this.nodesHandler.options),Jn(i.edges,this.edgesHandler.options),Jn(i.layout,this.layoutEngine.options),Jn(i.interaction,this.selectionHandler.options),Jn(i.interaction,this.renderer.options),Jn(i.interaction,this.interactionHandler.options),Jn(i.manipulation,this.manipulation.options),Jn(i.physics,this.physics.options),Jn(i.global,this.canvas.options),Jn(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==n.clickToUse?!0===n.clickToUse?void 0===this.activator&&(this.activator=new ox(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Ct.prototype._updateVisibleIndices=function(){const n=this.body.nodes,t=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&!this.clustering._isClusteredNode(e)&&!1===n[e].options.hidden&&this.body.nodeIndices.push(n[e].id);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const i=t[e],r=n[i.fromId],s=n[i.toId],l=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(e)&&!1===i.options.hidden&&l&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(i.id)}},Ct.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})},Ct.prototype.setData=function(n){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),n&&n.dot&&(n.nodes||n.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(n&&n.options),n&&n.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const t=N1(n.dot);this.setData(t)}else if(n&&n.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const t=function(n,t){const e={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(e.nodes.fixed=t.fixed),null!=t.parseColor&&(e.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(e.edges.inheritColor=t.inheritColor));const r=n.edges.map(l=>{const d={from:l.source,id:l.id,to:l.target};return null!=l.attributes&&(d.attributes=l.attributes),null!=l.label&&(d.label=l.label),null!=l.attributes&&null!=l.attributes.title&&(d.title=l.attributes.title),"Directed"===l.type&&(d.arrows="to"),l.color&&!1===e.edges.inheritColor&&(d.color=l.color),d});return{nodes:n.nodes.map(l=>{const d={id:l.id,fixed:e.nodes.fixed&&null!=l.x&&null!=l.y};return null!=l.attributes&&(d.attributes=l.attributes),null!=l.label&&(d.label=l.label),null!=l.size&&(d.size=l.size),null!=l.attributes&&null!=l.attributes.title&&(d.title=l.attributes.title),null!=l.title&&(d.title=l.title),null!=l.x&&(d.x=l.x),null!=l.y&&(d.y=l.y),null!=l.color&&(d.color=!0===e.nodes.parseColor?l.color:{background:l.color,border:l.color,highlight:{background:l.color,border:l.color},hover:{background:l.color,border:l.color}}),d}),edges:r}}(n.gephi);this.setData(t)}else this.nodesHandler.setData(n&&n.nodes,!0),this.edgesHandler.setData(n&&n.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Ct.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const n in this.body.nodes)!Object.prototype.hasOwnProperty.call(this.body.nodes,n)||delete this.body.nodes[n];for(const n in this.body.edges)!Object.prototype.hasOwnProperty.call(this.body.edges,n)||delete this.body.edges[n];qc(this.body.container)},Ct.prototype._updateValueRange=function(n){let t,e,i,r=0;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const s=n[t].getValue();void 0!==s&&(e=void 0===e?s:Math.min(s,e),i=void 0===i?s:Math.max(s,i),r+=s)}if(void 0!==e&&void 0!==i)for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&n[t].setValueRange(e,i,r)},Ct.prototype.isActive=function(){return!this.activator||this.activator.active},Ct.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Ct.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Ct.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Ct.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Ct.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Ct.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Ct.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Ct.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Ct.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Ct.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Ct.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},Ct.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},Ct.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},Ct.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},Ct.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},Ct.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Ct.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Ct.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Ct.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Ct.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Ct.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Ct.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Ct.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Ct.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Ct.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Ct.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Ct.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},Ct.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Ct.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Ct.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Ct.prototype.getConnectedNodes=function(n){return void 0!==this.body.nodes[n]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Ct.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Ct.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Ct.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Ct.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Ct.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Ct.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Ct.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},Ct.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},Ct.prototype.getNodeAt=function(){const n=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},Ct.prototype.getEdgeAt=function(){const n=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==n&&void 0!==n.id?n.id:n},Ct.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Ct.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Ct.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},Ct.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Ct.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Ct.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Ct.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Ct.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Ct.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Ct.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Ct.prototype.getOptionsFromConfigurator=function(){let n={};return this.configurator&&(n=this.configurator.getOptions.apply(this.configurator)),n};let Kg=(()=>{class n{constructor(){this.click=new u.vpe,this.doubleClick=new u.vpe,this.oncontext=new u.vpe,this.hold=new u.vpe,this.release=new u.vpe,this.select=new u.vpe,this.selectNode=new u.vpe,this.selectEdge=new u.vpe,this.deselectNode=new u.vpe,this.deselectEdge=new u.vpe,this.dragStart=new u.vpe,this.dragging=new u.vpe,this.dragEnd=new u.vpe,this.hoverNode=new u.vpe,this.blurNode=new u.vpe,this.hoverEdge=new u.vpe,this.blurEdge=new u.vpe,this.zoom=new u.vpe,this.showPopup=new u.vpe,this.hidePopup=new u.vpe,this.startStabilizing=new u.vpe,this.stabilizationProgress=new u.vpe,this.stabilizationIterationsDone=new u.vpe,this.stabilized=new u.vpe,this.resize=new u.vpe,this.initRedraw=new u.vpe,this.beforeDrawing=new u.vpe,this.afterDrawing=new u.vpe,this.animationFinished=new u.vpe,this.configChange=new u.vpe,this.networks={}}create(e,i,r,s){if(this.networks[e])throw new Error(`Network with id ${e} already exists.`);this.networks[e]=new Ct(i,r,s)}destroy(e){this.networks[e]&&(this.networks[e].destroy(),delete this.networks[e])}on(e,i,r){if(this.networks[e]){const s=this;return this.networks[e].on(i,l=>{const d=s[i];d&&d.emit(l?[e].concat(l):e),r&&l.event&&l.event.preventDefault()}),!0}return!1}off(e,i){this.networks[e]&&this.networks[e].off(i)}once(e,i){if(this.networks[e]){const r=this;return this.networks[e].on(i,s=>{const l=r[i];l&&(l.emit(s?[e].concat(s):e),this.off(e,i))}),!0}return!1}setData(e,i){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].setData(i)}setOptions(e,i){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].setOptions(i)}selectNodes(e,i,r){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].selectNodes(i,r)}setSelection(e,i,r={}){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].setSelection(i,r)}getSelection(e){if(this.networks[e])return this.networks[e].getSelection()}getSelectedNodes(e){if(this.networks[e])return this.networks[e].getSelectedNodes()}getSelectedEdges(e){if(this.networks[e])return this.networks[e].getSelectedEdges()}unselectAll(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].unselectAll()}fit(e,i){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].fit(i)}redraw(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].redraw()}addNodeMode(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].addNodeMode()}enableEditMode(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].enableEditMode()}addEdgeMode(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].addEdgeMode()}disableEditMode(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].disableEditMode()}deleteSelected(e){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].deleteSelected()}cluster(e,i){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].cluster(i)}clusterByConnection(e,i,r){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].clusterByConnection(i,r)}clusterByHubsize(e,i,r){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].clusterByHubsize(i,r)}clusterOutliers(e,i){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].clusterOutliers(i)}findNode(e,i){if(this.networks[e])return this.networks[e].findNode(i);throw new Error(`Network with id ${e} not found.`)}getClusteredEdges(e,i){if(this.networks[e])return this.networks[e].getClusteredEdges(i);throw new Error(`Network with id ${e} not found.`)}getBaseEdge(e,i){if(this.networks[e])return this.networks[e].getBaseEdge(i);throw new Error(`Network with id ${e} not found.`)}updateEdge(e,i,r){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].updateEdge(i,r)}updateClusteredNode(e,i,r){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].updateClusteredNode(i,r)}getNodesInCluster(e,i){if(this.networks[e])return this.networks[e].getNodesInCluster(i);throw new Error(`Network with id ${e} not found.`)}openCluster(e,i,r){if(!this.networks[e])throw new Error(`Network with id ${e} not found.`);this.networks[e].openCluster(i,r)}isCluster(e,i){return!!this.networks[e]&&this.networks[e].isCluster(i)}getSeed(e){return this.networks[e]?this.networks[e].getSeed():-1}canvasToDOM(e,i){return this.networks[e].canvasToDOM(i)}DOMtoCanvas(e,i){return this.networks[e].DOMtoCanvas(i)}getNodeAt(e,i){return this.networks[e].getNodeAt(i)}getEdgeAt(e,i){return this.networks[e].getEdgeAt(i)}getConnectedEdges(e,i){return this.networks[e].getConnectedEdges(i)}getConnectedNodes(e,i){return this.networks[e].getConnectedNodes(i)}getPositions(e,i){return this.networks[e].getPositions(i)}getBoundingBox(e,i){return this.networks[e].getBoundingBox(i)}storePositions(e){return this.networks[e].storePositions()}moveTo(e,i){return this.networks[e].moveTo(i)}startSimulation(e){return this.networks[e].startSimulation()}stopSimulation(e){return this.networks[e].stopSimulation()}getScale(e){if(this.networks[e])return this.networks[e].getScale();throw new Error(`Network with id ${e} not found.`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Gx=O(4157),gs=O.n(Gx);class Jg{constructor(t,e,i){this.name=t,this.drake=e,this.options=i,this.initEvents=!1}}const Er={Cancel:"cancel",Cloned:"cloned",Drag:"drag",DragEnd:"dragend",Drop:"drop",Out:"out",Over:"over",Remove:"remove",Shadow:"shadow",DropModel:"dropModel",RemoveModel:"removeModel"},Yx=Object.keys(Er).map(n=>Er[n]),cb=gs()||Gx;class Xg{constructor(t=cb){this.build=t}}const eu=(n,t,e)=>i=>i.pipe((0,jn.h)(({event:r,name:s})=>r===n&&(void 0===t||s===t)),(0,Wt.U)(({name:r,args:s})=>e(r,s))),ub=(n,[t,e,i])=>({name:n,el:t,container:e,source:i});let W1=(()=>{class n{constructor(e=null){this.drakeFactory=e,this.dispatch$=new ln.x,this.drag=i=>this.dispatch$.pipe(eu(Er.Drag,i,(r,[s,l])=>({name:r,el:s,source:l}))),this.dragend=i=>this.dispatch$.pipe(eu(Er.DragEnd,i,(r,[s])=>({name:r,el:s}))),this.drop=i=>this.dispatch$.pipe(eu(Er.Drop,i,(r,[s,l,d,f])=>({name:r,el:s,target:l,source:d,sibling:f}))),this.elContainerSource=i=>r=>this.dispatch$.pipe(eu(i,r,ub)),this.cancel=this.elContainerSource(Er.Cancel),this.remove=this.elContainerSource(Er.Remove),this.shadow=this.elContainerSource(Er.Shadow),this.over=this.elContainerSource(Er.Over),this.out=this.elContainerSource(Er.Out),this.cloned=i=>this.dispatch$.pipe(eu(Er.Cloned,i,(r,[s,l,d])=>({name:r,clone:s,original:l,cloneType:d}))),this.dropModel=i=>this.dispatch$.pipe(eu(Er.DropModel,i,(r,[s,l,d,f,g,_,b,w,T])=>({name:r,el:s,target:l,source:d,sibling:f,item:g,sourceModel:_,targetModel:b,sourceIndex:w,targetIndex:T}))),this.removeModel=i=>this.dispatch$.pipe(eu(Er.RemoveModel,i,(r,[s,l,d,f,g,_])=>({name:r,el:s,container:l,source:d,item:f,sourceModel:g,sourceIndex:_}))),this.groups={},null===this.drakeFactory&&(this.drakeFactory=new Xg)}add(e){if(this.find(e.name))throw new Error('Group named: "'+e.name+'" already exists.');return this.groups[e.name]=e,this.handleModels(e),this.setupEvents(e),e}find(e){return this.groups[e]}destroy(e){let i=this.find(e);!i||(i.drake&&i.drake.destroy(),delete this.groups[e])}createGroup(e,i){return this.add(new Jg(e,this.drakeFactory.build([],i),i))}handleModels({name:e,drake:i,options:r}){let s,l,d;i.on("remove",(f,g,_)=>{if(!i.models)return;let b=i.models[i.containers.indexOf(_)];b=b.slice(0);const w=b.splice(l,1)[0];this.dispatch$.next({event:Er.RemoveModel,name:e,args:[f,g,_,w,b,l]})}),i.on("drag",(f,g)=>{!i.models||(s=f,l=this.domIndexOf(f,g))}),i.on("drop",(f,g,_,b)=>{if(!i.models||!g)return;d=this.domIndexOf(f,g);let N,w=i.models[i.containers.indexOf(_)],T=i.models[i.containers.indexOf(g)];if(g===_)w=w.slice(0),N=w.splice(l,1)[0],w.splice(d,0,N),T=w;else{let F=s!==f;if(N=w[l],F){if(!r.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");N=r.copyItem(N)}if(F||(w=w.slice(0),w.splice(l,1)),T=T.slice(0),T.splice(d,0,N),F)try{g.removeChild(f)}catch(I){}}this.dispatch$.next({event:Er.DropModel,name:e,args:[f,g,_,b,N,w,T,l,d]})})}setupEvents(e){if(e.initEvents)return;e.initEvents=!0;const i=e.name;Yx.forEach(s=>{e.drake.on(s,(...l)=>{this.dispatch$.next({event:s,name:i,args:l})})})}domIndexOf(e,i){return Array.prototype.indexOf.call(i.children,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Xg,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),zI=(()=>{class n{constructor(e,i){this.el=e,this.dragulaService=i,this.dragulaModelChange=new u.vpe}get container(){return this.el&&this.el.nativeElement}ngOnChanges(e){if(e&&e.dragula){const{previousValue:i,currentValue:r}=e.dragula;let d=!!r;!!i&&this.teardown(i),d&&this.setup()}else if(e&&e.dragulaModel){const{previousValue:i,currentValue:r}=e.dragulaModel,{drake:l}=this.group;if(this.dragula&&l){l.models=l.models||[];let d=l.models.indexOf(i);-1!==d?(l.models.splice(d,1),r&&l.models.splice(d,0,r)):r&&l.models.push(r)}}}setup(){let i=this.dragulaService.find(this.dragula);i||(i=this.dragulaService.createGroup(this.dragula,{})),(r=>{this.dragulaModel&&(r.drake.models?r.drake.models.push(this.dragulaModel):r.drake.models=[this.dragulaModel])})(i),i.drake.containers.push(this.container),this.subscribe(this.dragula),this.group=i}subscribe(e){this.subs=new As.w0,this.subs.add(this.dragulaService.dropModel(e).subscribe(({source:i,target:r,sourceModel:s,targetModel:l})=>{i===this.el.nativeElement?this.dragulaModelChange.emit(s):r===this.el.nativeElement&&this.dragulaModelChange.emit(l)})),this.subs.add(this.dragulaService.removeModel(e).subscribe(({source:i,sourceModel:r})=>{i===this.el.nativeElement&&this.dragulaModelChange.emit(r)}))}teardown(e){this.subs&&this.subs.unsubscribe();const i=this.dragulaService.find(e);if(i){const r=i.drake.containers.indexOf(this.el.nativeElement);if(-1!==r&&i.drake.containers.splice(r,1),this.dragulaModel&&i.drake&&i.drake.models){let s=i.drake.models.indexOf(this.dragulaModel);-1!==s&&i.drake.models.splice(s,1)}}}ngOnDestroy(){this.teardown(this.dragula)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(W1))},n.\u0275dir=u.lG2({type:n,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[u.TTD]}),n})(),UI=(()=>{class n{static forRoot(){return{ngModule:n,providers:[W1]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new Xg((n,t)=>new qx(n,t));class qx{constructor(t=[],e={},i){this.containers=t,this.options=e,this.models=i,this.dragging=!1,this.emitter$=new ln.x,this.subs=new As.w0}start(t){this.dragging=!0}end(){this.dragging=!1}cancel(t){this.dragging=!1}remove(){this.dragging=!1}on(t,e){this.subs.add(this.emitter$.pipe((0,jn.h)(({eventType:i})=>i===t)).subscribe(({args:i})=>{e(...i)}))}destroy(){this.subs.unsubscribe()}emit(t,...e){this.emitter$.next({eventType:t,args:e})}}let $I=(()=>{class n{constructor(e,i){this.elementRef=e,this.visNetworkService=i,this.initialized=new u.vpe,this.isInitialized=!1,this.visNetworkContainer=e.nativeElement}ngOnInit(){!this.isInitialized&&this.visNetwork&&this.visNetworkData&&this.createNetwork()}ngOnChanges(e){!this.isInitialized&&this.visNetwork&&this.visNetworkData&&this.createNetwork();for(const i in e)e.hasOwnProperty(i)&&(e[i].isFirstChange()||("visData"===i&&this.visNetworkService.setData(this.visNetwork,e[i].currentValue),"visOptions"===i&&this.visNetworkService.setOptions(this.visNetwork,e[i].currentValue)))}ngOnDestroy(){this.isInitialized=!1,this.visNetworkService.destroy(this.visNetwork)}createNetwork(){this.visNetworkService.create(this.visNetwork,this.visNetworkContainer,this.visNetworkData,this.visNetworkOptions),this.isInitialized=!0,this.initialized.emit(this.visNetwork)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(Kg))},n.\u0275dir=u.lG2({type:n,selectors:[["","visNetwork",""]],inputs:{visNetwork:"visNetwork",visNetworkData:"visNetworkData",visNetworkOptions:"visNetworkOptions"},outputs:{initialized:"initialized"},features:[u.TTD]}),n})();function WI(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",8),u.TgZ(1,"h3"),u._uU(2,"Ring Designer"),u.qZA(),u.TgZ(3,"div",9),u.NdJ("initialized",function(){return u.CHM(e),u.oxw().networkInitialized()}),u.qZA(),u.qZA()}if(2&n){const e=u.oxw();u.xp6(3),u.Q6J("visNetwork",e.visNetwork)("visNetworkData",e.visNetworkData)("visNetworkOptions",e.visNetworkOptions)}}function GI(n,t){if(1&n&&(u.TgZ(0,"li",10),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.Oqu(e.user_name)}}let tu=(()=>{class n{constructor(e,i,r,s,l){this.visNetworkService=e,this.dragulaService=i,this.ringData=r,this.store=s,this.http=l,this.Participants="PARTICIPANTS",this.visNetwork="networkId1",this.allNodes=[],this.allEdges=[],this.selectedNode="",this.segments=[],this.newSegments=[],this.subs=new As.w0,this.cbNodeOwners$=this.store.pipe((0,Me.Ys)(dy)),this.cbNodeOwners$.subscribe(d=>{this.segments=d}),i.createGroup("PARTICIPANTS",{removeOnSpill:!0})}addNode(){const e=this.nodes.length,i=this.nodes.length+1;this.nodes.add({id:i,label:"New Node"}),this.edges.add({from:e,to:i}),this.visNetworkService.fit(this.visNetwork)}networkInitialized(){this.visNetworkService.on(this.visNetwork,"click"),this.visNetworkService.click.subscribe(e=>{e[0]===this.visNetwork&&(console.log(e[1]),this.selectedNode=e[1].nodes[0],this.currentNodeInfo=this.ringData.getCachedNodeInfo(this.selectedNode))})}buildNodes(){for(let e of this.segments){let i=this.ringData.getNodeInfo(e.pub_key);if(!i)break;this.nodes.add({id:i.node.pub_key,color:i.node.color,label:i.node.alias});for(let r of i.channels)if(!this.edges.get(r.channel_id)){let s={id:r.channel_id,from:r.node1_pub,to:r.node2_pub,dashes:!0};(!r.node1_policy||!r.node2_policy)&&(s.label="no info",s.color="#ffcc00"),this.edges.add(s)}}}ngOnInit(){this.segments=this.segments,this.nodes=new XA.DataSet,this.edges=new XA.DataSet([]),this.visNetworkData={nodes:this.nodes,edges:this.edges},this.visNetworkOptions={interaction:{hover:!0},manipulation:{enabled:!0},layout:{randomSeed:681154853},edges:{arrows:{}}},this.buildNodes()}ngOnDestroy(){this.visNetworkService.off(this.visNetwork,"click"),this.subs.unsubscribe(),this.dragulaService.destroy("PARTICIPANTS")}autoDesign(){console.log("auto design start");let e=this.segments.map(f=>f.pub_key);this.edges.clear();let i=[],r=e[0],s=e[0],l=0;for(;e&&l<this.segments.length;){let f=0,g=r,_=null;if(e.length>2){for(;_;)f+=1,_=this.ringData.nodeHasChannelWith(g,e[f]);r=e[f]}else r=2==e.length?e[0]:s;e=e.filter(b=>b!==g),g!=r&&(this.edges.add({from:g,to:r}),console.log(`${g} => ${r}`,e.length),i.push(g)),l++}console.log(i,e);let d=[];for(let f of i)d.push([f,this.ringData.getTgUserByPubkey(f)]);console.log(d,this.participants),this.ringData.setSegments(d),this.segments=d}persistOrder(){this.store.dispatch(xg(this.segments))}exportGraph(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Kg),u.Y36(W1),u.Y36(pa),u.Y36(Me.yh),u.Y36(qd))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-design"]],decls:11,vars:3,consts:[[1,"container-fluid"],[1,"row"],["class","col-md-8",4,"ngIf"],[1,"col-md-4"],["dragula","PARTICIPANTS","id","participants",1,"list-group",3,"dragulaModel","dragulaModelChange"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"col-md-12"],[1,"col-md-8"],[1,"network-canvas",3,"visNetwork","visNetworkData","visNetworkOptions","initialized"],[1,"list-group-item"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,WI,4,3,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"h3"),u._uU(5,"Ring order"),u.qZA(),u.TgZ(6,"ul",4),u.NdJ("dragulaModelChange",function(s){return i.segments=s}),u.YNc(7,GI,2,1,"li",5),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){return i.persistOrder()}),u._uU(9,"Persist"),u.qZA(),u.qZA(),u._UZ(10,"div",7),u.qZA(),u.qZA()),2&e&&(u.xp6(2),u.Q6J("ngIf",i.visNetworkData),u.xp6(4),u.Q6J("dragulaModel",i.segments),u.xp6(1),u.Q6J("ngForOf",i.segments))},directives:[Zt,zI,Ke,$I],styles:[".network-canvas[_ngcontent-%COMP%]{width:100%;height:700px;border:1px solid lightgray}"]}),n})();const G1=(0,Me.PH)("[RingSetting/API] Load RingSettings",(0,Me.Ky)()),YI=(0,Me.PH)("[RingSetting/API] Add RingSetting",(0,Me.Ky)()),Zx=(0,Me.PH)("[RingSetting/API] Remove RingSetting",(0,Me.Ky)()),Kx=(0,Me.PH)("[RingSetting/API] Upsert RingSetting",(0,Me.Ky)()),Y1=(0,Me.PH)("[RingSetting/API] Add RingSettings",(0,Me.Ky)()),qI=(0,Me.PH)("[RingSetting/API] Upsert RingSettings",(0,Me.Ky)()),Jx=(0,Me.PH)("[RingSetting/API] Update RingSetting",(0,Me.Ky)()),Xx=(0,Me.PH)("[RingSetting/API] Update RingSettings",(0,Me.Ky)()),ZI=(0,Me.PH)("[RingSetting/API] Delete RingSetting",(0,Me.Ky)()),KI=(0,Me.PH)("[RingSetting/API] Delete RingSettings",(0,Me.Ky)()),JI=(0,Me.PH)("[RingSetting/API] Clear RingSettings"),il="ringSettings",Dr=uy({selectId:function(n){return n.cleanRingName}}),db=Dr.getInitialState({}),vd=(0,Me.Lq)(db,(0,Me.on)(YI,(n,t)=>Dr.addOne(t.ringSetting,n)),(0,Me.on)(Kx,(n,t)=>Dr.upsertOne(t.ringSetting,n)),(0,Me.on)(Y1,(n,t)=>Dr.addMany(t.ringSettings,n)),(0,Me.on)(qI,(n,t)=>Dr.upsertMany(t.ringSettings,n)),(0,Me.on)(Jx,(n,t)=>Dr.updateOne(t.ringSetting,n)),(0,Me.on)(Xx,(n,t)=>Dr.updateMany(t.ringSettings,n)),(0,Me.on)(ZI,(n,t)=>Dr.removeOne(t.id,n)),(0,Me.on)(Zx,(n,t)=>Dr.removeOne(t.ringSetting,n)),(0,Me.on)(KI,(n,t)=>Dr.removeMany(t.ids,n)),(0,Me.on)(G1,(n,t)=>Dr.setAll(t.ringSettings,n)),(0,Me.on)(JI,n=>Dr.removeAll(n))),{selectAll:XI}=Dr.getSelectors(),Qx=XI,q1=(0,Me.ZF)(il),eT=(0,Me.P1)(q1,Qx);let Z1=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),mo=(()=>{class n extends Z1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const or=new u.OlP("NgValueAccessor"),FR={provide:or,useExisting:(0,u.Gpc)(()=>K1),multi:!0},BR=new u.OlP("CompositionEventMode");let K1=(()=>{class n extends Z1{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=$()?$().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(BR,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&u.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[u._Bn([FR]),u.qOj]}),n})();const Jr=new u.OlP("NgValidators"),wd=new u.OlP("NgAsyncValidators");function p(n){return null!=n}function m(n){const t=(0,u.QGY)(n)?(0,Mr.D)(n):n;return(0,u.CqO)(t),t}function y(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function C(n,t){return t.map(e=>e(n))}function S(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function j(n){return null!=n?function(n){if(!n)return null;const t=n.filter(p);return 0==t.length?null:function(e){return y(C(e,t))}}(S(n)):null}function ne(n){return null!=n?function(n){if(!n)return null;const t=n.filter(p);return 0==t.length?null:function(e){return function(...n){const t=(0,Tl.jO)(n),{args:e,keys:i}=n0(n),r=new Vn.y(s=>{const{length:l}=e;if(!l)return void s.complete();const d=new Array(l);let f=l,g=l;for(let _=0;_<l;_++){let b=!1;(0,Pa.Xf)(e[_]).subscribe(new Li.Q(s,w=>{b||(b=!0,g--),d[_]=w},()=>f--,void 0,()=>{(!f||!b)&&(g||s.next(i?gc(i,d):d),s.complete())}))}});return t?r.pipe(bp(t)):r}(C(e,t).map(m)).pipe((0,Wt.U)(y))}}(S(n)):null}function ue(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Je(n){return n?Array.isArray(n)?n:[n]:[]}function Ve(n,t){return Array.isArray(n)?n.includes(t):n===t}function Mt(n,t){const e=Je(t);return Je(n).forEach(r=>{Ve(e,r)||e.push(r)}),e}function $t(n,t){return Je(t).filter(e=>!Ve(n,e))}let hn=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=j(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n}),n})(),Cn=(()=>{class n extends hn{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();class ar extends hn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ff{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let iu=(()=>{class n extends Ff{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(ar,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[u.qOj]}),n})(),hb=(()=>{class n extends Ff{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Cn,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[u.qOj]}),n})();function X1(n,t){lN(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&jR(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&jR(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function oT(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function lN(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(ue(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(ue(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();oT(t._rawValidators,r),oT(t._rawAsyncValidators,r)}function jR(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Q1="VALID",cT="INVALID",fb="PENDING",ew="DISABLED";function dN(n){return(fN(n)?n.validators:n)||null}function UR(n){return Array.isArray(n)?j(n):n||null}function hN(n,t){return(fN(t)?t.asyncValidators:n)||null}function $R(n){return Array.isArray(n)?ne(n):n||null}function fN(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class pN{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=UR(this._rawValidators),this._composedAsyncValidatorFn=$R(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Q1}get invalid(){return this.status===cT}get pending(){return this.status==fb}get disabled(){return this.status===ew}get enabled(){return this.status!==ew}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=UR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$R(t)}addValidators(t){this.setValidators(Mt(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Mt(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($t(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($t(t,this._rawAsyncValidators))}hasValidator(t){return Ve(this._rawValidators,t)}hasAsyncValidator(t){return Ve(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=fb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ew,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Q1,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q1||this.status===fb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ew:Q1}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=fb,this._hasOwnPendingAsyncValidator=!0;const e=m(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof gN?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof PV&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ew:this.errors?cT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fb)?fb:this._anyControlsHaveStatus(cT)?cT:Q1}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fN(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uT extends pN{constructor(t=null,e,i){super(dN(e),hN(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class gN extends pN{constructor(t,e,i){super(dN(e),hN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof uT?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class PV extends pN{constructor(t,e,i){super(dN(e),hN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof uT?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const RV={provide:Cn,useExisting:(0,u.Gpc)(()=>dT)},tw=(()=>Promise.resolve(null))();let dT=(()=>{class n extends Cn{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.vpe,this.form=new gN({},j(e),ne(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){tw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),X1(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){tw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),lT(this._directives,e)})}addFormGroup(e){tw.then(()=>{const i=this._findContainer(e.path),r=new gN({});(function(n,t){lN(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){tw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){tw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Jr,10),u.Y36(wd,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&u.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([RV]),u.qOj]}),n})();const LV={provide:ar,useExisting:(0,u.Gpc)(()=>hT)},YR=(()=>Promise.resolve(null))();let hT=(()=>{class n extends ar{constructor(e,i,r,s){super(),this.control=new uT,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===K1?e=s:function(n){return Object.getPrototypeOf(n.constructor)===mo}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){X1(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){YR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;YR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Cn,9),u.Y36(Jr,10),u.Y36(wd,10),u.Y36(or,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([LV]),u.qOj,u.TTD]}),n})(),qR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),KR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const mN=new u.OlP("NgModelWithFormControlWarning");let gF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[KR]]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gF]}),n})(),sj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:mN,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gF]}),n})();var oj=O(3230);const aj=["addListener","removeListener"],lj=["addEventListener","removeEventListener"],cj=["on","off"];function Xr(n,t,e,i){if((0,ti.m)(e)&&(i=e,e=void 0),i)return Xr(n,t,e).pipe(bp(i));const[r,s]=function(n){return(0,ti.m)(n.addEventListener)&&(0,ti.m)(n.removeEventListener)}(n)?lj.map(l=>d=>n[l](t,d,e)):function(n){return(0,ti.m)(n.addListener)&&(0,ti.m)(n.removeListener)}(n)?aj.map(_F(n,t)):function(n){return(0,ti.m)(n.on)&&(0,ti.m)(n.off)}(n)?cj.map(_F(n,t)):[];if(!r&&(0,oj.z)(n))return(0,En.z)(l=>Xr(l,t,e))((0,Pa.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Vn.y(l=>{const d=(...f)=>l.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function _F(n,t){return e=>i=>n[e](t,i)}var yF=O(8864),fj=O(2627),pj=O(1877);function EN(n=0,t,e=yF.P){let i=-1;return null!=t&&((0,fj.K)(t)?e=t:i=t),new Vn.y(r=>{let s=(0,pj.q)(n)?+n-e.now():n;s<0&&(s=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:gj}=Array;function bF(n){return 1===n.length&&gj(n[0])?n[0]:n}function vF(...n){return 1===(n=bF(n)).length?(0,Pa.Xf)(n[0]):new Vn.y(function(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,Pa.Xf)(n[i]).subscribe(new Li.Q(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))}var wF=O(4324);function fT(...n){const t=(0,Tl.jO)(n),e=bF(n);return e.length?new Vn.y(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let l=0;!i.closed&&l<e.length;l++)(0,Pa.Xf)(e[l]).subscribe(new Li.Q(i,d=>{if(r[l].push(d),r.every(f=>f.length)){const f=r.map(g=>g.shift());i.next(t?t(...f):f),r.some((g,_)=>!g.length&&s[_])&&i.complete()}},()=>{s[l]=!0,!r[l].length&&i.complete()}));return()=>{r=s=null}}):ss.E}new Vn.y(wF.Z);var pT=O(5541),$i=O(170),DN=(O(4195),O(1121));function EF(){return(0,Sn.e)((n,t)=>{n.subscribe(new Li.Q(t,wF.Z))})}function DF(n,t){return t?e=>ka(t.pipe((0,An.q)(1),EF()),e.pipe(DF(n))):(0,En.z)((e,i)=>n(e,i).pipe((0,An.q)(1),function(n){return(0,Wt.U)(()=>n)}(e)))}function xF(n,t=yF.z){const e=EN(n,t);return DF(()=>e)}O(8150);const pb=["*"],aH=["dialog"];function Bf(n){return null!=n}function mb(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const SF={animation:!0,transitionTimerDelayMs:5};let Qr=(()=>{class n{constructor(){this.animation=SF.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();const b5=()=>{},{transitionTimerDelayMs:v5}=SF,iw=new Map,Rr=(n,t,e,i)=>{let r=i.context||{};const s=iw.get(t);if(s)switch(i.runningTransition){case"continue":return ss.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),iw.delete(t)}const l=e(t,i.animation,r)||b5;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>l()),(0,Ot.of)(void 0).pipe(function(n){return t=>new Vn.y(e=>t.subscribe(l=>n.run(()=>e.next(l)),l=>n.run(()=>e.error(l)),()=>n.run(()=>e.complete())))}(n));const d=new ln.x,f=new ln.x,g=d.pipe(function(...n){return t=>ka(t,(0,Ot.of)(...n))}(!0));iw.set(t,{transition$:d,complete:()=>{f.next(),f.complete()},context:r});const _=function(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const b=Xr(t,"transitionend").pipe((0,$i.R)(g),(0,jn.h)(({target:T})=>T===t));vF(EN(_+v5).pipe((0,$i.R)(g)),b,f).pipe((0,$i.R)(g)).subscribe(()=>{iw.delete(t),n.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()},TN=(n,t,e)=>{let{direction:i,maxHeight:r}=e;const{classList:s}=n;function l(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(t)return r||(r=function(n){if("undefined"==typeof navigator)return"0px";const{classList:t}=n,e=t.contains("show");e||t.add("show"),n.style.height="";const i=n.getBoundingClientRect().height+"px";return e||t.remove("show"),i}(n),e.maxHeight=r,n.style.height="show"!==i?r:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),mb(n),s.add("collapsing")),n.style.height="show"===i?r:"0px",()=>{l(),s.remove("collapsing"),n.style.height=""};l()};let kF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(e,i){2&e&&u.ekj("btn",!0)("active",i.active)("disabled",i.disabled)("focus",i.focused)}}),n})(),M5=0,yT=(()=>{class n{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+M5++,this.onChange=e=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(e){this.setDisabledState(e)}onRadioChange(e){this.writeValue(e.value),this.onChange(e.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(e){this._radios.add(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled=e,this._updateRadiosDisabled()}unregister(e){this._radios.delete(e)}writeValue(e){this._value=e,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(e=>e.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(e=>e.updateDisabled())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[u._Bn([{provide:or,useExisting:(0,u.Gpc)(()=>n),multi:!0}])]}),n})(),AN=(()=>{class n{constructor(e,i,r,s,l){this._group=e,this._label=i,this._renderer=r,this._element=s,this._cd=l,this._value=null,this._group.register(this),this.updateDisabled()}set value(e){this._value=e;const i=e?e.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",i),this._group.onRadioValueUpdate()}set disabled(e){this._disabled=!1!==e,this.updateDisabled()}set focused(e){this._label&&(this._label.focused=e),e||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(e){this.value!==e&&this._cd.markForCheck(),this._checked=this.value===e,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(yT),u.Y36(rw),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(e,i){1&e&&u.NdJ("change",function(){return i.onChange()})("focus",function(){return i.focused=!0})("blur",function(){return i.focused=!1}),2&e&&u.Ikx("checked",i.checked)("disabled",i.disabled)("name",i.nameAttr)},inputs:{value:"value",disabled:"disabled",name:"name"}}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),BF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),k5=(()=>{class n{constructor(e){this._ngbConfig=e}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Qr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Qr))},token:n,providedIn:"root"}),n})(),P5=(()=>{class n{constructor(e,i,r){this._element=e,this._zone=r,this.collapsed=!1,this.ngbCollapseChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=i.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:e}){e.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(e=this.collapsed){this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(e,i){return Rr(this._zone,this._element.nativeElement,TN,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(k5),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{collapsed:["ngbCollapse","collapsed"],animation:"animation"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[u.TTD]}),n})(),VF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var fn=(()=>{return(n=fn||(fn={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",fn;var n})();const ET=(n,t)=>!!t&&t.some(e=>e.contains(n)),UF=(n,t)=>!t||null!=function(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),e6="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const $F=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function WF(n){const t=Array.from(n.querySelectorAll($F)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const i6=/\s+/,YF=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(t);i=this.offset(t,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,r){const[s="top",l="center"]=i.split("-"),d=r?this.offset(t,!1):this.position(t,!1),f=this.getAllStyles(e),g=parseFloat(f.marginTop),_=parseFloat(f.marginBottom),b=parseFloat(f.marginLeft),w=parseFloat(f.marginRight);let T=0,N=0;switch(s){case"top":T=d.top-(e.offsetHeight+g+_);break;case"bottom":T=d.top+d.height;break;case"left":N=d.left-(e.offsetWidth+b+w);break;case"right":N=d.left+d.width}switch(l){case"top":T=d.top;break;case"bottom":T=d.top+d.height-e.offsetHeight;break;case"left":N=d.left;break;case"right":N=d.left+d.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?N=d.left+d.width/2-e.offsetWidth/2:T=d.top+d.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(N)}px, ${Math.round(T)}px)`;const F=e.getBoundingClientRect(),I=document.documentElement,P=window.innerHeight||I.clientHeight,L=window.innerWidth||I.clientWidth;return F.left>=0&&F.top>=0&&F.right<=L&&F.bottom<=P}};new Date(1882,10,12),new Date(2174,10,25);let t2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji,mF]]}),n})(),g6=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),BN=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&u.ekj("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),VN=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(u.Y36((0,u.Gpc)(()=>uw)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&u.Suo(r,BN,4),2&e){let s;u.iGM(s=u.CRH())&&(i.menuItems=s)}},hostVars:5,hostBindings:function(e,i){1&e&&u.NdJ("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return i.dropdown.onKeyDown(s)})("keydown.Space",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&e&&(u.uIk("x-placement",i.placement),u.ekj("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),MT=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(u.Y36((0,u.Gpc)(()=>uw)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&u.uIk("aria-expanded",i.dropdown.isOpen())}}),n})(),n2=(()=>{class n extends MT{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36((0,u.Gpc)(()=>uw)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&u.NdJ("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(s){return i.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return i.dropdown.onKeyDown(s)})("keydown.Home",function(s){return i.dropdown.onKeyDown(s)})("keydown.End",function(s){return i.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return i.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return i.dropdown.onKeyDown(s)}),2&e&&u.uIk("aria-expanded",i.dropdown.isOpen())},features:[u._Bn([{provide:MT,useExisting:(0,u.Gpc)(()=>n)}]),u.qOj]}),n})(),uw=(()=>{class n{constructor(e,i,r,s,l,d,f){this._changeDetector=e,this._document=r,this._ngZone=s,this._elementRef=l,this._renderer=d,this._closed$=new ln.x,this._bodyContainer=null,this._open=!1,this.openChange=new u.vpe,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=f?"static":"dynamic",this._zoneSubscription=s.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,An.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function(n,t,e,i,r,s,l,d){e&&n.runOutsideAngular((n=>e6?()=>setTimeout(()=>n(),100):n)(()=>{const g=Xr(t,"keydown").pipe((0,$i.R)(r),(0,jn.h)(w=>w.which===fn.Escape),ni(w=>w.preventDefault())),_=Xr(t,"mousedown").pipe((0,Wt.U)(w=>{const T=w.target;return 2!==w.button&&!ET(T,l)&&("inside"===e?ET(T,s)&&UF(T,d):"outside"===e?!ET(T,s):UF(T,d)||!ET(T,s))}),(0,$i.R)(r)),b=Xr(t,"mouseup").pipe((0,DN.M)(_),(0,jn.h)(([w,T])=>T),xF(0),(0,$i.R)(r));vF([g.pipe((0,Wt.U)(w=>0)),b.pipe((0,Wt.U)(w=>1))]).subscribe(w=>n.run(()=>i(w)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let s=-1,l=null;const d=this._isEventFromToggle(e);if(!d&&r.length&&r.forEach((f,g)=>{f.contains(e.target)&&(l=f),f===this._document.activeElement&&(s=g)}),i!==fn.Space&&i!==fn.Enter){if(i!==fn.Tab){if(d||l){if(this.open(),r.length){switch(i){case fn.ArrowDown:s=Math.min(s+1,r.length-1);break;case fn.ArrowUp:if(this._isDropup()&&-1===s){s=r.length-1;break}s=Math.max(s-1,0);break;case fn.Home:s=0;break;case fn.End:s=r.length-1}r[s].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const f=this._menu.nativeElement.querySelectorAll($F);e.shiftKey&&e.target===f[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===f[f.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Xr(e.target,"focusout").pipe((0,An.q)(1)).subscribe(({relatedTarget:f})=>{this._elementRef.nativeElement.contains(f)||this.close()})}}else l&&(!0===this.autoClose||"inside"===this.autoClose)&&Xr(l,"click").pipe((0,An.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function(n,t,e,i,r){let s=Array.isArray(e)?e:e.split(i6);const l=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],d=t.classList,f=T=>{const[N,F]=T.split("-"),I=[];return r&&(I.push(`${r}-${N}`),F&&I.push(`${r}-${N}-${F}`),I.forEach(P=>{d.add(P)})),I};r&&l.forEach(T=>{d.remove(`${r}-${T}`)});let g=s.findIndex(T=>"auto"===T);g>=0&&l.forEach(function(T){null==s.find(N=>-1!==N.search("^"+T))&&s.splice(g++,1,T)});const _=t.style;_.position="absolute",_.top="0",_.left="0",_["will-change"]="transform";let b=null,w=!1;for(b of s){let T=f(b);if(YF.positionElements(n,t,b,i)){w=!0;break}r&&T.forEach(N=>{d.remove(N)})}return w||(b=s[0],f(b),YF.positionElements(n,t,b,i)),b}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,s=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(s,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(s,"z-index","1050"),i.appendChild(s,r),i.appendChild(this._document.body,s)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,s=this._elementRef.nativeElement;r.removeClass(s,"dropup"),r.removeClass(s,"dropdown"),i.placement="static"===this.display?null:e;const l=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(s,l);const d=this._bodyContainer;d&&(r.removeClass(d,"dropup"),r.removeClass(d,"dropdown"),r.addClass(d,l))}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO),u.Y36(g6),u.Y36(Z),u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(LN,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(u.Suo(r,VN,5),u.Suo(r,MT,5)),2&e){let s;u.iGM(s=u.CRH())&&(i._menu=s.first),u.iGM(s=u.CRH())&&(i._anchor=s.first)}},hostVars:2,hostBindings:function(e,i){2&e&&u.ekj("show",i.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[u.TTD]}),n})(),i2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),r2=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Qr))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Qr))},token:n,providedIn:"root"}),n})();class cm{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}const m6=()=>{};let s2=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):m6}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,s=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${s+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Z))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Z))},token:n,providedIn:"root"}),n})(),_6=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,An.q)(1)).subscribe(()=>{Rr(this._zone,this._el.nativeElement,(e,i)=>{i&&mb(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Rr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class o2{close(t){}dismiss(t){}}class y6{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new ln.x,this._dismissed=new ln.x,this._hidden=new ln.x,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,$i.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,$i.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(i=>{!1!==i&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Ot.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),fT(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var dw=(()=>{return(n=dw||(dw={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",dw;var n})();let b6=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new ln.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new ln.x,this.hidden=new ln.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,An.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},l=fT(Rr(this._zone,e,()=>e.classList.remove("show"),i),Rr(this._zone,this._dialogEl.nativeElement,()=>{},i));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const e={animation:this.animation,runningTransition:"continue"};fT(Rr(this._zone,this._elRef.nativeElement,(s,l)=>{l&&mb(s),s.classList.add("show")},e),Rr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Xr(e,"keydown").pipe((0,$i.R)(this._closed$),(0,jn.h)(r=>r.which===fn.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(dw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Xr(this._dialogEl.nativeElement,"mousedown").pipe((0,$i.R)(this._closed$),ni(()=>i=!1),(0,Qi.w)(()=>Xr(e,"mouseup").pipe((0,$i.R)(this._closed$),(0,An.q)(1))),(0,jn.h)(({target:r})=>e===r)).subscribe(()=>{i=!0}),Xr(e,"click").pipe((0,$i.R)(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(dw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=WF(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Rr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Z),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&u.Gf(aH,7),2&e){let r;u.iGM(r=u.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:pb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&e&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),n})(),a2=(()=>{class n{constructor(e,i,r,s,l,d){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=l,this._ngZone=d,this._activeWindowCmptHasChanged=new ln.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=Xr(t,"focusin").pipe((0,$i.R)(e),(0,Wt.U)(s=>s.target));Xr(t,"keydown").pipe((0,$i.R)(e),(0,jn.h)(s=>s.which===fn.Tab),(0,DN.M)(r)).subscribe(([s,l])=>{const[d,f]=WF(t);(l===d||l===t)&&s.shiftKey&&(f.focus(),s.preventDefault()),l===f&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&Xr(t,"click").pipe((0,$i.R)(e),(0,DN.M)(r),(0,Wt.U)(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}open(e,i,r,s){const l=s.container instanceof HTMLElement?s.container:Bf(s.container)?this._document.querySelector(s.container):this._document.body,d=this._rendererFactory.createRenderer(null,null),f=this._scrollBar.compensate(),g=()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!l)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const _=new o2,b=this._getContentRef(e,s.injector||i,r,_,s);let w=!1!==s.backdrop?this._attachBackdrop(e,l):void 0,T=this._attachWindowComponent(e,l,b),N=new y6(T,b,w,s.beforeDismiss);return this._registerModalRef(N),this._registerWindowCmpt(T),N.result.then(f,f),N.result.then(g,g),_.close=F=>{N.close(F)},_.dismiss=F=>{N.dismiss(F)},this._applyWindowOptions(T.instance,s),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,s),w.changeDetectorRef.detectChanges()),T.changeDetectorRef.detectChanges(),N}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(_6).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,r){let l=e.resolveComponentFactory(b6).create(this._injector,r.nodes);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{Bf(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{Bf(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,s,l){return r?r instanceof u.Rgc?this._createFromTemplateRef(r,s):function(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,l):new cm([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}});return this._applicationRef.attachView(s),new cm([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new cm([[i]])}_createFromComponent(e,i,r,s,l){const d=e.resolveComponentFactory(r),f=u.zs3.create({providers:[{provide:o2,useValue:s}],parent:i}),g=d.create(f),_=g.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new cm([[_]],g.hostView,g)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(Z),u.LFG(s2),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.z2F),u.LFG(u.gxx),u.LFG(Z),u.LFG(s2),u.LFG(u.FYo),u.LFG(u.R0b))},token:n,providedIn:"root"}),n})(),v6=(()=>{class n{constructor(e,i,r,s){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=s}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(a2),u.LFG(r2))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u._Vd),u.LFG(u.gxx),u.LFG(a2),u.LFG(r2))},token:n,providedIn:"root"}),n})(),l2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[v6]}),n})(),h2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),D2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),x2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})(),I2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let P2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ji]]}),n})();const iz=[kF,PF,RF,BF,VF,t2,i2,l2,h2,v2,E2,D2,x2,A2,O2,I2,P2];let rz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[iz,kF,PF,RF,BF,VF,t2,i2,l2,h2,v2,E2,D2,x2,A2,O2,I2,P2]}),n})();function sz(n,t){if(1&n&&(u.ynx(0),u.TgZ(1,"tr"),u.TgZ(2,"th",15),u._uU(3),u.qZA(),u.TgZ(4,"td"),u._uU(5),u.qZA(),u.TgZ(6,"td"),u._uU(7),u.qZA(),u.TgZ(8,"td"),u._uU(9),u.qZA(),u.qZA(),u.BQk()),2&n){const e=t.$implicit;u.xp6(3),u.Oqu(e.pub_key),u.xp6(2),u.Oqu(e.nodename),u.xp6(2),u.Oqu(e.user_name),u.xp6(2),u.Oqu(e.capacity_sat)}}function oz(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li",16),u._uU(1),u.TgZ(2,"div",17),u.TgZ(3,"label",18),u.TgZ(4,"input",19),u.NdJ("click",function(){const s=u.CHM(e).$implicit;return u.oxw().loadSettings(s)}),u.qZA(),u._uU(5," Load "),u.qZA(),u.TgZ(6,"label",20),u.TgZ(7,"input",21),u.NdJ("click",function(){const s=u.CHM(e).$implicit;return u.oxw().removeSettings(s)}),u.qZA(),u._uU(8," Remove "),u.qZA(),u.qZA(),u.qZA()}if(2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.cleanRingName," ")}}const $N=function(){return{standalone:!0}};let az=(()=>{class n{constructor(e,i){this.ringData=e,this.store=i,this.pubkeysText="",this.ringName="",this.pubsubServer="",this.ringSettings=[],this.ringSettings$=this.store.select(eT),this.ringSettings$.subscribe(r=>{this.ringSettings=r}),this.cbNodeOwners$=this.store.pipe((0,Me.Ys)(dy)),this.cbNodeOwners$.subscribe(r=>{this.segments=r}),this.pubkeysText="user_name,nodename,pub_key,new,handle,capacity_sat\nLaptopman,Bitcoin Lightning Networkman,03c1a8ccc5c83b37059a3efbb72e633c0897172f2550475b93bdc14b5ca243a0d1,0,laptopman,1324052228\nMr,MrGlass,038b19417ee84b5469217efb333b677caec115e0298823e71148d2741b40cb62d1,0,MrGlassNL,18272996\nP,CryptoShade,03b364b19e60dcbc0063f0ea15e2cf87bdbc4ac9e4e898049652c3e8e3c04f3a6f,0,Crypto_Shade,38361451\nErik,GrunnBliksems,0334aadd6b72f00168c87385c081a171e1a1a1936435c2952d25dd10d2f17d6c43,0,Erik_GrunnBliksems,20250001\nNick,KxN,0249877c126f343a3972dc7ce88a6992dbf725aa75f0e83f49d96e5371f36268c2,0,nickvnh,8500001",this.ringName=e.getRingName(),this.pubsubServer=this.ringData.getPubsubServer()}ngOnInit(){}getSegments(){return this.segments}processPubkeys(){let e=this.pubkeysText.split("\n"),i=[];for(let r of e)i.push(r.split(","));this.ringData.setSegments(i),this.ringData.repopulate()}processGroupnodes(){let e=this.ringData.parseCsvToType(this.pubkeysText);this.store.dispatch(xg(e))}processRingname(){this.ringData.setRingName(this.ringName)}saveRingSettings(){if(this.segments){let e={ringName:this.ringData.getRingName(),ringParticipants:this.segments,cleanRingName:this.ringData.getRingName().replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").substr(1),id:this.ringData.getRingName().replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").substr(1)};this.store.dispatch(Kx({ringSetting:e}))}}loadSettings(e){this.ringData.loadSettings(e)}removeSettings(e){this.store.dispatch(Zx({ringSetting:e.cleanRingName}))}setPubSubServer(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pa),u.Y36(Me.yh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-settings"]],decls:44,vars:15,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","ringName"],["type","text","id","ringName","placeholder","Ring Name",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"btn","btn-primary","mb-2",3,"click"],["for","pubkeys"],["id","pubkeys","rows","3","spellcheck","false",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","pubsubServer","placeholder","PubSub Server",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"table","table-sm","table-striped","small"],["scope","col"],[4,"ngFor","ngForOf"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],["scope","row"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["ngbRadioGroup","",1,"btn-group","btn-small","small","btn-group-toggle"],["ngbButtonLabel","",1,"btn-success","btn-sm"],["ngbButton","","type","radio","value","node",3,"click"],["ngbButtonLabel","",1,"btn-danger","btn-sm"],["ngbButton","","type","radio","value","tg",3,"click"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"form"),u.TgZ(4,"div",3),u.TgZ(5,"label",4),u._uU(6,"Ringname"),u.qZA(),u.TgZ(7,"input",5),u.NdJ("ngModelChange",function(s){return i.ringName=s}),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){return i.processRingname()}),u._uU(9,"Save Ring Name"),u.qZA(),u.qZA(),u.TgZ(10,"div",3),u.TgZ(11,"label",7),u._uU(12,"Import groupnodes from \u{1f9c0} CheeseRobot \u20bf"),u.qZA(),u.TgZ(13,"textarea",8),u.NdJ("ngModelChange",function(s){return i.pubkeysText=s}),u.qZA(),u.TgZ(14,"button",6),u.NdJ("click",function(){return i.processGroupnodes()}),u._uU(15,"Import Groupnodes"),u.qZA(),u.qZA(),u.TgZ(16,"div",3),u.TgZ(17,"label",4),u._uU(18,"LND PubSub server"),u.qZA(),u.TgZ(19,"input",9),u.NdJ("ngModelChange",function(s){return i.pubsubServer=s}),u.qZA(),u.TgZ(20,"button",6),u.NdJ("click",function(){return i.setPubSubServer()}),u._uU(21,"Save server"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(22,"div",2),u.TgZ(23,"table",10),u.TgZ(24,"thead"),u.TgZ(25,"tr"),u.TgZ(26,"th",11),u._uU(27,"Public Key"),u.qZA(),u.TgZ(28,"th",11),u._uU(29,"Nodename"),u.qZA(),u.TgZ(30,"th",11),u._uU(31,"TG username"),u.qZA(),u.TgZ(32,"th",11),u._uU(33,"Capacity"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(34,"tbody"),u.YNc(35,sz,10,4,"ng-container",12),u.ALo(36,"async"),u.qZA(),u.qZA(),u.TgZ(37,"button",6),u.NdJ("click",function(){return i.saveRingSettings()}),u._uU(38,"Save Ring Settings"),u.qZA(),u.TgZ(39,"h3"),u._uU(40,"Saved Rings"),u.qZA(),u.TgZ(41,"ul",13),u.YNc(42,oz,9,1,"li",14),u.ALo(43,"async"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(7),u.Q6J("ngModel",i.ringName)("ngModelOptions",u.DdM(12,$N)),u.xp6(6),u.Q6J("ngModel",i.pubkeysText)("ngModelOptions",u.DdM(13,$N)),u.xp6(6),u.Q6J("ngModel",i.pubsubServer)("ngModelOptions",u.DdM(14,$N)),u.xp6(16),u.Q6J("ngForOf",u.lcZ(36,8,i.cbNodeOwners$)),u.xp6(7),u.Q6J("ngForOf",u.lcZ(43,10,i.ringSettings$)))},directives:[qR,hb,dT,K1,iu,hT,Ke,yT,rw,AN],pipes:[sc],styles:["#pubkeys[_ngcontent-%COMP%]{font-family:monospace;font-size:.85em;background:#000;color:green;height:300px}"]}),n})();function R2(n){return n.channel_id?n.channel_id:-1}const va=uy({selectId:R2}),lz=va.getInitialState({selectId:R2}),F2=(0,Me.Lq)(lz,(0,Me.on)(OA,(n,t)=>va.addOne(t.channel,n)),(0,Me.on)(kv,(n,t)=>va.upsertOne(t.channel,n)),(0,Me.on)(Pv,(n,t)=>va.addMany(t.channels,n)),(0,Me.on)(Rv,(n,t)=>va.upsertMany(t.channels,n)),(0,Me.on)(tD,(n,t)=>va.updateOne(t.channel,n)),(0,Me.on)(Fv,(n,t)=>va.updateMany(t.channels,n)),(0,Me.on)(IA,(n,t)=>va.removeOne(t.id,n)),(0,Me.on)(NA,(n,t)=>va.removeMany(t.ids,n)),(0,Me.on)(eD,(n,t)=>va.setAll(t.channels,n)),(0,Me.on)(Lv,n=>va.removeAll(n)));va.getSelectors();const rl=uy({selectId:function(n){return n.node?n.node.pub_key:""}}),dz=rl.getInitialState({node:{pub_key:null},id:null,channels:va.getInitialState()}),L2=(0,Me.Lq)(dz,(0,Me.on)(TA,(n,t)=>rl.addOne(t.nodeInfo,n)),(0,Me.on)(hy,(n,t)=>rl.upsertOne(t.nodeInfo,n)),(0,Me.on)(MA,(n,t)=>rl.addMany(t.nodeInfos,n)),(0,Me.on)(SA,(n,t)=>rl.upsertMany(t.nodeInfos,n)),(0,Me.on)(JE,(n,t)=>rl.updateOne(t.nodeInfo,n)),(0,Me.on)(XE,(n,t)=>rl.updateMany(t.nodeInfos,n)),(0,Me.on)(QE,(n,t)=>rl.removeOne(t.id,n)),(0,Me.on)(AA,(n,t)=>rl.removeMany(t.ids,n)),(0,Me.on)(xA,(n,t)=>rl.setAll(t.nodeInfos,n)),(0,Me.on)(Nv,n=>rl.removeAll(n))),{selectAll:hz}=rl.getSelectors(),fz=hz,WN=(0,Me.ZF)("nodeInfoes"),pz=(0,Me.P1)(WN,fz);let gz=(()=>{class n{constructor(e){this.elRef=e,this.data=[],this.ringName="",this.colors=BE(ry),this.pie=function(){var n=UE,t=cA,e=null,i=qr(0),r=qr(ad),s=qr(0);function l(d){var f,_,b,P,J,g=(d=zE(d)).length,w=0,T=new Array(g),N=new Array(g),F=+i.apply(this,arguments),I=Math.min(ad,Math.max(-ad,r.apply(this,arguments)-F)),L=Math.min(Math.abs(I)/g,s.apply(this,arguments)),U=L*(I<0?-1:1);for(f=0;f<g;++f)(J=N[T[f]=f]=+n(d[f],f,d))>0&&(w+=J);for(null!=t?T.sort(function(K,ye){return t(N[K],N[ye])}):null!=e&&T.sort(function(K,ye){return e(d[K],d[ye])}),f=0,b=w?(I-g*U)/w:0;f<g;++f,F=P)N[_=T[f]]={data:d[_],index:f,value:J=N[_],startAngle:F,endAngle:P=F+(J>0?J*b:0)+U,padAngle:L};return N}return l.value=function(d){return arguments.length?(n="function"==typeof d?d:qr(+d),l):n},l.sortValues=function(d){return arguments.length?(t=d,e=null,l):t},l.sort=function(d){return arguments.length?(e=d,t=null,l):e},l.startAngle=function(d){return arguments.length?(i="function"==typeof d?d:qr(+d),l):i},l.endAngle=function(d){return arguments.length?(r="function"==typeof d?d:qr(+d),l):r},l.padAngle=function(d){return arguments.length?(s="function"==typeof d?d:qr(+d),l):s},l}().value(i=>i.value).padAngle(.01).sort(null),this.hostElement=this.elRef.nativeElement}ngOnInit(){}ngOnChanges(e){e.data&&this.updateChart(e.data.currentValue)}createChart(e){this.processPieData(e),this.removeExistingChartFromParent(),this.setChartDimensions(),this.setColorScale(),this.addGraphicsElement(),this.setupArcGenerator(),this.addSlicesToTheDonut(),this.addLabelsToTheDonut(),this.addCenterLabel()}updateChart(e){this.svg?(this.processPieData(e,!1),this.updateState()):this.createChart(e)}updateState(){this.g.selectAll("path").data(this.pie(this.pieData)).style("opacity",e=>e.data.data.active?1:.25).style("stroke-width",e=>e.data.data.active?0:1)}addCenterLabel(){this.g.append("text").attr("text-anchor","middle").attr("font-size","1.2rem").attr("dy",10).attr("fill","#ffffff").text(this.ringName)}processPieData(e,i=!0){let r=100/e.length,s=e.map(l=>(l.value=r,l));this.rawData=e,this.pieData=this.pie(s),i&&(this.pieDataPrevious=this.pieData)}setChartDimensions(){this.svg=Tv(this.hostElement).append("svg").lower().attr("width","100%").attr("height","100%").attr("viewBox","0 0 430 430")}addGraphicsElement(){this.g=this.svg.append("g").attr("transform","translate(215,215)")}setColorScale(){this.colorScale=FE().domain([1,3.5,6]).range(["#2c7bb6","#ffffbf","#d7191c"]).interpolate(hv)}setupArcGenerator(){this.innerRadius=50,this.radius=80,this.arc=function(){var n=jE,t=sA,e=qr(0),i=null,r=Eg,s=Dg,l=oA,d=null;function f(){var g,_,b=+n.apply(this,arguments),w=+t.apply(this,arguments),T=r.apply(this,arguments)-ay,N=s.apply(this,arguments)-ay,F=Mv(N-T),I=N>T;if(d||(d=g=iA()),w<b&&(_=w,w=b,b=_),w>ks)if(F>ad-ks)d.moveTo(w*Bc(T),w*qa(T)),d.arc(0,0,w,T,N,!I),b>ks&&(d.moveTo(b*Bc(N),b*qa(N)),d.arc(0,0,b,N,T,I));else{var at,Ze,P=T,L=N,U=T,J=N,K=F,ye=F,Fe=l.apply(this,arguments)/2,Pe=Fe>ks&&(i?+i.apply(this,arguments):Za(b*b+w*w)),Xe=Sv(Mv(w-b)/2,+e.apply(this,arguments)),dt=Xe,qe=Xe;if(Pe>ks){var pe=Av(Pe/b*qa(Fe)),$e=Av(Pe/w*qa(Fe));(K-=2*pe)>ks?(U+=pe*=I?1:-1,J-=pe):(K=0,U=J=(T+N)/2),(ye-=2*$e)>ks?(P+=$e*=I?1:-1,L-=$e):(ye=0,P=L=(T+N)/2)}var me=w*Bc(P),Ge=w*qa(P),ft=b*Bc(J),ut=b*qa(J);if(Xe>ks){var _n,_t=w*Bc(L),St=w*qa(L),Bt=b*Bc(U),Ii=b*qa(U);if(F<Cg&&(_n=aA(me,Ge,Bt,Ii,_t,St,ft,ut))){var Ni=me-_n[0],Yi=Ge-_n[1],Ln=_t-_n[0],Br=St-_n[1],Ad=1/qa(VE((Ni*Ln+Yi*Br)/(Za(Ni*Ni+Yi*Yi)*Za(Ln*Ln+Br*Br)))/2),Uf=Za(_n[0]*_n[0]+_n[1]*_n[1]);dt=Sv(Xe,(b-Uf)/(Ad-1)),qe=Sv(Xe,(w-Uf)/(Ad+1))}}ye>ks?qe>ks?(at=ly(Bt,Ii,me,Ge,w,qe,I),Ze=ly(_t,St,ft,ut,w,qe,I),d.moveTo(at.cx+at.x01,at.cy+at.y01),qe<Xe?d.arc(at.cx,at.cy,qe,kr(at.y01,at.x01),kr(Ze.y01,Ze.x01),!I):(d.arc(at.cx,at.cy,qe,kr(at.y01,at.x01),kr(at.y11,at.x11),!I),d.arc(0,0,w,kr(at.cy+at.y11,at.cx+at.x11),kr(Ze.cy+Ze.y11,Ze.cx+Ze.x11),!I),d.arc(Ze.cx,Ze.cy,qe,kr(Ze.y11,Ze.x11),kr(Ze.y01,Ze.x01),!I))):(d.moveTo(me,Ge),d.arc(0,0,w,P,L,!I)):d.moveTo(me,Ge),b>ks&&K>ks?dt>ks?(at=ly(ft,ut,_t,St,b,-dt,I),Ze=ly(me,Ge,Bt,Ii,b,-dt,I),d.lineTo(at.cx+at.x01,at.cy+at.y01),dt<Xe?d.arc(at.cx,at.cy,dt,kr(at.y01,at.x01),kr(Ze.y01,Ze.x01),!I):(d.arc(at.cx,at.cy,dt,kr(at.y01,at.x01),kr(at.y11,at.x11),!I),d.arc(0,0,b,kr(at.cy+at.y11,at.cx+at.x11),kr(Ze.cy+Ze.y11,Ze.cx+Ze.x11),I),d.arc(Ze.cx,Ze.cy,dt,kr(Ze.y11,Ze.x11),kr(Ze.y01,Ze.x01),!I))):d.arc(0,0,b,J,U,I):d.lineTo(ft,ut)}else d.moveTo(0,0);if(d.closePath(),g)return d=null,g+""||null}return f.centroid=function(){var g=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,_=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-Cg/2;return[Bc(_)*g,qa(_)*g]},f.innerRadius=function(g){return arguments.length?(n="function"==typeof g?g:qr(+g),f):n},f.outerRadius=function(g){return arguments.length?(t="function"==typeof g?g:qr(+g),f):t},f.cornerRadius=function(g){return arguments.length?(e="function"==typeof g?g:qr(+g),f):e},f.padRadius=function(g){return arguments.length?(i=null==g?null:"function"==typeof g?g:qr(+g),f):i},f.startAngle=function(g){return arguments.length?(r="function"==typeof g?g:qr(+g),f):r},f.endAngle=function(g){return arguments.length?(s="function"==typeof g?g:qr(+g),f):s},f.padAngle=function(g){return arguments.length?(l="function"==typeof g?g:qr(+g),f):l},f.context=function(g){return arguments.length?(d=null==g?null:g,f):d},f}().innerRadius(161.25).outerRadius(191.25)}addSlicesToTheDonut(){this.slices=this.g.selectAll("allSlices").data(this.pie(this.pieData)).enter().append("path").attr("class","donutArcSlices").attr("d",this.arc).attr("fill",(e,i)=>this.colorScale(`${i}`)).style("opacity",(e,i)=>e.data.data.active?1:.25).attr("stroke-width",e=>2*Number(!e.data.data.active)).attr("stroke",e=>"yellow")}addLabelsToTheDonut(){let e=this;this.g.selectAll(".donutArcSlices").each(function(i,r){let l=/(^.+?)L/.exec(Tv(this).attr("d"))[1];if(l=l.replace(/,/g," "),i.endAngle>90*Math.PI/180&&i.endAngle<300*Math.PI/180){var b=/0 0 1 (.*?)$/.exec(l)[1],w=/M(.*?)A/.exec(l)[1];l="M"+b+"A"+/A(.*?)0 0 1/.exec(l)[1]+"0 0 0 "+w}e.g.append("path").attr("class","hiddenDonutArcs").attr("id","donutArc"+r).attr("d",l).style("fill","none")}),this.labels=this.g.selectAll(".donutText").data(this.pieData).enter().append("text").attr("class","donutText").attr("dy",function(i,r){return i.endAngle>90*Math.PI/180&&i.endAngle<300*Math.PI/180?18:-11}).append("textPath").attr("startOffset","50%").style("text-anchor","middle").style("fill","#ffffff").attr("xlink:href",function(i,r){return"#donutArc"+r}).text(function(i){return i.data.name})}removeExistingChartFromParent(){Tv(this.hostElement).select("svg").remove()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-rof-circle"]],inputs:{data:"data",ringName:"ringName"},features:[u.TTD],decls:2,vars:0,consts:[[2,"display","block"],["id","chart"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.qZA())},styles:[""],encapsulation:2,changeDetection:0}),n})();function mz(n,t){if(1&n&&(u.TgZ(0,"td"),u._uU(1),u.qZA(),u.TgZ(2,"td"),u._uU(3),u.qZA()),2&n){const e=u.oxw().$implicit,i=u.oxw();u.xp6(1),u.Oqu(i.getUsername(e.initiator)),u.xp6(2),u.Oqu(i.getUsername(e.receiver))}}function _z(n,t){if(1&n&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&n){const e=u.oxw(2).$implicit;u.xp6(1),u.Oqu(null==e.initiator||null==e.initiator.node?null:e.initiator.node.alias)}}function yz(n,t){if(1&n&&(u.TgZ(0,"td"),u._uU(1),u.qZA()),2&n){const e=u.oxw(2).$implicit;u.xp6(1),u.Oqu(null==e.receiver||null==e.receiver.node?null:e.receiver.node.alias)}}function bz(n,t){if(1&n&&(u.YNc(0,_z,2,1,"td",15),u.YNc(1,yz,2,1,"td",15)),2&n){const e=u.oxw().$implicit;u.Q6J("ngIf",e.initiator),u.xp6(1),u.Q6J("ngIf",e.receiver)}}function vz(n,t){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.initiator_fee.fee_base_msat)}}function wz(n,t){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.initiator_fee.fee_rate_milli_msat)}}function Cz(n,t){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.receiver_fee.fee_base_msat)}}function Ez(n,t){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const e=u.oxw().$implicit;u.xp6(1),u.Oqu(e.receiver_fee.fee_rate_milli_msat)}}function Dz(n,t){if(1&n&&(u.ynx(0),u.TgZ(1,"tr"),u.TgZ(2,"th",12),u._uU(3),u.qZA(),u.YNc(4,mz,4,2,"ng-template",13),u.YNc(5,bz,2,2,"ng-template",null,14,u.W1O),u.TgZ(7,"td"),u.YNc(8,vz,2,1,"span",15),u.qZA(),u.TgZ(9,"td"),u.YNc(10,wz,2,1,"span",15),u.qZA(),u.TgZ(11,"td"),u.YNc(12,Cz,2,1,"span",15),u.qZA(),u.TgZ(13,"td"),u.YNc(14,Ez,2,1,"span",15),u.qZA(),u.qZA(),u.BQk()),2&n){const e=t.$implicit,i=t.index,r=u.MAs(6),s=u.oxw();u.xp6(1),u.ekj("error",e.channel_id&&(!e.initiator_fee||!e.receiver_fee)),u.xp6(1),u.Udp("background-color",s.getColor(i)),u.xp6(1),u.Oqu(e.channel_id),u.xp6(1),u.Q6J("ngIf","tg"==s.ringData.getViewMode())("ngIfElse",r),u.xp6(4),u.Q6J("ngIf",e.initiator_fee),u.xp6(2),u.Q6J("ngIf",e.initiator_fee),u.xp6(2),u.Q6J("ngIf",e.receiver_fee),u.xp6(2),u.Q6J("ngIf",e.receiver_fee)}}const xz=[{path:"",component:kg},{path:"settings",component:az},{path:"design",component:tu},{path:"watch",component:(()=>{class n{constructor(e,i){this.ringData=e,this.store=i,this.segments=[],this.participants=new Array,this.ndata="",this.cbNodeOwners$=this.store.pipe((0,Me.Ys)(dy)),this.cbNodeOwners$.subscribe(r=>{this.segments=r}),this.viewMode=e.getViewMode(),this.cbNodeOwners$.pipe((0,An.q)(1)).subscribe(r=>{this.createParticipants()}),this.ringData.channelUpdate$.subscribe(r=>{this.refreshParticipants()})}ngOnInit(){}getSegments(){return this.segments}getChartSegments(){return this.participants.length?this.participants.map((i,r)=>{var s;let l=Boolean(i.channel_id);return{name:null===(s=i.initiator)||void 0===s?void 0:s.node.alias,active:l}}):this.getSegments().map(i=>({name:i.user_name,active:!1}))}getRingName(){return this.ringData.getRingName()}getParticipants(){return this.participants}viewChange(e){this.ringData.setViewMode(e)}createParticipants(){if(this.participants.length)return this.refreshParticipants();for(let[e,i]of this.getSegments().entries()){let r=(e+1)%this.getSegments().length,s={initiator:this.ringData.getNodeInfo(i.pub_key),receiver:this.ringData.getNodeInfo(this.getSegments()[r].pub_key)};if(s.initiator&&s.receiver){s.channel_id=this.ringData.nodeHasChannelWith(i.pub_key,this.getSegments()[r].pub_key);let l=this.ringData.getChannelPolicies(i.pub_key,this.getSegments()[r].pub_key);s.initiator_fee=l[0],s.receiver_fee=l[1],this.participants.push(s)}}}getUsername(e){var i;if(e)return null===(i=this.segments.find(r=>r.pub_key==e.node.pub_key))||void 0===i?void 0:i.user_name}refreshParticipants(){for(let[e,i]of this.participants.entries())if(i.initiator&&i.receiver){this.ringData.nodeHasChannelWith(i.initiator.node.pub_key,i.receiver.node.pub_key);let s=this.ringData.getChannelPolicies(i.initiator.node.pub_key,i.receiver.node.pub_key);s&&(i.initiator_fee=s[0],i.receiver_fee=s[1])}}upsertPolicy(){this.store.select(pz).subscribe(i=>{console.log(i)}),this.store.dispatch(kv({channel:{channel_id:0xac73900075d0000,chan_point:"64c712513e44befb22bff54a88e61229ecf7c9d3d87b31aaebedbe412dfc463c:1",last_update:1635186302,node1_pub:"038b19417ee84b5469217efb333b677caec115e0298823e71148d2741b40cb62d1",node2_pub:"03b364b19e60dcbc0063f0ea15e2cf87bdbc4ac9e4e898049652c3e8e3c04f3a6f",capacity:5e6,node1_policy:{time_lock_delta:40,min_htlc:1e3,fee_base_msat:1337,fee_rate_milli_msat:230,max_htlc_msat:495e7,last_update:1635186302,disabled:!1},node2_policy:{time_lock_delta:40,min_htlc:1e3,fee_rate_milli_msat:1,max_htlc_msat:495e7,last_update:1635185218,fee_base_msat:2442,disabled:!1}}}))}getColor(e){return this.ringData.getColorScale()(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pa),u.Y36(Me.yh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-watcher"]],decls:33,vars:4,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","chart-container","h-50","d-inline-block"],[3,"data","ringName"],[1,"col-md-8","participants"],["ngbRadioGroup","","name","names",1,"btn-group","btn-small","small","btn-group-toggle",3,"ngModel","ngModelChange"],["ngbButtonLabel","",1,"btn-primary","btn-sm"],["ngbButton","","type","radio","value","node"],["ngbButton","","type","radio","value","tg"],[1,"table","table-sm","table-striped","small"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[3,"ngIf","ngIfElse"],["elseBlock",""],[4,"ngIf"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"app-rof-circle",3),u.qZA(),u.TgZ(4,"div",4),u.TgZ(5,"h2"),u._uU(6,"Ring participants "),u.TgZ(7,"div",5),u.NdJ("ngModelChange",function(s){return i.viewMode=s})("ngModelChange",function(s){return i.viewChange(s)}),u.TgZ(8,"label",6),u._UZ(9,"input",7),u._uU(10," Nodename "),u.qZA(),u.TgZ(11,"label",6),u._UZ(12,"input",8),u._uU(13," TG username "),u.qZA(),u.qZA(),u.qZA(),u.TgZ(14,"table",9),u.TgZ(15,"thead"),u.TgZ(16,"tr"),u.TgZ(17,"th",10),u._uU(18,"Channel ID"),u.qZA(),u.TgZ(19,"th",10),u._uU(20,"Node 1"),u.qZA(),u.TgZ(21,"th",10),u._uU(22,"Node 2"),u.qZA(),u.TgZ(23,"th",10),u._uU(24,"N1 Base fee"),u.qZA(),u.TgZ(25,"th",10),u._uU(26,"N1 Fee rate"),u.qZA(),u.TgZ(27,"th",10),u._uU(28,"N2 Base fee"),u.qZA(),u.TgZ(29,"th",10),u._uU(30,"N2 Fee rate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"tbody"),u.YNc(32,Dz,15,11,"ng-container",11),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(3),u.Q6J("data",i.getChartSegments())("ringName",i.getRingName()),u.xp6(4),u.Q6J("ngModel",i.viewMode),u.xp6(25),u.Q6J("ngForOf",i.getParticipants()))},directives:[gz,yT,iu,hT,rw,AN,Ke,Zt],styles:[".table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.error[_ngcontent-%COMP%]{background:red}.chart-container[_ngcontent-%COMP%]{height:200px}"]}),n})()}];let Tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ht.forRoot(xz)],Ht]}),n})();const Mz=function(n){return[n]};function Sz(n,t){if(1&n&&(u.TgZ(0,"li",12),u.TgZ(1,"a",13),u._uU(2),u.qZA(),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.Q6J("routerLink",u.VKq(2,Mz,e.route)),u.xp6(1),u.hij(" ",e.title," ")}}function Az(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",14),u.NdJ("click",function(){const s=u.CHM(e).$implicit;return u.oxw().loadSettings(s)}),u._uU(1),u.qZA()}if(2&n){const e=t.$implicit;u.xp6(1),u.Oqu(e.cleanRingName)}}let Oz=(()=>{class n{constructor(e,i,r,s){this.router=e,this.route=i,this.ringData=r,this.store=s,this.isMenuCollapsed=!1,this.ringName="",this.links=[{title:"Home",route:""},{title:"Design",route:"design"},{title:"Watch",route:"watch"},{title:"Settings",route:"settings"}],this.ringSettings=[],this.ringSettings$=this.store.select(eT)}ngOnInit(){this.ringName=this.ringData.getRingName()}getRingName(){return this.ringData.getRingName()}loadSettings(e){this.ringData.loadSettings(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(gt),u.Y36(Va),u.Y36(pa),u.Y36(Me.yh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navigation"]],decls:16,vars:6,consts:[[1,"navbar","fixed-top","navbar-light","bg-light","navbar-expand-lg"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarTogglerDemo01","aria-controls","navbarTogglerDemo01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav"],["routerLinkActive","active","class","nav-item",4,"ngFor","ngForOf"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item"],[1,"nav-link",3,"routerLink"],["ngbDropdownItem","",3,"click"]],template:function(e,i){1&e&&(u.TgZ(0,"nav",0),u.TgZ(1,"div",1),u.TgZ(2,"a",2),u._uU(3,"SR RoF webtools"),u.qZA(),u.TgZ(4,"div",1),u.TgZ(5,"button",3),u.NdJ("click",function(){return i.isMenuCollapsed=!i.isMenuCollapsed}),u._UZ(6,"span",4),u.qZA(),u.TgZ(7,"div",5),u.TgZ(8,"ul",6),u.YNc(9,Sz,3,4,"li",7),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div",8),u.TgZ(11,"button",9),u._uU(12),u.qZA(),u.TgZ(13,"div",10),u.YNc(14,Az,2,1,"button",11),u.ALo(15,"async"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(7),u.Q6J("ngbCollapse",i.isMenuCollapsed),u.xp6(2),u.Q6J("ngForOf",i.links),u.xp6(3),u.Oqu(i.getRingName()),u.xp6(2),u.Q6J("ngForOf",u.lcZ(15,4,i.ringSettings$)))},directives:[LN,P5,Ke,uw,n2,VN,bi,yn,BN],pipes:[sc],styles:[".navbar-text[_ngcontent-%COMP%]{white-space:nowrap}"]}),n})(),Iz=(()=>{class n{constructor(){this.title="RingTools"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&(u._UZ(0,"app-navigation"),u._UZ(1,"router-outlet"))},directives:[Oz,Bi],styles:[""]}),n})(),Nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Kg],imports:[[Ji]]}),n})();const B2="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function V2(n,t,e){const i=e||(l=>Array.prototype.slice.call(l));let r=!1,s=[];return function(...l){s=i(l),r||(r=!0,B2.call(window,()=>{r=!1,n.apply(t,s)}))}}const GN=n=>"start"===n?"left":"end"===n?"right":"center",Vs=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Cd(){}const Rz=function(){let n=0;return function(){return n++}}();function Tn(n){return null==n}function pi(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function xn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const lr=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function sl(n,t){return lr(n)?n:t}function mn(n,t){return void 0===n?t:n}const YN=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function gi(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Un(n,t,e,i){let r,s,l;if(pi(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(xn(n))for(l=Object.keys(n),s=l.length,r=0;r<s;r++)t.call(e,n[l[r]],l[r])}function ST(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function AT(n){if(pi(n))return n.map(AT);if(xn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=AT(n[e[r]]);return t}return n}function j2(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function Lz(n,t,e,i){if(!j2(n))return;const r=t[n],s=e[n];xn(r)&&xn(s)?hw(r,s,i):t[n]=AT(s)}function hw(n,t,e){const i=pi(t)?t:[t],r=i.length;if(!xn(n))return n;const s=(e=e||{}).merger||Lz;for(let l=0;l<r;++l){if(!xn(t=i[l]))continue;const d=Object.keys(t);for(let f=0,g=d.length;f<g;++f)s(d[f],n,t,e)}return n}function fw(n,t){return hw(n,t,{merger:Bz})}function Bz(n,t,e){if(!j2(n))return;const i=t[n],r=e[n];xn(i)&&xn(r)?fw(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=AT(r))}function H2(n,t){const e=n.indexOf(".",t);return-1===e?n.length:e}function jf(n,t){if(""===t)return n;let e=0,i=H2(t,e);for(;n&&i>e;)n=n[t.substr(e,i-e)],e=i+1,i=H2(t,e);return n}function qN(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Fo=n=>void 0!==n,vb=n=>"function"==typeof n,Gi=Math.PI,ri=2*Gi,zz=ri+Gi,OT=Number.POSITIVE_INFINITY,Uz=Gi/180,cr=Gi/2,pw=Gi/4,z2=2*Gi/3,ol=Math.log10,ru=Math.sign;function U2(n){const t=Math.round(n);n=gw(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ol(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function wb(n){return!isNaN(parseFloat(n))&&isFinite(n)}function gw(n,t,e){return Math.abs(n-t)<e}function $2(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ql(n){return n*(Gi/180)}function ZN(n){return n*(180/Gi)}function W2(n){if(!lr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function KN(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Yz(n,t){return(n-t+zz)%ri-Gi}function ec(n){return(n%ri+ri)%ri}function IT(n,t,e,i){const r=ec(n),s=ec(t),l=ec(e),d=ec(s-r),f=ec(l-r),g=ec(r-s),_=ec(r-l);return r===s||r===l||i&&s===l||d>f&&g<_}function es(n,t,e){return Math.max(t,Math.min(e,n))}const NT=n=>0===n||1===n,G2=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*ri/e),Y2=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ri/e)+1,mw={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*cr),easeOutSine:n=>Math.sin(n*cr),easeInOutSine:n=>-.5*(Math.cos(Gi*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>NT(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>NT(n)?n:G2(n,.075,.3),easeOutElastic:n=>NT(n)?n:Y2(n,.075,.3),easeInOutElastic(n){const t=.1125;return NT(n)?n:n<.5?.5*G2(2*n,t,.45):.5+.5*Y2(2*n-1,t,.45)},easeInBack(n){const t=1.70158;return n*n*((t+1)*n-t)},easeOutBack(n){const t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-mw.easeOutBounce(1-n),easeOutBounce(n){const t=7.5625,e=2.75;return n<1/e?t*n*n:n<2/e?t*(n-=1.5/e)*n+.75:n<2.5/e?t*(n-=2.25/e)*n+.9375:t*(n-=2.625/e)*n+.984375},easeInOutBounce:n=>n<.5?.5*mw.easeInBounce(2*n):.5*mw.easeOutBounce(2*n-1)+.5},al={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},JN="0123456789ABCDEF",Zz=n=>JN[15&n],Kz=n=>JN[(240&n)>>4]+JN[15&n],kT=n=>(240&n)>>4==(15&n);function _w(n){return n+.5|0}const PT=(n,t,e)=>Math.max(Math.min(n,e),t);function yw(n){return PT(_w(2.55*n),0,255)}function bw(n){return PT(_w(255*n),0,255)}function XN(n){return PT(_w(n/2.55)/100,0,1)}function q2(n){return PT(_w(100*n),0,100)}const e8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,i8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Z2(n,t,e){const i=t*Math.min(e,1-e),r=(s,l=(s+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function r8(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function s8(n,t,e){const i=Z2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function QN(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),l=Math.min(e,i,r),d=(s+l)/2;let f,g,_;return s!==l&&(_=s-l,g=d>.5?_/(2-s-l):_/(s+l),f=s===e?(i-r)/_+(i<r?6:0):s===i?(r-e)/_+2:(e-i)/_+4,f=60*f+.5),[0|f,g||0,d]}function ek(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(bw)}function tk(n,t,e){return ek(Z2,n,t,e)}function K2(n){return(n%360+360)%360}const J2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},X2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let RT;function FT(n,t,e){if(n){let i=QN(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=tk(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Q2(n,t){return n&&Object.assign(t||{},n)}function eL(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=bw(n[3]))):(t=Q2(n,{r:0,g:0,b:0,a:1})).a=bw(t.a),t}function f8(n){return"r"===n.charAt(0)?function(n){const t=e8.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const l=+t[7];e=255&(t[8]?yw(l):255*l)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?yw(i):i),r=255&(t[4]?yw(r):r),s=255&(t[6]?yw(s):s),{r:i,g:r,b:s,a:e}}}(n):function(n){const t=i8.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?yw(+t[5]):bw(+t[5]));const r=K2(+t[2]),s=+t[3]/100,l=+t[4]/100;return i="hwb"===t[1]?function(n,t,e){return ek(s8,n,t,e)}(r,s,l):"hsv"===t[1]?function(n,t,e){return ek(r8,n,t,e)}(r,s,l):tk(r,s,l),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class LT{constructor(t){if(t instanceof LT)return t;const e=typeof t;let i;"object"===e?i=eL(t):"string"===e&&(i=function(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*al[n[1]],g:255&17*al[n[2]],b:255&17*al[n[3]],a:5===t?17*al[n[4]]:255}:(7===t||9===t)&&(e={r:al[n[1]]<<4|al[n[2]],g:al[n[3]]<<4|al[n[4]],b:al[n[5]]<<4|al[n[6]],a:9===t?al[n[7]]<<4|al[n[8]]:255})),e}(t)||function(n){RT||(RT=function(){const n={},t=Object.keys(X2),e=Object.keys(J2);let i,r,s,l,d;for(i=0;i<t.length;i++){for(l=d=t[i],r=0;r<e.length;r++)s=e[r],d=d.replace(s,J2[s]);s=parseInt(X2[l],16),n[d]=[s>>16&255,s>>8&255,255&s]}return n}(),RT.transparent=[0,0,0,0]);const t=RT[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||f8(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Q2(this._rgb);return t&&(t.a=XN(t.a)),t}set rgb(t){this._rgb=eL(t)}rgbString(){return this._valid?(n=this._rgb)&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${XN(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`):this._rgb;var n}hexString(){return this._valid?(t=function(n){return kT(n.r)&&kT(n.g)&&kT(n.b)&&kT(n.a)}(n=this._rgb)?Zz:Kz,n&&"#"+t(n.r)+t(n.g)+t(n.b)+(n.a<255?t(n.a):"")):this._rgb;var n,t}hslString(){return this._valid?function(n){if(!n)return;const t=QN(n),e=t[0],i=q2(t[1]),r=q2(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${XN(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const r=i.rgb,s=t.rgb;let l;const d=e===l?.5:e,f=2*d-1,g=r.a-s.a,_=((f*g==-1?f:(f+g)/(1+f*g))+1)/2;l=1-_,r.r=255&_*r.r+l*s.r+.5,r.g=255&_*r.g+l*s.g+.5,r.b=255&_*r.b+l*s.b+.5,r.a=d*r.a+(1-d)*s.a,i.rgb=r}return i}clone(){return new LT(this.rgb)}alpha(t){return this._rgb.a=bw(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=_w(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return FT(this._rgb,2,t),this}darken(t){return FT(this._rgb,2,-t),this}saturate(t){return FT(this._rgb,1,t),this}desaturate(t){return FT(this._rgb,1,-t),this}rotate(t){return function(n,t){var e=QN(n);e[0]=K2(e[0]+t),e=tk(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function tL(n){return new LT(n)}const nL=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function iL(n){return nL(n)?n:tL(n)}function nk(n){return nL(n)?n:tL(n).saturate(.5).darken(.1).hexString()}const um=Object.create(null),ik=Object.create(null);function vw(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function rk(n,t,e){return"string"==typeof t?hw(vw(n,t),e):hw(vw(n,""),t)}var vn=new class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>nk(i.backgroundColor),this.hoverBorderColor=(e,i)=>nk(i.borderColor),this.hoverColor=(e,i)=>nk(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,e){return rk(this,t,e)}get(t){return vw(this,t)}describe(t,e){return rk(ik,t,e)}override(t,e){return rk(um,t,e)}route(t,e,i,r){const s=vw(this,t),l=vw(this,i),d="_"+e;Object.defineProperties(s,{[d]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[d],g=l[r];return xn(f)?Object.assign({},g,f):mn(f,g)},set(f){this[d]=f}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function BT(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function m8(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const d=e.length;let f,g,_,b,w;for(f=0;f<d;f++)if(b=e[f],null!=b&&!0!==pi(b))l=BT(n,r,s,l,b);else if(pi(b))for(g=0,_=b.length;g<_;g++)w=b[g],null!=w&&!pi(w)&&(l=BT(n,r,s,l,w));n.restore();const T=s.length/2;if(T>e.length){for(f=0;f<T;f++)delete r[s[f]];s.splice(0,T)}return l}function dm(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function rL(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function VT(n,t,e,i){let r,s,l,d,f;const g=t.pointStyle,_=t.rotation,b=t.radius;let w=(_||0)*Uz;if(g&&"object"==typeof g&&(r=g.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,i),n.rotate(w),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),void n.restore();if(!(isNaN(b)||b<=0)){switch(n.beginPath(),g){default:n.arc(e,i,b,0,ri),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(w)*b,i-Math.cos(w)*b),w+=z2,n.lineTo(e+Math.sin(w)*b,i-Math.cos(w)*b),w+=z2,n.lineTo(e+Math.sin(w)*b,i-Math.cos(w)*b),n.closePath();break;case"rectRounded":f=.516*b,d=b-f,s=Math.cos(w+pw)*d,l=Math.sin(w+pw)*d,n.arc(e-s,i-l,f,w-Gi,w-cr),n.arc(e+l,i-s,f,w-cr,w),n.arc(e+s,i+l,f,w,w+cr),n.arc(e-l,i+s,f,w+cr,w+Gi),n.closePath();break;case"rect":if(!_){d=Math.SQRT1_2*b,n.rect(e-d,i-d,2*d,2*d);break}w+=pw;case"rectRot":s=Math.cos(w)*b,l=Math.sin(w)*b,n.moveTo(e-s,i-l),n.lineTo(e+l,i-s),n.lineTo(e+s,i+l),n.lineTo(e-l,i+s),n.closePath();break;case"crossRot":w+=pw;case"cross":s=Math.cos(w)*b,l=Math.sin(w)*b,n.moveTo(e-s,i-l),n.lineTo(e+s,i+l),n.moveTo(e+l,i-s),n.lineTo(e-l,i+s);break;case"star":s=Math.cos(w)*b,l=Math.sin(w)*b,n.moveTo(e-s,i-l),n.lineTo(e+s,i+l),n.moveTo(e+l,i-s),n.lineTo(e-l,i+s),w+=pw,s=Math.cos(w)*b,l=Math.sin(w)*b,n.moveTo(e-s,i-l),n.lineTo(e+s,i+l),n.moveTo(e+l,i-s),n.lineTo(e-l,i+s);break;case"line":s=Math.cos(w)*b,l=Math.sin(w)*b,n.moveTo(e-s,i-l),n.lineTo(e+s,i+l);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*b,i+Math.sin(w)*b)}n.fill(),t.borderWidth>0&&n.stroke()}}function hm(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function jT(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function HT(n){n.restore()}function _8(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function y8(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function fm(n,t,e,i,r,s={}){const l=pi(t)?t:[t],d=s.strokeWidth>0&&""!==s.strokeColor;let f,g;for(n.save(),n.font=r.string,function(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Tn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),f=0;f<l.length;++f)g=l[f],d&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Tn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(g,e,i,s.maxWidth)),n.fillText(g,e,i,s.maxWidth),v8(n,e,i,g,s),i+=r.lineHeight;n.restore()}function v8(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),l=t-s.actualBoundingBoxLeft,d=t+s.actualBoundingBoxRight,f=e-s.actualBoundingBoxAscent,g=e+s.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,_),n.lineTo(d,_),n.stroke()}}function zT(n,t){const{x:e,y:i,w:r,h:s,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,-cr,Gi,!0),n.lineTo(e,i+s-l.bottomLeft),n.arc(e+l.bottomLeft,i+s-l.bottomLeft,l.bottomLeft,Gi,cr,!0),n.lineTo(e+r-l.bottomRight,i+s),n.arc(e+r-l.bottomRight,i+s-l.bottomRight,l.bottomRight,cr,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-cr,!0),n.lineTo(e+l.topLeft,i)}const w8=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),C8=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function E8(n,t){const e=(""+n).match(w8);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const D8=n=>+n||0;function sk(n,t){const e={},i=xn(t),r=i?Object.keys(t):t,s=xn(n)?i?l=>mn(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=D8(s(l));return e}function sL(n){return sk(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ok(n){return sk(n,["topLeft","topRight","bottomLeft","bottomRight"])}function _o(n){const t=sL(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Lr(n,t){let e=mn((n=n||{}).size,(t=t||vn.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=mn(n.style,t.style);i&&!(""+i).match(C8)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:mn(n.family,t.family),lineHeight:E8(mn(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:mn(n.weight,t.weight),string:""};return r.string=function(n){return!n||Tn(n.size)||Tn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function ww(n,t,e,i){let s,l,d,r=!0;for(s=0,l=n.length;s<l;++s)if(d=n[s],void 0!==d&&(void 0!==t&&"function"==typeof d&&(d=d(t),r=!1),void 0!==e&&pi(d)&&(d=d[e%d.length],r=!1),void 0!==d))return i&&!r&&(i.cacheable=!1),d}function ak(n,t,e){e=e||(l=>n[l]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Ed=(n,t,e)=>ak(n,e,i=>n[i][t]<e),T8=(n,t,e)=>ak(n,e,i=>n[i][t]>=e),oL=["push","pop","shift","splice","unshift"];function aL(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(oL.forEach(s=>{delete n[s]}),delete n._chartjs)}function lL(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function lk(n,t=[""],e=n,i,r=(()=>n[0])){Fo(i)||(i=pL("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:l=>lk([l,...n],t,e,i)};return new Proxy(s,{deleteProperty:(l,d)=>(delete l[d],delete l._keys,delete n[0][d],!0),get:(l,d)=>dL(l,d,()=>function(n,t,e,i){let r;for(const s of t)if(r=pL(A8(s,n),e),Fo(r))return uL(n,r)?ck(e,i,n,r):r}(d,t,n,l)),getOwnPropertyDescriptor:(l,d)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(l,d)=>gL(l).includes(d),ownKeys:l=>gL(l),set:(l,d,f)=>((l._storage||(l._storage=r()))[d]=f,delete l[d],delete l._keys,!0)})}function Cb(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:cL(n,i),setContext:s=>Cb(n,s,e,i),override:s=>Cb(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,l)=>(delete s[l],delete n[l],!0),get:(s,l,d)=>dL(s,l,()=>function(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:l}=n;let d=i[t];return vb(d)&&l.isScriptable(t)&&(d=function(n,t,e,i){const{_proxy:r,_context:s,_subProxy:l,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);return d.add(n),t=t(s,l||i),d.delete(n),xn(t)&&(t=ck(r._scopes,r,n,t)),t}(t,d,n,e)),pi(d)&&d.length&&(d=function(n,t,e,i){const{_proxy:r,_context:s,_subProxy:l,_descriptors:d}=e;if(Fo(s.index)&&i(n))t=t[s.index%t.length];else if(xn(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const b=ck(g,r,n,_);t.push(Cb(b,s,l&&l[n],d))}}return t}(t,d,n,l.isIndexable)),uL(t,d)&&(d=Cb(d,r,s&&s[t],l)),d}(s,l,d)),getOwnPropertyDescriptor:(s,l)=>s._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,l)=>Reflect.has(n,l),ownKeys:()=>Reflect.ownKeys(n),set:(s,l,d)=>(n[l]=d,delete s[l],!0)})}function cL(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:vb(e)?e:()=>e,isIndexable:vb(i)?i:()=>i}}const A8=(n,t)=>n?n+qN(t):t,uL=(n,t)=>xn(t)&&"adapters"!==n;function dL(n,t,e){let i=n[t];return Fo(i)||(i=e(),Fo(i)&&(n[t]=i)),i}function hL(n,t,e){return vb(n)?n(t,e):n}const k8=(n,t)=>!0===n?t:"string"==typeof n?jf(t,n):void 0;function P8(n,t,e,i){for(const r of t){const s=k8(e,r);if(s){n.add(s);const l=hL(s._fallback,e,s);if(Fo(l)&&l!==e&&l!==i)return l}else if(!1===s&&Fo(i)&&e!==i)return null}return!1}function ck(n,t,e,i){const r=t._rootScopes,s=hL(t._fallback,e,i),l=[...n,...r],d=new Set;d.add(i);let f=fL(d,l,e,s||e);return!(null===f||Fo(s)&&s!==e&&(f=fL(d,l,s,f),null===f))&&lk(Array.from(d),[""],r,s,()=>function(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return pi(r)&&xn(e)?e:r}(t,e,i))}function fL(n,t,e,i){for(;e;)e=P8(n,t,e,i);return e}function pL(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Fo(i))return i}}function gL(n){let t=n._keys;return t||(t=n._keys=function(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}const B8=Number.EPSILON||1e-14,Eb=(n,t)=>t<n.length&&!n[t].skip&&n[t],mL=n=>"x"===n?"y":"x";function V8(n,t,e,i){const r=n.skip?t:n,s=t,l=e.skip?t:e,d=KN(s,r),f=KN(l,s);let g=d/(d+f),_=f/(d+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const b=i*g,w=i*_;return{previous:{x:s.x-b*(l.x-r.x),y:s.y-b*(l.y-r.y)},next:{x:s.x+w*(l.x-r.x),y:s.y+w*(l.y-r.y)}}}function UT(n,t,e){return Math.max(Math.min(n,e),t)}function $8(n,t,e,i,r){let s,l,d,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===t.cubicInterpolationMode)!function(n,t="x"){const e=mL(t),i=n.length,r=Array(i).fill(0),s=Array(i);let l,d,f,g=Eb(n,0);for(l=0;l<i;++l)if(d=f,f=g,g=Eb(n,l+1),f){if(g){const _=g[t]-f[t];r[l]=0!==_?(g[e]-f[e])/_:0}s[l]=d?g?ru(r[l-1])!==ru(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}(function(n,t,e){const i=n.length;let r,s,l,d,f,g=Eb(n,0);for(let _=0;_<i-1;++_)if(f=g,g=Eb(n,_+1),f&&g){if(gw(t[_],0,B8)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],s=e[_+1]/t[_],d=Math.pow(r,2)+Math.pow(s,2),!(d<=9)&&(l=3/Math.sqrt(d),e[_]=r*l*t[_],e[_+1]=s*l*t[_])}})(n,r,s),function(n,t,e="x"){const i=mL(e),r=n.length;let s,l,d,f=Eb(n,0);for(let g=0;g<r;++g){if(l=d,d=f,f=Eb(n,g+1),!d)continue;const _=d[e],b=d[i];l&&(s=(_-l[e])/3,d[`cp1${e}`]=_-s,d[`cp1${i}`]=b-s*t[g]),f&&(s=(f[e]-_)/3,d[`cp2${e}`]=_+s,d[`cp2${i}`]=b+s*t[g])}}(n,s,t)}(n,r);else{let g=i?n[n.length-1]:n[0];for(s=0,l=n.length;s<l;++s)d=n[s],f=V8(g,d,n[Math.min(s+1,l-(i?0:1))%l],t.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}t.capBezierPoints&&function(n,t){let e,i,r,s,l,d=hm(n[0],t);for(e=0,i=n.length;e<i;++e)l=s,s=d,d=e<i-1&&hm(n[e+1],t),s&&(r=n[e],l&&(r.cp1x=UT(r.cp1x,t.left,t.right),r.cp1y=UT(r.cp1y,t.top,t.bottom)),d&&(r.cp2x=UT(r.cp2x,t.left,t.right),r.cp2y=UT(r.cp2y,t.top,t.bottom)))}(n,e)}function _L(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Db(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function $T(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const WT=n=>window.getComputedStyle(n,null),G8=["top","right","bottom","left"];function pm(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=G8[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function yL(n,t){const{canvas:e,currentDevicePixelRatio:i}=t,r=WT(e),s="border-box"===r.boxSizing,l=pm(r,"padding"),d=pm(r,"border","width"),{x:f,y:g,box:_}=function(n,t){const e=n.native||n,i=e.touches,r=i&&i.length?i[0]:e,{offsetX:s,offsetY:l}=r;let f,g,d=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(s,l,e.target))f=s,g=l;else{const _=t.getBoundingClientRect();f=r.clientX-_.left,g=r.clientY-_.top,d=!0}return{x:f,y:g,box:d}}(n,e),b=l.left+(_&&d.left),w=l.top+(_&&d.top);let{width:T,height:N}=t;return s&&(T-=l.width+d.width,N-=l.height+d.height),{x:Math.round((f-b)/T*e.width/i),y:Math.round((g-w)/N*e.height/i)}}const uk=n=>Math.round(10*n)/10;function bL(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||l.height!==r||l.width!==s)&&(n.currentDevicePixelRatio=i,l.height=r,l.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const J8=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function vL(n,t){const e=function(n,t){return WT(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gm(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function X8(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function Q8(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},l=gm(n,r,e),d=gm(r,s,e),f=gm(s,t,e),g=gm(l,d,e),_=gm(d,f,e);return gm(g,_,e)}const wL=new Map;function Cw(n,t,e){return function(n,t){t=t||{};const e=n+JSON.stringify(t);let i=wL.get(e);return i||(i=new Intl.NumberFormat(n,t),wL.set(e,i)),i}(t,e).format(n)}function xb(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function CL(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function EL(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function DL(n){return"angle"===n?{between:IT,compare:Yz,normalize:ec}:{between:(t,e,i)=>t>=Math.min(e,i)&&t<=Math.max(i,e),compare:(t,e)=>t-e,normalize:t=>t}}function xL({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function TL(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,l=t.length,{compare:d,between:f,normalize:g}=DL(i),{start:_,end:b,loop:w,style:T}=function(n,t,e){const{property:i,start:r,end:s}=e,{between:l,normalize:d}=DL(i),f=t.length;let w,T,{start:g,end:_,loop:b}=n;if(b){for(g+=f,_+=f,w=0,T=f;w<T&&l(d(t[g%f][i]),r,s);++w)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:b,style:n.style}}(n,t,e),N=[];let P,L,U,F=!1,I=null;for(let Pe=_,Xe=_;Pe<=b;++Pe)L=t[Pe%l],!L.skip&&(P=g(L[i]),P!==U&&(F=f(P,r,s),null===I&&(F||f(r,U,P)&&0!==d(r,U))&&(I=0===d(P,r)?Pe:Xe),null!==I&&(!F||0===d(s,P)||f(s,U,P))&&(N.push(xL({start:I,end:Pe,loop:w,count:l,style:T})),I=null),Xe=Pe,U=P));return null!==I&&N.push(xL({start:I,end:b,loop:w,count:l,style:T})),N}function ML(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=TL(i[r],n.points,t);s.length&&e.push(...s)}return e}function AL(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function lU(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var Dd=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const l=e.duration;e.listeners[r].forEach(d=>d({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){const t=this;t._request||(t._running=!0,t._request=B2.call(window,()=>{t._update(),t._request=null,t._running&&t._refresh()}))}_update(t=Date.now()){const e=this;let i=0;e._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const l=r.items;let g,d=l.length-1,f=!1;for(;d>=0;--d)g=l[d],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(t),f=!0):(l[d]=l[l.length-1],l.pop());f&&(s.draw(),e._notify(s,r,t,"progress")),l.length||(r.running=!1,e._notify(s,r,t,"complete"),r.initial=!1),i+=l.length}),e._lastDate=t,0===i&&(e._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const OL="transparent",uU={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=iL(n||OL),r=i.valid&&iL(t||OL);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class dU{constructor(t,e,i,r){const s=e[i];r=ww([t.to,r,s,t.from]);const l=ww([t.from,s,r]);this._active=!0,this._fn=t.fn||uU[t.type||typeof l],this._easing=mw[t.easing]||mw.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){const r=this;if(r._active){r._notify(!1);const s=r._target[r._prop],l=i-r._start,d=r._duration-l;r._start=i,r._duration=Math.floor(Math.max(d,t.duration)),r._total+=l,r._loop=!!t.loop,r._to=ww([t.to,e,s,t.from]),r._from=ww([t.from,s,e])}}cancel(){const t=this;t._active&&(t.tick(Date.now()),t._active=!1,t._notify(!1))}tick(t){const e=this,i=t-e._start,r=e._duration,s=e._prop,l=e._from,d=e._loop,f=e._to;let g;if(e._active=l!==f&&(d||i<r),!e._active)return e._target[s]=f,void e._notify(!0);i<0?e._target[s]=l:(g=i/r%2,g=d&&g>1?2-g:g,g=e._easing(Math.min(1,Math.max(0,g))),e._target[s]=e._fn(l,f,g))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}vn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const pU=Object.keys(vn.animation);vn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),vn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),vn.describe("animations",{_fallback:"animation"}),vn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class IL{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!xn(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!xn(r))return;const s={};for(const l of pU)s[l]=r[l];(pi(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!e.has(l))&&e.set(l,s)})})}_animateOptions(t,e){const i=e.options,r=function(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),l=Object.keys(e),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const g=l[f];if("$"===g.charAt(0))continue;if("options"===g){r.push(...this._animateOptions(t,e));continue}const _=e[g];let b=s[g];const w=i.get(g);if(b){if(w&&b.active()){b.update(w,_,d);continue}b.cancel()}w&&w.duration?(s[g]=b=new dU(w,t,g,_),r.push(b)):t[g]=_}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Dd.add(this._chart,i),!0):void 0}}function NL(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function kL(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function PL(n,t,e,i){const r=n.keys,s="single"===i.mode;let l,d,f,g;if(null!==t){for(l=0,d=r.length;l<d;++l){if(f=+r[l],f===e){if(i.all)continue;break}g=n.values[f],lr(g)&&(s||0===t||ru(t)===ru(g))&&(t+=g)}return t}}function RL(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function CU(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function FL(n,t,e){for(const i of t.getMatchingVisibleMetas("bar").reverse()){const r=n[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function LL(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:l,index:d}=i,f=s.axis,g=l.axis,_=function(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,l,i),b=t.length;let w;for(let T=0;T<b;++T){const N=t[T],{[f]:F,[g]:I}=N;w=(N._stacks||(N._stacks={}))[g]=CU(r,_,F),w[d]=I,w._top=FL(w,l,!0),w._bottom=FL(w,l,!1)}}function dk(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Ew(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e]}}}const hk=n=>"reset"===n||"none"===n,BL=(n,t)=>t?n:Object.assign({},n);let xd=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this,i=e._cachedMeta;e.configure(),e.linkScales(),i._stacked=RL(i.vScale,i),e.addElements()}updateIndex(e){this.index!==e&&Ew(this._cachedMeta),this.index=e}linkScales(){const e=this,i=e.chart,r=e._cachedMeta,s=e.getDataset(),l=(T,N,F,I)=>"x"===T?N:"r"===T?I:F,d=r.xAxisID=mn(s.xAxisID,dk(i,"x")),f=r.yAxisID=mn(s.yAxisID,dk(i,"y")),g=r.rAxisID=mn(s.rAxisID,dk(i,"r")),_=r.indexAxis,b=r.iAxisID=l(_,d,f,g),w=r.vAxisID=l(_,f,d,g);r.xScale=e.getScaleForId(d),r.yScale=e.getScaleForId(f),r.rScale=e.getScaleForId(g),r.iScale=e.getScaleForId(b),r.vScale=e.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&aL(this._data,this),e._stacked&&Ew(e)}_dataCheck(){const e=this,i=e.getDataset(),r=i.data||(i.data=[]),s=e._data;if(xn(r))e._data=function(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(r);else if(s!==r){if(s){aL(s,e);const l=e._cachedMeta;Ew(l),l._parsed=[]}r&&Object.isExtensible(r)&&function(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),oL.forEach(e=>{const i="_onData"+qN(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const l=r.apply(this,s);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...s)}),l}})}))}(r,e),e._syncList=[],e._data=r}}addElements(){const e=this,i=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(i.dataset=new e.datasetElementType)}buildOrUpdateElements(e){const i=this,r=i._cachedMeta,s=i.getDataset();let l=!1;i._dataCheck();const d=r._stacked;r._stacked=RL(r.vScale,r),r.stack!==s.stack&&(l=!0,Ew(r),r.stack=s.stack),i._resyncElements(e),(l||d!==r._stacked)&&LL(i,r._parsed)}configure(){const e=this,i=e.chart.config,r=i.datasetScopeKeys(e._type),s=i.getOptionScopes(e.getDataset(),r,!0);e.options=i.createResolver(s,e.getContext()),e._parsing=e.options.parsing}parse(e,i){const r=this,{_cachedMeta:s,_data:l}=r,{iScale:d,_stacked:f}=s,g=d.axis;let w,T,N,_=0===e&&i===l.length||s._sorted,b=e>0&&s._parsed[e-1];if(!1===r._parsing)s._parsed=l,s._sorted=!0,N=l;else{N=pi(l[e])?r.parseArrayData(s,l,e,i):xn(l[e])?r.parseObjectData(s,l,e,i):r.parsePrimitiveData(s,l,e,i);const F=()=>null===T[g]||b&&T[g]<b[g];for(w=0;w<i;++w)s._parsed[w+e]=T=N[w],_&&(F()&&(_=!1),b=T);s._sorted=_}f&&LL(r,N)}parsePrimitiveData(e,i,r,s){const{iScale:l,vScale:d}=e,f=l.axis,g=d.axis,_=l.getLabels(),b=l===d,w=new Array(s);let T,N,F;for(T=0,N=s;T<N;++T)F=T+r,w[T]={[f]:b||l.parse(_[F],F),[g]:d.parse(i[F],F)};return w}parseArrayData(e,i,r,s){const{xScale:l,yScale:d}=e,f=new Array(s);let g,_,b,w;for(g=0,_=s;g<_;++g)b=g+r,w=i[b],f[g]={x:l.parse(w[0],b),y:d.parse(w[1],b)};return f}parseObjectData(e,i,r,s){const{xScale:l,yScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,_=new Array(s);let b,w,T,N;for(b=0,w=s;b<w;++b)T=b+r,N=i[T],_[b]={x:l.parse(jf(N,f),T),y:d.parse(jf(N,g),T)};return _}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const l=this._cachedMeta,d=i[e.axis];return PL({keys:kL(this.chart,!0),values:i._stacks[e.axis]},d,l.index,{mode:r})}updateRangeFromParsed(e,i,r,s){const l=r[i.axis];let d=null===l?NaN:l;const f=s&&r._stacks[i.axis];s&&f&&(s.values=f,e.min=Math.min(e.min,d),e.max=Math.max(e.max,d),d=PL(s,l,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,i){const r=this,s=r._cachedMeta,l=s._parsed,d=s._sorted&&e===s.iScale,f=l.length,g=r._getOtherScale(e),_=i&&s._stacked&&{keys:kL(r.chart,!0),values:null},b={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:T}=function(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(g);let N,F,I,P;function L(){return I=l[N],F=I[e.axis],P=I[g.axis],!lr(F)||w>P||T<P}for(N=0;N<f&&(L()||(r.updateRangeFromParsed(b,e,I,_),!d));++N);if(d)for(N=f-1;N>=0;--N)if(!L()){r.updateRangeFromParsed(b,e,I,_);break}return b}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let s,l,d;for(s=0,l=i.length;s<l;++s)d=i[s][e.axis],lr(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,s=r.iScale,l=r.vScale,d=this.getParsed(e);return{label:s?""+s.getLabelForValue(d[s.axis]):"",value:l?""+l.getLabelForValue(d[l.axis]):""}}_update(e){const i=this,r=i._cachedMeta;i.configure(),i._cachedDataOpts={},i.update(e||"default"),r._clip=function(n){let t,e,i,r;return xn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(mn(i.options.clip,function(n,t,e){if(!1===e)return!1;const i=NL(n,e),r=NL(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(r.xScale,r.yScale,i.getMaxOverflow())))}update(e){}draw(){const e=this,i=e._ctx,s=e._cachedMeta,l=s.data||[],d=e.chart.chartArea,f=[],g=e._drawStart||0,_=e._drawCount||l.length-g;let b;for(s.dataset&&s.dataset.draw(i,d,g,_),b=g;b<g+_;++b){const w=l[b];w.hidden||(w.active?f.push(w):w.draw(i,d))}for(b=0;b<f.length;++b)f[b].draw(i,d)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const s=this,l=s.getDataset();let d;if(e>=0&&e<s._cachedMeta.data.length){const f=s._cachedMeta.data[e];d=f.$context||(f.$context=function(n,t,e){return Object.assign(Object.create(n),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(s.getContext(),e,f)),d.parsed=s.getParsed(e),d.raw=l.data[e],d.index=d.dataIndex=e}else d=s.$context||(s.$context=function(n,t){return Object.assign(Object.create(n),{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(s.chart.getContext(),s.index)),d.dataset=l,d.index=d.datasetIndex=s.index;return d.active=!!i,d.mode=r,d}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const s=this,l="active"===i,d=s._cachedDataOpts,f=e+"-"+i,g=d[f],_=s.enableOptionSharing&&Fo(r);if(g)return BL(g,_);const b=s.chart.config,w=b.datasetElementScopeKeys(s._type,e),T=l?[`${e}Hover`,"hover",e,""]:[e,""],N=b.getOptionScopes(s.getDataset(),w),F=Object.keys(vn.elements[e]),P=b.resolveNamedOptions(N,F,()=>s.getContext(r,l),T);return P.$shared&&(P.$shared=_,d[f]=Object.freeze(BL(P,_))),P}_resolveAnimations(e,i,r){const s=this,l=s.chart,d=s._cachedDataOpts,f=`animation-${i}`,g=d[f];if(g)return g;let _;if(!1!==l.options.animation){const w=s.chart.config,T=w.datasetAnimationScopeKeys(s._type,i),N=w.getOptionScopes(s.getDataset(),T);_=w.createResolver(N,s.getContext(e,r,i))}const b=new IL(l,_&&_.animations);return _&&_._cacheable&&(d[f]=Object.freeze(b)),b}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||hk(e)||this.chart._animationsDisabled}updateElement(e,i,r,s){hk(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!hk(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;const l=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(l)||l})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this,r=i._data,s=i._cachedMeta.data;for(const[g,_,b]of i._syncList)i[g](_,b);i._syncList=[];const l=s.length,d=r.length,f=Math.min(d,l);f&&i.parse(0,f),d>l?i._insertElements(l,d-l,e):d<l&&i._removeElements(d,l-d)}_insertElements(e,i,r=!0){const s=this,l=s._cachedMeta,d=l.data,f=e+i;let g;const _=b=>{for(b.length+=i,g=b.length-1;g>=f;g--)b[g]=b[g-i]};for(_(d),g=e;g<f;++g)d[g]=new s.dataElementType;s._parsing&&_(l._parsed),s.parse(e,i),r&&s.updateElements(d,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(e,i);s._stacked&&Ew(s,l)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,s]=e;this[i](r,s)}}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){this._sync(["_removeElements",e,i]),this._sync(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function TU(n){const t=function(n){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas("bar");let e=[];for(let i=0,r=t.length;i<r;i++)e=e.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=lL(e.sort((i,r)=>i-r))}return n._cache.$bar}(n);let i,r,s,l,e=n._length;const d=()=>{32767===s||-32768===s||(Fo(l)&&(e=Math.min(e,Math.abs(s-l)||e)),l=s)};for(i=0,r=t.length;i<r;++i)s=n.getPixelForValue(t[i]),d();for(l=void 0,i=0,r=n.ticks.length;i<r;++i)s=n.getPixelForTick(i),d();return e}function VL(n,t,e,i){return pi(n)?function(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),l=Math.min(r,s),d=Math.max(r,s);let f=l,g=d;Math.abs(l)>Math.abs(d)&&(f=d,g=l),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:s,min:l,max:d}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function jL(n,t,e,i){const r=n.iScale,s=n.vScale,l=r.getLabels(),d=r===s,f=[];let g,_,b,w;for(g=e,_=e+i;g<_;++g)w=t[g],b={},b[r.axis]=d||r.parse(l[g],g),f.push(VL(w,b,s,g));return f}function fk(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function NU(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);const{start:l,end:d,reverse:f,top:g,bottom:_}=function(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=_:(s[HL(_,l,d,f)]=!0,r=g)),s[HL(r,l,d,f)]=!0,n.borderSkipped=s}function HL(n,t,e,i){return n=i?zL(n=function(n,t,e){return n===t?e:n===e?t:n}(n,t,e),e,t):zL(n,t,e)}function zL(n,t,e){return"start"===n?t:"end"===n?e:n}xd.prototype.datasetElementType=null,xd.prototype.dataElementType=null;let UL=(()=>{class n extends xd{parsePrimitiveData(e,i,r,s){return jL(e,i,r,s)}parseArrayData(e,i,r,s){return jL(e,i,r,s)}parseObjectData(e,i,r,s){const{iScale:l,vScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,_="x"===l.axis?f:g,b="x"===d.axis?f:g,w=[];let T,N,F,I;for(T=r,N=r+s;T<N;++T)I=i[T],F={},F[l.axis]=l.parse(jf(I,_),T),w.push(VL(jf(I,b),F,d,T));return w}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);const l=r._custom;l&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:s,vScale:l}=r,d=this.getParsed(e),f=d._custom,g=fk(f)?"["+f.start+", "+f.end+"]":""+l.getLabelForValue(d[l.axis]);return{label:""+s.getLabelForValue(d[s.axis]),value:g}}initialize(){const e=this;e.enableOptionSharing=!0,super.initialize(),e._cachedMeta.stack=e.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,i,r,s){const l=this,d="reset"===s,{index:f,_cachedMeta:{vScale:g}}=l,_=g.getBasePixel(),b=g.isHorizontal(),w=l._getRuler(),T=l.resolveDataElementOptions(i,s),N=l.getSharedOptions(T),F=l.includeOptions(s,N);l.updateSharedOptions(N,s,T);for(let I=i;I<i+r;I++){const P=l.getParsed(I),L=d||Tn(P[g.axis])?{base:_,head:_}:l._calculateBarValuePixels(I),U=l._calculateBarIndexPixels(I,w),J=(P._stacks||{})[g.axis],K={horizontal:b,base:L.base,enableBorderRadius:!J||fk(P._custom)||f===J._top||f===J._bottom,x:b?L.head:U.center,y:b?U.center:L.head,height:b?U.size:Math.abs(L.size),width:b?Math.abs(L.size):U.size};F&&(K.options=N||l.resolveDataElementOptions(I,e[I].active?"active":s)),NU(K,K.options||e[I].options,J,f),l.updateElement(e[I],I,K,s)}}_getStacks(e,i){const l=this._cachedMeta.iScale,d=l.getMatchingVisibleMetas(this._type),f=l.options.stacked,g=d.length,_=[];let b,w;for(b=0;b<g;++b)if(w=d[b],w.controller.options.grouped){if(void 0!==i){const T=w.controller.getParsed(i)[w.controller._cachedMeta.vScale.axis];if(Tn(T)||isNaN(T))continue}if((!1===f||-1===_.indexOf(w.stack)||void 0===f&&void 0===w.stack)&&_.push(w.stack),w.index===e)break}return _.length||_.push(void 0),_}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const s=this._getStacks(e,r),l=void 0!==i?s.indexOf(i):-1;return-1===l?s.length-1:l}_getRuler(){const e=this,i=e.options,r=e._cachedMeta,s=r.iScale,l=[];let d,f;for(d=0,f=r.data.length;d<f;++d)l.push(s.getPixelForValue(e.getParsed(d)[s.axis],d));const g=i.barThickness;return{min:g||TU(s),pixels:l,start:s._startPixel,end:s._endPixel,stackCount:e._getStackCount(),scale:s,grouped:i.grouped,ratio:g?1:i.categoryPercentage*i.barPercentage}}_calculateBarValuePixels(e){const i=this,{_cachedMeta:{vScale:r,_stacked:s},options:{base:l,minBarLength:d}}=i,f=l||0,g=i.getParsed(e),_=g._custom,b=fk(_);let F,I,w=g[r.axis],T=0,N=s?i.applyStack(r,g,s):w;N!==w&&(T=N-w,N=w),b&&(w=_.barStart,N=_.barEnd-_.barStart,0!==w&&ru(w)!==ru(_.barEnd)&&(T=0),T+=w);const P=Tn(l)||b?T:l;let L=r.getPixelForValue(P);if(F=i.chart.getDataVisibility(e)?r.getPixelForValue(T+N):L,I=F-L,Math.abs(I)<d&&(I=function(n,t,e){return 0!==n?ru(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(I,r,f)*d,w===f&&(L-=I/2),F=L+I),L===r.getPixelForValue(f)){const U=ru(I)*r.getLineWidthForValue(f)/2;L+=U,I-=U}return{size:I,base:L,head:F,center:F+I/2}}_calculateBarIndexPixels(e,i){const r=this,s=i.scale,l=r.options,d=l.skipNull,f=mn(l.maxBarThickness,1/0);let g,_;if(i.grouped){const b=d?r._getStackCount(e):i.stackCount,w="flex"===l.barThickness?function(n,t,e,i){const r=t.pixels,s=r[n];let l=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;null===l&&(l=s-(null===d?t.end-t.start:d-s)),null===d&&(d=s+s-l);const g=s-(s-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/i,ratio:e.barPercentage,start:g}}(e,i,l,b):function(n,t,e,i){const r=e.barThickness;let s,l;return Tn(r)?(s=t.min*e.categoryPercentage,l=e.barPercentage):(s=r*i,l=1),{chunk:s/i,ratio:l,start:t.pixels[n]-s/2}}(e,i,l,b),T=r._getStackIndex(r.index,r._cachedMeta.stack,d?e:void 0);g=w.start+w.chunk*T+w.chunk/2,_=Math.min(f,w.chunk*w.ratio)}else g=s.getPixelForValue(r.getParsed(e)[s.axis],e),_=Math.min(f,i.min*i.ratio);return{base:g-_/2,head:g+_/2,center:g,size:_}}draw(){const e=this,i=e._cachedMeta,r=i.vScale,s=i.data,l=s.length;let d=0;for(;d<l;++d)null!==e.getParsed(d)[r.axis]&&s[d].draw(e._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),$L=(()=>{class n extends xd{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(e,i,r,s){const{xScale:l,yScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,_=[];let b,w,T;for(b=r,w=r+s;b<w;++b)T=i[b],_.push({x:l.parse(jf(T,f),b),y:d.parse(jf(T,g),b),_custom:T&&T.r&&+T.r});return _}getMaxOverflow(){const{data:e,_parsed:i}=this._cachedMeta;let r=0;for(let s=e.length-1;s>=0;--s)r=Math.max(r,e[s].size()/2,i[s]._custom);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,{xScale:s,yScale:l}=r,d=this.getParsed(e),f=s.getLabelForValue(d.x),g=l.getLabelForValue(d.y),_=d._custom;return{label:r.label,value:"("+f+", "+g+(_?", "+_:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,i,r,s){const l=this,d="reset"===s,{iScale:f,vScale:g}=l._cachedMeta,_=l.resolveDataElementOptions(i,s),b=l.getSharedOptions(_),w=l.includeOptions(s,b),T=f.axis,N=g.axis;for(let F=i;F<i+r;F++){const I=e[F],P=!d&&l.getParsed(F),L={},U=L[T]=d?f.getPixelForDecimal(.5):f.getPixelForValue(P[T]),J=L[N]=d?g.getBasePixel():g.getPixelForValue(P[N]);L.skip=isNaN(U)||isNaN(J),w&&(L.options=l.resolveDataElementOptions(F,I.active?"active":s),d&&(L.options.radius=0)),l.updateElement(I,F,L,s)}l.updateSharedOptions(b,s,_)}resolveDataElementOptions(e,i){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const l=s.radius;return"active"!==i&&(s.radius=0),s.radius+=mn(r&&r._custom,l),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),pk=(()=>{class n extends xd{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,s=this._cachedMeta;let l,d;for(l=e,d=e+i;l<d;++l)s._parsed[l]=+r[l]}_getRotation(){return Ql(this.options.rotation-90)}_getCircumference(){return Ql(this.options.circumference)}_getRotationExtents(){let e=ri,i=-ri;const r=this;for(let s=0;s<r.chart.data.datasets.length;++s)if(r.chart.isDatasetVisible(s)){const l=r.chart.getDatasetMeta(s).controller,d=l._getRotation(),f=l._getCircumference();e=Math.min(e,d),i=Math.max(i,d+f)}return{rotation:e,circumference:i-e}}update(e){const i=this,r=i.chart,{chartArea:s}=r,l=i._cachedMeta,d=l.data,f=i.getMaxBorderWidth()+i.getMaxOffset(d)+i.options.spacing,g=Math.max((Math.min(s.width,s.height)-f)/2,0),_=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(i.options.cutout,g),1),b=i._getRingWeight(i.index),{circumference:w,rotation:T}=i._getRotationExtents(),{ratioX:N,ratioY:F,offsetX:I,offsetY:P}=function(n,t,e){let i=1,r=1,s=0,l=0;if(t<ri){const d=n,f=d+t,g=Math.cos(d),_=Math.sin(d),b=Math.cos(f),w=Math.sin(f),T=(U,J,K)=>IT(U,d,f,!0)?1:Math.max(J,J*e,K,K*e),N=(U,J,K)=>IT(U,d,f,!0)?-1:Math.min(J,J*e,K,K*e),F=T(0,g,b),I=T(cr,_,w),P=N(Gi,g,b),L=N(Gi+cr,_,w);i=(F-P)/2,r=(I-L)/2,s=-(F+P)/2,l=-(I+L)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:l}}(T,w,_),J=Math.max(Math.min((s.width-f)/N,(s.height-f)/F)/2,0),K=YN(i.options.radius,J),Fe=(K-Math.max(K*_,0))/i._getVisibleDatasetWeightTotal();i.offsetX=I*K,i.offsetY=P*K,l.total=i.calculateTotal(),i.outerRadius=K-Fe*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-Fe*b,0),i.updateElements(d,0,d.length,e)}_circumference(e,i){const r=this,s=r.options,l=r._cachedMeta,d=r._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===l._parsed[e]||l.data[e].hidden?0:r.calculateCircumference(l._parsed[e]*d/ri)}updateElements(e,i,r,s){const l=this,d="reset"===s,f=l.chart,g=f.chartArea,w=(g.left+g.right)/2,T=(g.top+g.bottom)/2,N=d&&f.options.animation.animateScale,F=N?0:l.innerRadius,I=N?0:l.outerRadius,P=l.resolveDataElementOptions(i,s),L=l.getSharedOptions(P),U=l.includeOptions(s,L);let K,J=l._getRotation();for(K=0;K<i;++K)J+=l._circumference(K,d);for(K=i;K<i+r;++K){const ye=l._circumference(K,d),Fe=e[K],Pe={x:w+l.offsetX,y:T+l.offsetY,startAngle:J,endAngle:J+ye,circumference:ye,outerRadius:I,innerRadius:F};U&&(Pe.options=L||l.resolveDataElementOptions(K,Fe.active?"active":s)),J+=ye,l.updateElement(Fe,K,Pe,s)}l.updateSharedOptions(L,s,P)}calculateTotal(){const e=this._cachedMeta,i=e.data;let s,r=0;for(s=0;s<i.length;s++){const l=e._parsed[s];null!==l&&!isNaN(l)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(l))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?ri*(Math.abs(e)/i):0}getLabelAndValue(e){const s=this.chart,l=s.data.labels||[],d=Cw(this._cachedMeta._parsed[e],s.options.locale);return{label:l[e]||"",value:d}}getMaxBorderWidth(e){const i=this;let r=0;const s=i.chart;let l,d,f,g,_;if(!e)for(l=0,d=s.data.datasets.length;l<d;++l)if(s.isDatasetVisible(l)){f=s.getDatasetMeta(l),e=f.data,g=f.controller,g!==i&&g.configure();break}if(!e)return 0;for(l=0,d=e.length;l<d;++l)_=g.resolveDataElementOptions(l),"inner"!==_.borderAlign&&(r=Math.max(r,_.borderWidth||0,_.hoverBorderWidth||0));return r}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){const l=this.resolveDataElementOptions(r);i=Math.max(i,l.offset||0,l.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(mn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,s)=>{const d=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return pi(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),gk=(()=>{class n extends xd{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const i=this,r=i._cachedMeta,{dataset:s,data:l=[],_dataset:d}=r,f=i.chart._animationsDisabled;let{start:g,count:_}=function(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:l,_parsed:d}=n,f=l.axis,{min:g,max:_,minDefined:b,maxDefined:w}=l.getUserBounds();b&&(r=es(Math.min(Ed(d,l.axis,g).lo,e?i:Ed(t,f,l.getPixelForValue(g)).lo),0,i-1)),s=w?es(Math.max(Ed(d,l.axis,_).hi+1,e?0:Ed(t,f,l.getPixelForValue(_)).hi+1),r,i)-r:i-r}return{start:r,count:s}}(r,l,f);i._drawStart=g,i._drawCount=_,function(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}(r)&&(g=0,_=l.length),s._datasetIndex=i.index,s._decimated=!!d._decimated,s.points=l;const b=i.resolveDatasetElementOptions(e);i.options.showLine||(b.borderWidth=0),b.segment=i.options.segment,i.updateElement(s,void 0,{animated:!f,options:b},e),i.updateElements(l,g,_,e)}updateElements(e,i,r,s){const l=this,d="reset"===s,{iScale:f,vScale:g,_stacked:_}=l._cachedMeta,b=l.resolveDataElementOptions(i,s),w=l.getSharedOptions(b),T=l.includeOptions(s,w),N=f.axis,F=g.axis,I=l.options.spanGaps,P=wb(I)?I:Number.POSITIVE_INFINITY,L=l.chart._animationsDisabled||d||"none"===s;let U=i>0&&l.getParsed(i-1);for(let J=i;J<i+r;++J){const K=e[J],ye=l.getParsed(J),Fe=L?K:{},Pe=Tn(ye[F]),Xe=Fe[N]=f.getPixelForValue(ye[N],J),dt=Fe[F]=d||Pe?g.getBasePixel():g.getPixelForValue(_?l.applyStack(g,ye,_):ye[F],J);Fe.skip=isNaN(Xe)||isNaN(dt)||Pe,Fe.stop=J>0&&ye[N]-U[N]>P,Fe.parsed=ye,T&&(Fe.options=w||l.resolveDataElementOptions(J,K.active?"active":s)),L||l.updateElement(K,J,Fe,s),U=ye}l.updateSharedOptions(w,s,b)}getMaxOverflow(){const e=this,i=e._cachedMeta,r=i.dataset,s=r.options&&r.options.borderWidth||0,l=i.data||[];if(!l.length)return s;const d=l[0].size(e.resolveDataElementOptions(0)),f=l[l.length-1].size(e.resolveDataElementOptions(l.length-1));return Math.max(s,d,f)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),WL=(()=>{class n extends xd{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this.chart,l=s.data.labels||[],d=Cw(this._cachedMeta._parsed[e].r,s.options.locale);return{label:l[e]||"",value:d}}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}_updateRadius(){const e=this,i=e.chart,r=i.chartArea,s=i.options,l=Math.min(r.right-r.left,r.bottom-r.top),d=Math.max(l/2,0),g=(d-Math.max(s.cutoutPercentage?d/100*s.cutoutPercentage:1,0))/i.getVisibleDatasetCount();e.outerRadius=d-g*e.index,e.innerRadius=e.outerRadius-g}updateElements(e,i,r,s){const l=this,d="reset"===s,f=l.chart,g=l.getDataset(),b=f.options.animation,w=l._cachedMeta.rScale,T=w.xCenter,N=w.yCenter,F=w.getIndexAngle(0)-.5*Gi;let P,I=F;const L=360/l.countVisibleElements();for(P=0;P<i;++P)I+=l._computeAngle(P,s,L);for(P=i;P<i+r;P++){const U=e[P];let J=I,K=I+l._computeAngle(P,s,L),ye=f.getDataVisibility(P)?w.getDistanceFromCenterForValue(g.data[P]):0;I=K,d&&(b.animateScale&&(ye=0),b.animateRotate&&(J=K=F));const Fe={x:T,y:N,innerRadius:0,outerRadius:ye,startAngle:J,endAngle:K,options:l.resolveDataElementOptions(P,U.active?"active":s)};l.updateElement(U,P,Fe,s)}}countVisibleElements(){const e=this.getDataset();let r=0;return this._cachedMeta.data.forEach((s,l)=>{!isNaN(e.data[l])&&this.chart.getDataVisibility(l)&&r++}),r}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Ql(this.resolveDataElementOptions(e,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,s)=>{const d=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),GL=(()=>{class n extends pk{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),YL=(()=>{class n extends xd{getLabelAndValue(e){const r=this._cachedMeta.vScale,s=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(s[r.axis])}}update(e){const i=this,r=i._cachedMeta,s=r.dataset,l=r.data||[],d=r.iScale.getLabels();if(s.points=l,"resize"!==e){const f=i.resolveDatasetElementOptions(e);i.options.showLine||(f.borderWidth=0),i.updateElement(s,void 0,{_loop:!0,_fullLoop:d.length===l.length,options:f},e)}i.updateElements(l,0,l.length,e)}updateElements(e,i,r,s){const l=this,d=l.getDataset(),f=l._cachedMeta.rScale,g="reset"===s;for(let _=i;_<i+r;_++){const b=e[_],w=l.resolveDataElementOptions(_,b.active?"active":s),T=f.getPointPositionForValue(_,d.data[_]),N=g?f.xCenter:T.x,F=g?f.yCenter:T.y,I={x:N,y:F,angle:T.angle,skip:isNaN(N)||isNaN(F),options:w};l.updateElement(b,_,I,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),qL=(()=>{class n extends gk{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})();function mm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var BU={_date:(()=>{class n{constructor(e){this.options=e||{}}formats(){return mm()}parse(e,i){return mm()}format(e,i){return mm()}add(e,i,r){return mm()}diff(e,i,r){return mm()}startOf(e,i,r){return mm()}endOf(e,i){return mm()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function Dw(n,t){return"native"in n?{x:n.x,y:n.y}:yL(n,t)}function jU(n,t,e,i){const{controller:r,data:s,_sorted:l}=n,d=r._cachedMeta.iScale;if(d&&t===d.axis&&l&&s.length){const f=d._reversePixels?T8:Ed;if(!i)return f(s,t,e);if(r._sharedOptions){const g=s[0],_="function"==typeof g.getRange&&g.getRange(t);if(_){const b=f(s,t,e-_),w=f(s,t,e+_);return{lo:b.lo,hi:w.hi}}}}return{lo:0,hi:s.length-1}}function ZL(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),l=e[t];for(let d=0,f=s.length;d<f;++d){const{index:g,data:_}=s[d],{lo:b,hi:w}=jU(s[d],t,l,r);for(let T=b;T<=w;++T){const N=_[T];N.skip||i(N,g,T)}}}function mk(n,t,e,i){const r=[];return hm(t,n.chartArea,n._minPadding)&&ZL(n,e,t,function(l,d,f){l.inRange(t.x,t.y,i)&&r.push({element:l,datasetIndex:d,index:f})},!0),r}function _k(n,t,e,i,r){const s=function(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}(e);let l=Number.POSITIVE_INFINITY,d=[];return hm(t,n.chartArea,n._minPadding)&&ZL(n,e,t,function(g,_,b){if(i&&!g.inRange(t.x,t.y,r))return;const w=g.getCenterPoint(r);if(!hm(w,n.chartArea,n._minPadding)&&!g.inRange(t.x,t.y,r))return;const T=s(t,w);T<l?(d=[{element:g,datasetIndex:_,index:b}],l=T):T===l&&d.push({element:g,datasetIndex:_,index:b})}),d}function KL(n,t,e,i){const r=Dw(t,n),s=[],l=e.axis,d="x"===l?"inXRange":"inYRange";let f=!1;return function(n,t){const e=n.getSortedVisibleDatasetMetas();let i,r,s;for(let l=0,d=e.length;l<d;++l){({index:i,data:r}=e[l]);for(let f=0,g=r.length;f<g;++f)s=r[f],s.skip||t(s,i,f)}}(n,(g,_,b)=>{g[d](r[l],i)&&s.push({element:g,datasetIndex:_,index:b}),g.inRange(r.x,r.y,i)&&(f=!0)}),e.intersect&&!f?[]:s}var zU={modes:{index(n,t,e,i){const r=Dw(t,n),s=e.axis||"x",l=e.intersect?mk(n,r,s,i):_k(n,r,s,!1,i),d=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=l[0].index,_=f.data[g];_&&!_.skip&&d.push({element:_,datasetIndex:f.index,index:g})}),d):[]},dataset(n,t,e,i){const r=Dw(t,n),s=e.axis||"xy";let l=e.intersect?mk(n,r,s,i):_k(n,r,s,!1,i);if(l.length>0){const d=l[0].datasetIndex,f=n.getDatasetMeta(d).data;l=[];for(let g=0;g<f.length;++g)l.push({element:f[g],datasetIndex:d,index:g})}return l},point:(n,t,e,i)=>mk(n,Dw(t,n),e.axis||"xy",i),nearest:(n,t,e,i)=>_k(n,Dw(t,n),e.axis||"xy",e.intersect,i),x:(n,t,e,i)=>(e.axis="x",KL(n,t,e,i)),y:(n,t,e,i)=>(e.axis="y",KL(n,t,e,i))}};const JL=["left","top","right","bottom"];function xw(n,t){return n.filter(e=>e.pos===t)}function XL(n,t){return n.filter(e=>-1===JL.indexOf(e.pos)&&e.box.axis===t)}function Tw(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function QL(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function eB(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function YU(n,t,e,i){const{pos:r,box:s}=e,l=n.maxPadding;if(!xn(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?s.height:s.width),e.size=b.size/b.count,n[r]+=e.size}s.getPadding&&eB(l,s.getPadding());const d=Math.max(0,t.outerWidth-QL(l,n,"left","right")),f=Math.max(0,t.outerHeight-QL(l,n,"top","bottom")),g=d!==n.w,_=f!==n.h;return n.w=d,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function ZU(n,t){const e=t.maxPadding;return function(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{s[l]=Math.max(t[l],e[l])}),s}(n?["left","right"]:["top","bottom"])}function Mw(n,t,e,i){const r=[];let s,l,d,f,g,_;for(s=0,l=n.length,g=0;s<l;++s){d=n[s],f=d.box,f.update(d.width||t.w,d.height||t.h,ZU(d.horizontal,t));const{same:b,other:w}=YU(t,e,d,i);g|=b&&r.length,_=_||w,f.fullSize||r.push(d)}return g&&Mw(r,t,e,i)||_}function GT(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function tB(n,t,e,i){const r=e.padding;let{x:s,y:l}=t;for(const d of n){const f=d.box,g=i[d.stack]||{count:1,placed:0,weight:1},_=d.stackWeight/g.weight||1;if(d.horizontal){const b=t.w*_,w=g.size||f.height;Fo(g.start)&&(l=g.start),f.fullSize?GT(f,r.left,l,e.outerWidth-r.right-r.left,w):GT(f,t.left+g.placed,l,b,w),g.start=l,g.placed+=b,l=f.bottom}else{const b=t.h*_,w=g.size||f.width;Fo(g.start)&&(s=g.start),f.fullSize?GT(f,s,r.top,w,e.outerHeight-r.bottom-r.top):GT(f,s,t.top+g.placed,w,b),g.start=s,g.placed+=b,s=f.right}}t.x=s,t.y=l}vn.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var js={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=_o(n.options.layout.padding),s=Math.max(t-r.width,0),l=Math.max(e-r.height,0),d=function(n){const t=function(n){const t=[];let e,i,r,s,l,d;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:l,stackWeight:d=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&s+l,stackWeight:d});return t}(n),e=Tw(t.filter(g=>g.box.fullSize),!0),i=Tw(xw(t,"left"),!0),r=Tw(xw(t,"right")),s=Tw(xw(t,"top"),!0),l=Tw(xw(t,"bottom")),d=XL(t,"x"),f=XL(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(f).concat(l).concat(d),chartArea:xw(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:s.concat(l).concat(d)}}(n.boxes),f=d.vertical,g=d.horizontal;Un(n.boxes,F=>{"function"==typeof F.beforeLayout&&F.beforeLayout()});const _=f.reduce((F,I)=>I.box.options&&!1===I.box.options.display?F:F+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/_,hBoxMaxHeight:l/2}),w=Object.assign({},r);eB(w,_o(i));const T=Object.assign({maxPadding:w,w:s,h:l,x:r.left,y:r.top},r),N=function(n,t){const e=function(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!JL.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,l,d;for(s=0,l=n.length;s<l;++s){d=n[s];const{fullSize:f}=d.box,g=e[d.stack],_=g&&d.stackWeight/g.weight;d.horizontal?(d.width=_?_*i:f&&t.availableWidth,d.height=r):(d.width=i,d.height=_?_*r:f&&t.availableHeight)}return e}(f.concat(g),b);Mw(d.fullSize,T,b,N),Mw(f,T,b,N),Mw(g,T,b,N)&&Mw(f,T,b,N),function(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(T),tB(d.leftAndTop,T,b,N),T.x+=T.w,T.y+=T.h,tB(d.rightAndBottom,T,b,N),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Un(d.chartArea,F=>{const I=F.box;Object.assign(I,n.chartArea),I.update(T.w,T.h)})}};class nB{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}}class KU extends nB{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}}const YT="$chartjs",JU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iB=n=>null===n||""===n,rB=!!J8&&{passive:!0};function e4(n,t,e){n.canvas.removeEventListener(t,e,rB)}function n4(n,t,e){const i=n.canvas,s=i&&Db(i)||i,l=new MutationObserver(d=>{const f=Db(s);d.forEach(g=>{for(let _=0;_<g.addedNodes.length;_++){const b=g.addedNodes[_];(b===s||b===f)&&e(g.target)}})});return l.observe(document,{childList:!0,subtree:!0}),l}function i4(n,t,e){const i=n.canvas,r=i&&Db(i);if(!r)return;const s=new MutationObserver(l=>{l.forEach(d=>{for(let f=0;f<d.removedNodes.length;f++)if(d.removedNodes[f]===i){e();break}})});return s.observe(r,{childList:!0}),s}const Sw=new Map;let sB=0;function oB(){const n=window.devicePixelRatio;n!==sB&&(sB=n,Sw.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function o4(n,t,e){const i=n.canvas,r=i&&Db(i);if(!r)return;const s=V2((d,f)=>{const g=r.clientWidth;e(d,f),g<r.clientWidth&&e()},window),l=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,_=f.contentRect.height;0===g&&0===_||s(g,_)});return l.observe(r),function(n,t){Sw.size||window.addEventListener("resize",oB),Sw.set(n,t)}(n,s),l}function yk(n,t,e){e&&e.disconnect(),"resize"===t&&function(n){Sw.delete(n),Sw.size||window.removeEventListener("resize",oB)}(n)}function a4(n,t,e){const i=n.canvas,r=V2(s=>{null!==n.ctx&&e(function(n,t){const e=JU[n.type]||n.type,{x:i,y:r}=yL(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n,s=>{const l=s[0];return[l,l.offsetX,l.offsetY]});return function(n,t,e){n.addEventListener(t,e,rB)}(i,t,r),r}class l4 extends nB{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[YT]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",iB(r)){const s=vL(n,"width");void 0!==s&&(n.width=s)}if(iB(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=vL(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[YT])return!1;const i=e[YT].initial;["height","width"].forEach(s=>{const l=i[s];Tn(l)?e.removeAttribute(s):e.setAttribute(s,l)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[YT],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:n4,detach:i4,resize:o4}[e]||a4)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:yk,detach:yk,resize:yk}[e]||e4)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function(n,t,e,i){const r=WT(n),s=pm(r,"margin"),l=$T(r.maxWidth,n,"clientWidth")||OT,d=$T(r.maxHeight,n,"clientHeight")||OT,f=function(n,t,e){let i,r;if(void 0===t||void 0===e){const s=Db(n);if(s){const l=s.getBoundingClientRect(),d=WT(s),f=pm(d,"border","width"),g=pm(d,"padding");t=l.width-g.width-f.width,e=l.height-g.height-f.height,i=$T(d.maxWidth,s,"clientWidth"),r=$T(d.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||OT,maxHeight:r||OT}}(n,t,e);let{width:g,height:_}=f;if("content-box"===r.boxSizing){const b=pm(r,"border","width"),w=pm(r,"padding");g-=w.width+b.width,_-=w.height+b.height}return g=Math.max(0,g-s.width),_=Math.max(0,i?Math.floor(g/i):_-s.height),g=uk(Math.min(g,l,f.maxWidth)),_=uk(Math.min(_,d,f.maxHeight)),g&&!_&&(_=uk(g/2)),{width:g,height:_}}(t,e,i,r)}isAttached(t){const e=Db(t);return!(!e||!e.isConnected)}}class tc{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return wb(this.x)&&wb(this.y)}getProps(t,e){const i=this,r=this.$animations;if(!e||!r)return i;const s={};return t.forEach(l=>{s[l]=r[l]&&r[l].active()?r[l]._to:i[l]}),s}}tc.defaults={},tc.defaultRoutes=void 0;const aB={values:n=>pi(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),s=function(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const l=ol(Math.abs(s)),d=Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),Cw(n,i,f)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(ol(n)));return 1===i||2===i||5===i?aB.numeric.call(this,n,t,e):""}};var qT={formatters:aB};function ZT(n,t,e,i,r){const s=mn(i,0),l=Math.min(mn(r,n.length),n.length);let f,g,_,d=0;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=s;_<0;)d++,_=Math.round(s+d*e);for(g=Math.max(s,0);g<l;g++)g===_&&(t.push(n[g]),d++,_=Math.round(s+d*e))}vn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:qT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),vn.route("scale.ticks","color","","color"),vn.route("scale.grid","color","","borderColor"),vn.route("scale.grid","borderColor","","borderColor"),vn.route("scale.title","color","","color"),vn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),vn.describe("scales",{_fallback:"scale"}),vn.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const lB=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function cB(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function y4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,l=n._endPixel,d=1e-6;let g,f=n.getPixelForTick(r);if(!(e&&(g=1===i?Math.max(f-s,l-f):0===t?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<s-d||f>l+d)))return f}function Aw(n){return n.drawTicks?n.tickLength:0}function uB(n,t){if(!n.display)return 0;const e=Lr(n.font,t),i=_o(n.padding);return(pi(n.text)?n.text.length:1)*e.lineHeight+i.height}function C4(n,t,e){let i=GN(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class _m extends tc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){const e=this;e.options=t.setContext(e.getContext()),e.axis=t.axis,e._userMin=e.parse(t.min),e._userMax=e.parse(t.max),e._suggestedMin=e.parse(t.suggestedMin),e._suggestedMax=e.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=sl(t,Number.POSITIVE_INFINITY),e=sl(e,Number.NEGATIVE_INFINITY),i=sl(i,Number.POSITIVE_INFINITY),r=sl(r,Number.NEGATIVE_INFINITY),{min:sl(t,i),max:sl(e,r),minDefined:lr(t),maxDefined:lr(e)}}getMinMax(t){const e=this;let d,{min:i,max:r,minDefined:s,maxDefined:l}=e.getUserBounds();if(s&&l)return{min:i,max:r};const f=e.getMatchingVisibleMetas();for(let g=0,_=f.length;g<_;++g)d=f[g].controller.getMinMax(e,t),s||(i=Math.min(i,d.min)),l||(r=Math.max(r,d.max));return{min:sl(i,sl(r,i)),max:sl(r,sl(i,r))}}getPadding(){const t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gi(this.options.beforeUpdate,[this])}update(t,e,i){const r=this,s=r.options.ticks,l=s.sampleSize;r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),r.ticks=null,r._labelSizes=null,r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r._maxLength=r.isHorizontal()?r.width+i.left+i.right:r.height+i.top+i.bottom,r._dataLimitsCached||(r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r._range=function(n,t){const{min:e,max:i}=n;return{min:e-Math.abs(YN(t,e)),max:i+YN(t,i)}}(r,r.options.grace),r._dataLimitsCached=!0),r.beforeBuildTicks(),r.ticks=r.buildTicks()||[],r.afterBuildTicks();const d=l<r.ticks.length;r._convertTicksToLabels(d?cB(r.ticks,l):r.ticks),r.configure(),r.beforeCalculateLabelRotation(),r.calculateLabelRotation(),r.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(r.ticks=function(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],s=r.length,l=r[0],d=r[s-1],f=[];if(s>i)return function(n,t,e,i){let l,r=0,s=e[0];for(i=Math.ceil(i),l=0;l<n.length;l++)l===s&&(t.push(n[l]),r++,s=e[r*i])}(t,f,r,s/i),f;const g=function(n,t,e){const i=function(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let l=0,d=s.length-1;l<d;l++){const f=s[l];if(f>r)return f}return Math.max(r,1)}(r,t,i);if(s>0){let _,b;const w=s>1?Math.round((d-l)/(s-1)):null;for(ZT(t,f,g,Tn(w)?0:l-w,l),_=0,b=s-1;_<b;_++)ZT(t,f,g,r[_],r[_+1]);return ZT(t,f,g,d,Tn(w)?t.length:d+w),f}return ZT(t,f,g),f}(r,r.ticks),r._labelSizes=null),d&&r._convertTicksToLabels(r.ticks),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate()}configure(){const t=this;let i,r,e=t.options.reverse;t.isHorizontal()?(i=t.left,r=t.right):(i=t.top,r=t.bottom,e=!e),t._startPixel=i,t._endPixel=r,t._reversePixels=e,t._length=r-i,t._alignToPixels=t.options.alignToPixels}afterUpdate(){gi(this.options.afterUpdate,[this])}beforeSetDimensions(){gi(this.options.beforeSetDimensions,[this])}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0}afterSetDimensions(){gi(this.options.afterSetDimensions,[this])}_callHooks(t){const e=this;e.chart.notifyPlugins(t,e.getContext()),gi(e.options[t],[e])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this,i=e.options.ticks;let r,s,l;for(r=0,s=t.length;r<s;r++)l=t[r],l.label=gi(i.callback,[l.value,r,t],e)}afterTickToLabelConversion(){gi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this,e=t.options,i=e.ticks,r=t.ticks.length,s=i.minRotation||0,l=i.maxRotation;let f,g,_,d=s;if(!t._isVisible()||!i.display||s>=l||r<=1||!t.isHorizontal())return void(t.labelRotation=s);const b=t._getLabelSizes(),w=b.widest.width,T=b.highest.height,N=es(t.chart.width-w,0,t.maxWidth);f=e.offset?t.maxWidth/r:N/(r-1),w+6>f&&(f=N/(r-(e.offset?.5:1)),g=t.maxHeight-Aw(e.grid)-i.padding-uB(e.title,t.chart.options.font),_=Math.sqrt(w*w+T*T),d=ZN(Math.min(Math.asin(es((b.highest.height+6)/f,-1,1)),Math.asin(es(g/_,-1,1))-Math.asin(es(T/_,-1,1)))),d=Math.max(s,Math.min(l,d))),t.labelRotation=d}afterCalculateLabelRotation(){gi(this.options.afterCalculateLabelRotation,[this])}beforeFit(){gi(this.options.beforeFit,[this])}fit(){const t=this,e={width:0,height:0},{chart:i,options:{ticks:r,title:s,grid:l}}=t,d=t._isVisible(),f=t.isHorizontal();if(d){const g=uB(s,i.options.font);if(f?(e.width=t.maxWidth,e.height=Aw(l)+g):(e.height=t.maxHeight,e.width=Aw(l)+g),r.display&&t.ticks.length){const{first:_,last:b,widest:w,highest:T}=t._getLabelSizes(),N=2*r.padding,F=Ql(t.labelRotation),I=Math.cos(F),P=Math.sin(F);f?e.height=Math.min(t.maxHeight,e.height+(r.mirror?0:P*w.width+I*T.height)+N):e.width=Math.min(t.maxWidth,e.width+(r.mirror?0:I*w.width+P*T.height)+N),t._calculatePadding(_,b,P,I)}}t._handleMargins(),f?(t.width=t._length=i.width-t._margins.left-t._margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=i.height-t._margins.top-t._margins.bottom)}_calculatePadding(t,e,i,r){const s=this,{ticks:{align:l,padding:d},position:f}=s.options,g=0!==s.labelRotation,_="top"!==f&&"x"===s.axis;if(s.isHorizontal()){const b=s.getPixelForTick(0)-s.left,w=s.right-s.getPixelForTick(s.ticks.length-1);let T=0,N=0;g?_?(T=r*t.width,N=i*e.height):(T=i*t.height,N=r*e.width):"start"===l?N=e.width:"end"===l?T=t.width:(T=t.width/2,N=e.width/2),s.paddingLeft=Math.max((T-b+d)*s.width/(s.width-b),0),s.paddingRight=Math.max((N-w+d)*s.width/(s.width-w),0)}else{let b=e.height/2,w=t.height/2;"start"===l?(b=0,w=t.height):"end"===l&&(b=e.height,w=0),s.paddingTop=b+d,s.paddingBottom=w+d}}_handleMargins(){const t=this;t._margins&&(t._margins.left=Math.max(t.paddingLeft,t._margins.left),t._margins.top=Math.max(t.paddingTop,t._margins.top),t._margins.right=Math.max(t.paddingRight,t._margins.right),t._margins.bottom=Math.max(t.paddingBottom,t._margins.bottom))}afterFit(){gi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){const e=this;let i,r;for(e.beforeTickToLabelConversion(),e.generateTickLabels(t),i=0,r=t.length;i<r;i++)Tn(t[i].label)&&(t.splice(i,1),r--,i--);e.afterTickToLabelConversion()}_getLabelSizes(){const t=this;let e=t._labelSizes;if(!e){const i=t.options.ticks.sampleSize;let r=t.ticks;i<r.length&&(r=cB(r,i)),t._labelSizes=e=t._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],l=[];let g,_,b,w,T,N,F,I,P,L,U,d=0,f=0;for(g=0;g<e;++g){if(w=t[g].label,T=this._resolveTickFontOptions(g),i.font=N=T.string,F=r[N]=r[N]||{data:{},gc:[]},I=T.lineHeight,P=L=0,Tn(w)||pi(w)){if(pi(w))for(_=0,b=w.length;_<b;++_)U=w[_],!Tn(U)&&!pi(U)&&(P=BT(i,F.data,F.gc,P,U),L+=I)}else P=BT(i,F.data,F.gc,P,w),L=I;s.push(P),l.push(L),d=Math.max(P,d),f=Math.max(L,f)}!function(n,t){Un(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(r,e);const J=s.indexOf(d),K=l.indexOf(f),ye=Fe=>({width:s[Fe]||0,height:l[Fe]||0});return{first:ye(0),last:ye(e-1),widest:ye(J),highest:ye(K),widths:s,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){const e=this;e._reversePixels&&(t=1-t);const i=e._startPixel+t*e._length;return es(e._alignToPixels?dm(e.chart,i,0):i,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this,i=e.ticks||[];if(t>=0&&t<i.length){const r=i[t];return r.$context||(r.$context=function(n,t,e){return Object.assign(Object.create(n),{tick:e,index:t,type:"tick"})}(e.getContext(),t,r))}return e.$context||(e.$context=function(n,t){return Object.assign(Object.create(n),{scale:t,type:"scale"})}(e.chart.getContext(),e))}_tickSize(){const t=this,e=t.options.ticks,i=Ql(t.labelRotation),r=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),l=t._getLabelSizes(),d=e.autoSkipPadding||0,f=l?l.widest.width+d:0,g=l?l.highest.height+d:0;return t.isHorizontal()?g*r>f*s?f/r:g/s:g*s<f*r?g/r:f/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this,i=e.axis,r=e.chart,s=e.options,{grid:l,position:d}=s,f=l.offset,g=e.isHorizontal(),b=e.ticks.length+(f?1:0),w=Aw(l),T=[],N=l.setContext(e.getContext()),F=N.drawBorder?N.borderWidth:0,I=F/2,P=function(me){return dm(r,me,F)};let L,U,J,K,ye,Fe,Pe,Xe,dt,qe,at,Ze;if("top"===d)L=P(e.bottom),Fe=e.bottom-w,Xe=L-I,qe=P(t.top)+I,Ze=t.bottom;else if("bottom"===d)L=P(e.top),qe=t.top,Ze=P(t.bottom)-I,Fe=L+I,Xe=e.top+w;else if("left"===d)L=P(e.right),ye=e.right-w,Pe=L-I,dt=P(t.left)+I,at=t.right;else if("right"===d)L=P(e.left),dt=t.left,at=P(t.right)-I,ye=L+I,Pe=e.left+w;else if("x"===i){if("center"===d)L=P((t.top+t.bottom)/2+.5);else if(xn(d)){const me=Object.keys(d)[0];L=P(e.chart.scales[me].getPixelForValue(d[me]))}qe=t.top,Ze=t.bottom,Fe=L+I,Xe=Fe+w}else if("y"===i){if("center"===d)L=P((t.left+t.right)/2);else if(xn(d)){const me=Object.keys(d)[0];L=P(e.chart.scales[me].getPixelForValue(d[me]))}ye=L-I,Pe=ye-w,dt=t.left,at=t.right}const pe=mn(s.ticks.maxTicksLimit,b),$e=Math.max(1,Math.ceil(b/pe));for(U=0;U<b;U+=$e){const me=l.setContext(e.getContext(U)),Ge=me.lineWidth,ft=me.color,ut=l.borderDash||[],_t=me.borderDashOffset,St=me.tickWidth,Bt=me.tickColor,Ii=me.tickBorderDash||[],_n=me.tickBorderDashOffset;J=y4(e,U,f),void 0!==J&&(K=dm(r,J,Ge),g?ye=Pe=dt=at=K:Fe=Xe=qe=Ze=K,T.push({tx1:ye,ty1:Fe,tx2:Pe,ty2:Xe,x1:dt,y1:qe,x2:at,y2:Ze,width:Ge,color:ft,borderDash:ut,borderDashOffset:_t,tickWidth:St,tickColor:Bt,tickBorderDash:Ii,tickBorderDashOffset:_n}))}return e._ticksLength=b,e._borderValue=L,T}_computeLabelItems(t){const e=this,i=e.axis,r=e.options,{position:s,ticks:l}=r,d=e.isHorizontal(),f=e.ticks,{align:g,crossAlign:_,padding:b,mirror:w}=l,T=Aw(r.grid),N=T+b,F=w?-b:N,I=-Ql(e.labelRotation),P=[];let L,U,J,K,ye,Fe,Pe,Xe,dt,qe,at,Ze,pe="middle";if("top"===s)Fe=e.bottom-F,Pe=e._getXAxisLabelAlignment();else if("bottom"===s)Fe=e.top+F,Pe=e._getXAxisLabelAlignment();else if("left"===s){const me=e._getYAxisLabelAlignment(T);Pe=me.textAlign,ye=me.x}else if("right"===s){const me=e._getYAxisLabelAlignment(T);Pe=me.textAlign,ye=me.x}else if("x"===i){if("center"===s)Fe=(t.top+t.bottom)/2+N;else if(xn(s)){const me=Object.keys(s)[0];Fe=e.chart.scales[me].getPixelForValue(s[me])+N}Pe=e._getXAxisLabelAlignment()}else if("y"===i){if("center"===s)ye=(t.left+t.right)/2-N;else if(xn(s)){const me=Object.keys(s)[0];ye=e.chart.scales[me].getPixelForValue(s[me])}Pe=e._getYAxisLabelAlignment(T).textAlign}"y"===i&&("start"===g?pe="top":"end"===g&&(pe="bottom"));const $e=e._getLabelSizes();for(L=0,U=f.length;L<U;++L){J=f[L],K=J.label;const me=l.setContext(e.getContext(L));Xe=e.getPixelForTick(L)+l.labelOffset,dt=e._resolveTickFontOptions(L),qe=dt.lineHeight,at=pi(K)?K.length:1;const Ge=at/2,ft=me.color,ut=me.textStrokeColor,_t=me.textStrokeWidth;let St;if(d?(ye=Xe,Ze="top"===s?"near"===_||0!==I?-at*qe+qe/2:"center"===_?-$e.highest.height/2-Ge*qe+qe:qe/2-$e.highest.height:"near"===_||0!==I?qe/2:"center"===_?$e.highest.height/2-Ge*qe:$e.highest.height-at*qe,w&&(Ze*=-1)):(Fe=Xe,Ze=(1-at)*qe/2),me.showLabelBackdrop){const Bt=_o(me.backdropPadding),Ii=$e.heights[L],_n=$e.widths[L];let Ni=Fe+Ze-Bt.top,Yi=ye-Bt.left;switch(pe){case"middle":Ni-=Ii/2;break;case"bottom":Ni-=Ii}switch(Pe){case"center":Yi-=_n/2;break;case"right":Yi-=_n}St={left:Yi,top:Ni,width:_n+Bt.width,height:Ii+Bt.height,color:me.backdropColor}}P.push({rotation:I,label:K,font:dt,color:ft,strokeColor:ut,strokeWidth:_t,textOffset:Ze,textAlign:Pe,textBaseline:pe,translation:[ye,Fe],backdrop:St})}return P}_getXAxisLabelAlignment(){const{position:e,ticks:i}=this.options;if(-Ql(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===i.align?s="left":"end"===i.align&&(s="right"),s}_getYAxisLabelAlignment(t){const e=this,{position:i,ticks:{crossAlign:r,mirror:s,padding:l}}=e.options,f=t+l,g=e._getLabelSizes().widest.width;let _,b;return"left"===i?s?(b=e.right+l,"near"===r?_="left":"center"===r?(_="center",b+=g/2):(_="right",b+=g)):(b=e.right-f,"near"===r?_="right":"center"===r?(_="center",b-=g/2):(_="left",b=e.left)):"right"===i?s?(b=e.left+l,"near"===r?_="right":"center"===r?(_="center",b-=g/2):(_="left",b-=g)):(b=e.left+f,"near"===r?_="left":"center"===r?(_="center",b+=g/2):(_="right",b=e.right)):_="right",{textAlign:_,x:b}}_computeLabelArea(){const t=this;if(t.options.ticks.mirror)return;const e=t.chart,i=t.options.position;return"left"===i||"right"===i?{top:0,left:t.left,bottom:e.height,right:t.right}:"top"===i||"bottom"===i?{top:t.top,left:0,bottom:t.bottom,right:e.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,l),t.restore())}getLineWidthForValue(t){const e=this,i=e.options.grid;if(!e._isVisible()||!i.display)return 0;const s=e.ticks.findIndex(l=>l.value===t);return s>=0?i.setContext(e.getContext(s)).lineWidth:0}drawGrid(t){const e=this,i=e.options.grid,r=e.ctx,s=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));let l,d;const f=(g,_,b)=>{!b.width||!b.color||(r.save(),r.lineWidth=b.width,r.strokeStyle=b.color,r.setLineDash(b.borderDash||[]),r.lineDashOffset=b.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(_.x,_.y),r.stroke(),r.restore())};if(i.display)for(l=0,d=s.length;l<d;++l){const g=s[l];i.drawOnChartArea&&f({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),i.drawTicks&&f({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const t=this,{chart:e,ctx:i,options:{grid:r}}=t,s=r.setContext(t.getContext()),l=r.drawBorder?s.borderWidth:0;if(!l)return;const d=r.setContext(t.getContext(0)).lineWidth,f=t._borderValue;let g,_,b,w;t.isHorizontal()?(g=dm(e,t.left,l)-l/2,_=dm(e,t.right,d)+d/2,b=w=f):(b=dm(e,t.top,l)-l/2,w=dm(e,t.bottom,d)+d/2,g=_=f),i.save(),i.lineWidth=s.borderWidth,i.strokeStyle=s.borderColor,i.beginPath(),i.moveTo(g,b),i.lineTo(_,w),i.stroke(),i.restore()}drawLabels(t){const e=this;if(!e.options.ticks.display)return;const r=e.ctx,s=e._computeLabelArea();s&&jT(r,s);const l=e._labelItems||(e._labelItems=e._computeLabelItems(t));let d,f;for(d=0,f=l.length;d<f;++d){const g=l[d],_=g.font,b=g.label;g.backdrop&&(r.fillStyle=g.backdrop.color,r.fillRect(g.backdrop.left,g.backdrop.top,g.backdrop.width,g.backdrop.height)),fm(r,b,0,g.textOffset,_,g)}s&&HT(r)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Lr(i.font),l=_o(i.padding),d=i.align;let f=s.lineHeight/2;"bottom"===e||"center"===e||xn(e)?(f+=l.bottom,pi(i.text)&&(f+=s.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:g,titleY:_,maxWidth:b,rotation:w}=function(n,t,e,i){const{top:r,left:s,bottom:l,right:d,chart:f}=n,{chartArea:g,scales:_}=f;let w,T,N,b=0;const F=l-r,I=d-s;if(n.isHorizontal()){if(T=Vs(i,s,d),xn(e)){const P=Object.keys(e)[0];N=_[P].getPixelForValue(e[P])+F-t}else N="center"===e?(g.bottom+g.top)/2+F-t:lB(n,e,t);w=d-s}else{if(xn(e)){const P=Object.keys(e)[0];T=_[P].getPixelForValue(e[P])-I+t}else T="center"===e?(g.left+g.right)/2-I+t:lB(n,e,t);N=Vs(i,l,r),b="left"===e?-cr:cr}return{titleX:T,titleY:N,maxWidth:w,rotation:b}}(this,f,e,d);fm(t,i.text,0,0,s,{color:i.color,maxWidth:b,rotation:w,textAlign:C4(d,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){const e=this;!e._isVisible()||(e.drawBackground(),e.drawGrid(t),e.drawBorder(),e.drawTitle(),e.drawLabels(t))}_layers(){const t=this,e=t.options,i=e.ticks&&e.ticks.z||0,r=mn(e.grid&&e.grid.z,-1);return t._isVisible()&&t.draw===_m.prototype.draw?[{z:r,draw(s){t.drawBackground(),t.drawGrid(s),t.drawTitle()}},{z:r+1,draw(){t.drawBorder()}},{z:i,draw(s){t.drawLabels(s)}}]:[{z:i,draw(s){t.draw(s)}}]}getMatchingVisibleMetas(t){const e=this,i=e.chart.getSortedVisibleDatasetMetas(),r=e.axis+"AxisID",s=[];let l,d;for(l=0,d=i.length;l<d;++l){const f=i[l];f[r]===e.id&&(!t||f.type===t)&&s.push(f)}return s}_resolveTickFontOptions(t){return Lr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this,e=t._resolveTickFontOptions(0).lineHeight;return(t.isHorizontal()?t.width:t.height)/e}}class KT{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=this,i=Object.getPrototypeOf(t);let r;var n;"id"in(n=i)&&"defaults"in n&&(r=e.register(i));const s=e.items,l=t.id,d=e.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in s||(s[l]=t,function(n,t,e){const i=hw(Object.create(null),[e?vn.get(e):{},vn.get(t),n.defaults]);vn.set(t,i),n.defaultRoutes&&function(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),l=t[e].split("."),d=l.pop(),f=l.join(".");vn.route(s,r,f,d)})}(t,n.defaultRoutes),n.descriptors&&vn.describe(t,n.descriptors)}(t,d,r),e.override&&vn.override(t.id,t.overrides)),d}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in vn[r]&&(delete vn[r][i],this.override&&delete um[i])}}var Td=new class{constructor(){this.controllers=new KT(xd,"datasets",!0),this.elements=new KT(tc,"elements"),this.plugins=new KT(Object,"plugins"),this.scales=new KT(_m,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){const r=this;[...e].forEach(s=>{const l=i||r._getRegistryForType(s);i||l.isForType(s)||l===r.plugins&&s.id?r._exec(t,l,s):Un(s,d=>{const f=i||r._getRegistryForType(d);r._exec(t,f,d)})})}_exec(t,e,i){const r=qN(t);gi(i["before"+r],[],i),e[t](i),gi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}};class S4{constructor(){this._init=[]}notify(t,e,i,r){const s=this;"beforeInit"===e&&(s._init=s._createDescriptors(t,!0),s._notify(s._init,t,"install"));const l=r?s._descriptors(t).filter(r):s._descriptors(t),d=s._notify(l,t,e,i);return"destroy"===e&&(s._notify(l,t,"stop"),s._notify(s._init,t,"uninstall")),d}_notify(t,e,i,r){r=r||{};for(const s of t){const l=s.plugin;if(!1===gi(l[i],[e,r,s.options],l)&&r.cancelable)return!1}return!0}invalidate(){Tn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=mn(i.options&&i.options.plugins,{}),s=function(n){const t=[],e=Object.keys(Td.plugins.items);for(let r=0;r<e.length;r++)t.push(Td.getPlugin(e[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const s=i[r];-1===t.indexOf(s)&&t.push(s)}return t}(i);return!1!==r||e?function(n,t,e,i){const r=[],s=n.getContext();for(let l=0;l<t.length;l++){const d=t[l],g=O4(e[d.id],i);null!==g&&r.push({plugin:d,options:N4(n.config,d,g,s)})}return r}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,l)=>s.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function O4(n,t){return t||!1!==n?!0===n?{}:n:null}function N4(n,t,e,i){const r=n.pluginScopeKeys(t),s=n.getOptionScopes(e,r);return n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bk(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(vn.datasets[n]||{}).indexAxis||"x"}function vk(n,t){return"x"===n||"y"===n?n:t.axis||function(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function dB(n){const t=n.options||(n.options={});t.plugins=mn(t.plugins,{}),t.scales=function(n,t){const e=um[n.type]||{scales:{}},i=t.scales||{},r=bk(n.type,t),s=Object.create(null),l=Object.create(null);return Object.keys(i).forEach(d=>{const f=i[d],g=vk(d,f),_=function(n,t){return n===t?"_index_":"_value_"}(g,r),b=e.scales||{};s[g]=s[g]||d,l[d]=fw(Object.create(null),[{axis:g},f,b[g],b[_]])}),n.data.datasets.forEach(d=>{const f=d.type||n.type,g=d.indexAxis||bk(f,t),b=(um[f]||{}).scales||{};Object.keys(b).forEach(w=>{const T=function(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(w,g),N=d[T+"AxisID"]||s[T]||T;l[N]=l[N]||Object.create(null),fw(l[N],[{axis:T},i[N],b[w]])})}),Object.keys(l).forEach(d=>{const f=l[d];fw(f,[vn.scales[f.type],vn.scale])}),l}(n,t)}function hB(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const fB=new Map,pB=new Set;function JT(n,t){let e=fB.get(n);return e||(e=t(),fB.set(n,e),pB.add(e)),e}const Ow=(n,t,e)=>{const i=jf(t,e);void 0!==i&&n.add(i)};class B4{constructor(t){var n;this._config=((n=(n=t)||{}).data=hB(n.data),dB(n),n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hB(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dB(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return JT(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return JT(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return JT(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return JT(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,l=this._cachedScopes(t,i),d=l.get(e);if(d)return d;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(b=>Ow(f,t,b))),_.forEach(b=>Ow(f,r,b)),_.forEach(b=>Ow(f,um[s]||{},b)),_.forEach(b=>Ow(f,vn,b)),_.forEach(b=>Ow(f,ik,b))});const g=Array.from(f);return 0===g.length&&g.push(Object.create(null)),pB.has(e)&&l.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,um[e]||{},vn.datasets[e]||{},{type:e},vn,ik]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:l,subPrefixes:d}=gB(this._resolverCache,t,r);let f=l;(function(n,t){const{isScriptable:e,isIndexable:i}=cL(n);for(const r of t)if(e(r)&&vb(n[r])||i(r)&&pi(n[r]))return!0;return!1})(l,e)&&(s.$shared=!1,f=Cb(l,i=vb(i)?i():i,this.createResolver(t,i,d)));for(const g of e)s[g]=f[g];return s}createResolver(t,e,i=[""],r){const{resolver:s}=gB(this._resolverCache,t,i);return xn(e)?Cb(s,e,void 0,r):s}}function gB(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:lk(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,s)),s}const H4=["top","bottom","left","right","chartArea"];function mB(n,t){return"top"===n||"bottom"===n||-1===H4.indexOf(n)&&"x"===t}function _B(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function yB(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),gi(e&&e.onComplete,[n],t)}function z4(n){const t=n.chart,e=t.options.animation;gi(e&&e.onProgress,[n],t)}function bB(n){return _L()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const XT={},vB=n=>{const t=bB(n);return Object.values(XT).filter(e=>e.canvas===t).pop()};class Iw{constructor(t,e){const i=this,r=this.config=new B4(e),s=bB(t),l=vB(s);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas can be reused.");const d=r.createResolver(r.chartOptionScopes(),i.getContext());var n;this.platform=new(r.platform||(n=s,!_L()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?KU:l4));const f=i.platform.acquireContext(s,d.aspectRatio),g=f&&f.canvas,_=g&&g.height,b=g&&g.width;this.id=Rz(),this.ctx=f,this.canvas=g,this.width=b,this.height=_,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new S4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(n,t){let e;return function(){return t?(clearTimeout(e),e=setTimeout(n,t)):n(),t}}(()=>this.update("resize"),d.resizeDelay||0),XT[i.id]=i,f&&g?(Dd.listen(i,"complete",yB),Dd.listen(i,"progress",z4),i._initialize(),i.attached&&i.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Tn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){const t=this;return t.notifyPlugins("beforeInit"),t.options.responsive?t.resize():bL(t,t.options.devicePixelRatio),t.bindEvents(),t.notifyPlugins("afterInit"),t}clear(){return rL(this.canvas,this.ctx),this}stop(){return Dd.stop(this),this}resize(t,e){Dd.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this,r=i.options,d=i.platform.getMaximumSize(i.canvas,t,e,r.maintainAspectRatio&&i.aspectRatio),f=r.devicePixelRatio||i.platform.getDevicePixelRatio();i.width=d.width,i.height=d.height,i._aspectRatio=i.aspectRatio,bL(i,f,!0)&&(i.notifyPlugins("resize",{size:d}),gi(r.onResize,[i,d],i),i.attached&&i._doResize()&&i.render())}ensureScalesHaveIDs(){Un(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this,e=t.options,i=e.scales,r=t.scales,s=Object.keys(r).reduce((d,f)=>(d[f]=!1,d),{});let l=[];i&&(l=l.concat(Object.keys(i).map(d=>{const f=i[d],g=vk(d,f),_="r"===g,b="x"===g;return{options:f,dposition:_?"chartArea":b?"bottom":"left",dtype:_?"radialLinear":b?"category":"linear"}}))),Un(l,d=>{const f=d.options,g=f.id,_=vk(g,f),b=mn(f.type,d.dtype);(void 0===f.position||mB(f.position,_)!==mB(d.dposition))&&(f.position=d.dposition),s[g]=!0;let w=null;g in r&&r[g].type===b?w=r[g]:(w=new(Td.getScale(b))({id:g,type:b,ctx:t.ctx,chart:t}),r[w.id]=w),w.init(f,e)}),Un(s,(d,f)=>{d||delete r[f]}),Un(r,d=>{js.configure(t,d,d.options),js.addBox(t,d)})}_updateMetasets(){const t=this,e=t._metasets,i=t.data.datasets.length,r=e.length;if(e.sort((s,l)=>s.index-l.index),r>i){for(let s=i;s<r;++s)t._destroyDatasetMeta(s);e.splice(i,r-i)}t._sortedMetasets=e.slice(0).sort(_B("order","index"))}_removeUnreferencedMetasets(){const t=this,{_metasets:e,data:{datasets:i}}=t;e.length>i.length&&delete t._stacks,e.forEach((r,s)=>{0===i.filter(l=>l===r._dataset).length&&t._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=this,e=[],i=t.data.datasets;let r,s;for(t._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){const l=i[r];let d=t.getDatasetMeta(r);const f=l.type||t.config.type;if(d.type&&d.type!==f&&(t._destroyDatasetMeta(r),d=t.getDatasetMeta(r)),d.type=f,d.indexAxis=l.indexAxis||bk(f,t.options),d.order=l.order||0,d.index=r,d.label=""+l.label,d.visible=t.isDatasetVisible(r),d.controller)d.controller.updateIndex(r),d.controller.linkScales();else{const g=Td.getController(f),{datasetElementType:_,dataElementType:b}=vn.datasets[f];Object.assign(g.prototype,{dataElementType:Td.getElement(b),datasetElementType:_&&Td.getElement(_)}),d.controller=new g(t,r),e.push(d.controller)}}return t._updateMetasets(),e}_resetElements(){const t=this;Un(t.data.datasets,(e,i)=>{t.getDatasetMeta(i).controller.reset()},t)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this,i=e.config;i.update(),e._options=i.createResolver(i.chartOptionScopes(),e.getContext()),Un(e.scales,g=>{js.removeBox(e,g)});const r=e._animationsDisabled=!e.options.animation;if(e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),(!((n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0})(new Set(Object.keys(e._listeners)),new Set(e.options.events))||!!this._responsiveListeners!==e.options.responsive)&&(e.unbindEvents(),e.bindEvents()),e._plugins.invalidate(),!1===e.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const d=e.buildOrUpdateControllers();e.notifyPlugins("beforeElementsUpdate");let f=0;for(let g=0,_=e.data.datasets.length;g<_;g++){const{controller:b}=e.getDatasetMeta(g),w=!r&&-1===d.indexOf(b);b.buildOrUpdateElements(w),f=Math.max(+b.getMaxOverflow(),f)}e._minPadding=f,e._updateLayout(f),r||Un(d,g=>{g.reset()}),e._updateDatasets(t),e.notifyPlugins("afterUpdate",{mode:t}),e._layers.sort(_B("z","_idx")),e._lastEvent&&e._eventHandler(e._lastEvent,!0),e.render()}_updateLayout(t){const e=this;if(!1===e.notifyPlugins("beforeLayout",{cancelable:!0}))return;js.update(e,e.width,e.height,t);const i=e.chartArea,r=i.width<=0||i.height<=0;e._layers=[],Un(e.boxes,s=>{r&&"chartArea"===s.position||(s.configure&&s.configure(),e._layers.push(...s._layers()))},e),e._layers.forEach((s,l)=>{s._idx=l}),e.notifyPlugins("afterLayout")}_updateDatasets(t){const e=this,i="function"==typeof t;if(!1!==e.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let r=0,s=e.data.datasets.length;r<s;++r)e._updateDataset(r,i?t({datasetIndex:r}):t);e.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this,r=i.getDatasetMeta(t),s={meta:r,index:t,mode:e,cancelable:!0};!1!==i.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(e),s.cancelable=!1,i.notifyPlugins("afterDatasetUpdate",s))}render(){const t=this;!1!==t.notifyPlugins("beforeRender",{cancelable:!0})&&(Dd.has(t)?t.attached&&!Dd.running(t)&&Dd.start(t):(t.draw(),yB({chart:t})))}draw(){const t=this;let e;if(t._resizeBeforeDraw){const{width:r,height:s}=t._resizeBeforeDraw;t._resize(r,s),t._resizeBeforeDraw=null}if(t.clear(),t.width<=0||t.height<=0||!1===t.notifyPlugins("beforeDraw",{cancelable:!0}))return;const i=t._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(t.chartArea);for(t._drawDatasets();e<i.length;++e)i[e].draw(t.chartArea);t.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,r=[];let s,l;for(s=0,l=i.length;s<l;++s){const d=i[s];(!t||d.visible)&&r.push(d)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const t=this;if(!1===t.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=t.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)t._drawDataset(e[i]);t.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this,i=e.ctx,r=t._clip,s=!r.disabled,l=e.chartArea,d={meta:t,index:t.index,cancelable:!0};!1!==e.notifyPlugins("beforeDatasetDraw",d)&&(s&&jT(i,{left:!1===r.left?0:l.left-r.left,right:!1===r.right?e.width:l.right+r.right,top:!1===r.top?0:l.top-r.top,bottom:!1===r.bottom?e.height:l.bottom+r.bottom}),t.controller.draw(),s&&HT(i),d.cancelable=!1,e.notifyPlugins("afterDatasetDraw",d))}getElementsAtEventForMode(t,e,i,r){const s=zU.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const i=this.data.datasets[t],r=this._metasets;let s=r.filter(l=>l&&l._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=this,s=i?"show":"hide",l=r.getDatasetMeta(t),d=l.controller._resolveAnimations(void 0,s);Fo(e)?(l.data[e].hidden=!i,r.update()):(r.setDatasetVisibility(t,i),d.update(l,{visible:i}),r.update(f=>f.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this,i=e._metasets&&e._metasets[t];i&&i.controller&&(i.controller._destroy(),delete e._metasets[t])}destroy(){const t=this,{canvas:e,ctx:i}=t;let r,s;for(t.stop(),Dd.remove(t),r=0,s=t.data.datasets.length;r<s;++r)t._destroyDatasetMeta(r);t.config.clearCache(),e&&(t.unbindEvents(),rL(e,i),t.platform.releaseContext(i),t.canvas=null,t.ctx=null),t.notifyPlugins("destroy"),delete XT[t.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this,e=t._listeners,i=t.platform,s=function(l,d,f){l.offsetX=d,l.offsetY=f,t._eventHandler(l)};Un(t.options.events,l=>((l,d)=>{i.addEventListener(t,l,d),e[l]=d})(l,s))}bindResponsiveEvents(){const t=this;t._responsiveListeners||(t._responsiveListeners={});const e=t._responsiveListeners,i=t.platform,r=(g,_)=>{i.addEventListener(t,g,_),e[g]=_},s=(g,_)=>{e[g]&&(i.removeEventListener(t,g,_),delete e[g])},l=(g,_)=>{t.canvas&&t.resize(g,_)};let d;const f=()=>{s("attach",f),t.attached=!0,t.resize(),r("resize",l),r("detach",d)};d=()=>{t.attached=!1,s("resize",l),r("attach",f)},i.isAttached(t.canvas)?f():d()}unbindEvents(){const t=this;Un(t._listeners,(e,i)=>{t.platform.removeEventListener(t,i,e)}),t._listeners={},Un(t._responsiveListeners,(e,i)=>{t.platform.removeEventListener(t,i,e)}),t._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,l,d,f;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const g=l&&this.getDatasetMeta(l.datasetIndex).controller;g&&g[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this,i=e._active||[],r=t.map(({datasetIndex:l,index:d})=>{const f=e.getDatasetMeta(l);if(!f)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:f.data[d],index:d}});!ST(r,i)&&(e._active=r,e._updateHoverStyles(r,i))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this,s=r.options.hover,l=(g,_)=>g.filter(b=>!_.some(w=>b.datasetIndex===w.datasetIndex&&b.index===w.index)),d=l(e,t),f=i?t:l(t,e);d.length&&r.updateHoverStyle(d,s.mode,!1),f.length&&s.mode&&r.updateHoverStyle(f,s.mode,!0)}_eventHandler(t,e){const i=this,r={event:t,replay:e,cancelable:!0},s=d=>(d.options.events||this.options.events).includes(t.type);if(!1===i.notifyPlugins("beforeEvent",r,s))return;const l=i._handleEvent(t,e);return r.cancelable=!1,i.notifyPlugins("afterEvent",r,s),(l||r.changed)&&i.render(),i}_handleEvent(t,e){const i=this,{_active:r=[],options:s}=i,l=s.hover;let f=[],g=!1,_=null;return"mouseout"!==t.type&&(f=i.getElementsAtEventForMode(t,l.mode,l,e),_="click"===t.type?i._lastEvent:t),i._lastEvent=null,hm(t,i.chartArea,i._minPadding)&&(gi(s.onHover,[t,f,i],i),("mouseup"===t.type||"click"===t.type||"contextmenu"===t.type)&&gi(s.onClick,[t,f,i],i)),g=!ST(f,r),(g||e)&&(i._active=f,i._updateHoverStyles(f,r,e)),i._lastEvent=_,g}}const wB=()=>Un(Iw.instances,n=>n._plugins.invalidate()),Hf=!0;function CB(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:l,outerRadius:d,innerRadius:f}=t;let g=r/d;n.beginPath(),n.arc(s,l,d,i-g,e+g),f>r?(g=r/f,n.arc(s,l,f,e+g,i-g,!0)):n.arc(s,l,r,e+cr,i-cr),n.closePath(),n.clip()}function Tb(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function wk(n,t,e,i,r){const{x:s,y:l,startAngle:d,pixelMargin:f,innerRadius:g}=t,_=Math.max(t.outerRadius+i+e-f,0),b=g>0?g+i+e+f:0;let w=0;const T=r-d;if(i){const ft=((g>0?g-i:0)+(_>0?_-i:0))/2;w=(T-(0!==ft?T*ft/(ft+i):T))/2}const F=(T-Math.max(.001,T*_-e/Gi)/_)/2,I=d+F+w,P=r-F-w,{outerStart:L,outerEnd:U,innerStart:J,innerEnd:K}=function(n,t,e,i){const r=function(n){return sk(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,l=Math.min(s,i*t/2),d=f=>{const g=(e-Math.min(s,f))*i/2;return es(f,0,Math.min(s,g))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:es(r.innerStart,0,l),innerEnd:es(r.innerEnd,0,l)}}(t,b,_,P-I),ye=_-L,Fe=_-U,Pe=I+L/ye,Xe=P-U/Fe,dt=b+J,qe=b+K,at=I+J/dt,Ze=P-K/qe;if(n.beginPath(),n.arc(s,l,_,Pe,Xe),U>0){const me=Tb(Fe,Xe,s,l);n.arc(me.x,me.y,U,Xe,P+cr)}const pe=Tb(qe,P,s,l);if(n.lineTo(pe.x,pe.y),K>0){const me=Tb(qe,Ze,s,l);n.arc(me.x,me.y,K,P+cr,Ze+Math.PI)}if(n.arc(s,l,b,P-K/b,I+J/b,!0),J>0){const me=Tb(dt,at,s,l);n.arc(me.x,me.y,J,at+Math.PI,I-cr)}const $e=Tb(ye,I,s,l);if(n.lineTo($e.x,$e.y),L>0){const me=Tb(ye,Pe,s,l);n.arc(me.x,me.y,L,I-cr,Pe)}n.closePath()}Object.defineProperties(Iw,{defaults:{enumerable:Hf,value:vn},instances:{enumerable:Hf,value:XT},overrides:{enumerable:Hf,value:um},registry:{enumerable:Hf,value:Td},version:{enumerable:Hf,value:"3.5.1"},getChart:{enumerable:Hf,value:vB},register:{enumerable:Hf,value:(...n)=>{Td.add(...n),wB()}},unregister:{enumerable:Hf,value:(...n)=>{Td.remove(...n),wB()}}});class Nw extends tc{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:l}=function(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*Gi&&(s+=ri),{angle:s,distance:r}}(r,{x:t,y:e}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=this.options.spacing/2;return(b>=ri||IT(s,d,f))&&l>=g+w&&l<=_+w}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:f,spacing:g}=this.options,_=(r+s)/2,b=(l+d+g+f)/2;return{x:e+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const e=this,{options:i,circumference:r}=e,s=(i.offset||0)/2,l=(i.spacing||0)/2;if(e.pixelMargin="inner"===i.borderAlign?.33:0,e.fullCircles=r>ri?Math.floor(r/ri):0,0===r||e.innerRadius<0||e.outerRadius<0)return;t.save();let d=0;if(s){d=s/2;const g=(e.startAngle+e.endAngle)/2;t.translate(Math.cos(g)*d,Math.sin(g)*d),e.circumference>=Gi&&(d=s)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor;const f=function(n,t,e,i){const{fullCircles:r,startAngle:s,circumference:l}=t;let d=t.endAngle;if(r){wk(n,t,e,i,s+ri);for(let f=0;f<r;++f)n.fill();isNaN(l)||(d=s+l%ri,l%ri==0&&(d+=ri))}return wk(n,t,e,i,d),n.fill(),d}(t,e,d,l);(function(n,t,e,i,r){const{options:s}=t,l="inner"===s.borderAlign;!s.borderWidth||(l?(n.lineWidth=2*s.borderWidth,n.lineJoin="round"):(n.lineWidth=s.borderWidth,n.lineJoin="bevel"),t.fullCircles&&function(n,t,e){const{x:i,y:r,startAngle:s,pixelMargin:l,fullCircles:d}=t,f=Math.max(t.outerRadius-l,0),g=t.innerRadius+l;let _;for(e&&CB(n,t,s+ri),n.beginPath(),n.arc(i,r,g,s+ri,s,!0),_=0;_<d;++_)n.stroke();for(n.beginPath(),n.arc(i,r,f,s,s+ri),_=0;_<d;++_)n.stroke()}(n,t,l),l&&CB(n,t,r),wk(n,t,e,i,r),n.stroke())})(t,e,d,l,f),t.restore()}}function EB(n,t,e=t){n.lineCap=mn(e.borderCapStyle,t.borderCapStyle),n.setLineDash(mn(e.borderDash,t.borderDash)),n.lineDashOffset=mn(e.borderDashOffset,t.borderDashOffset),n.lineJoin=mn(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=mn(e.borderWidth,t.borderWidth),n.strokeStyle=mn(e.borderColor,t.borderColor)}function q4(n,t,e){n.lineTo(e.x,e.y)}function DB(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:l,end:d}=t,f=Math.max(r,l),g=Math.min(s,d);return{count:i,start:f,loop:t.loop,ilen:g<f&&!(r<l&&s<l||r>d&&s>d)?i+g-f:g-f}}function K4(n,t,e,i){const{points:r,options:s}=t,{count:l,start:d,loop:f,ilen:g}=DB(r,e,i),_=function(n){return n.stepped?_8:n.tension||"monotone"===n.cubicInterpolationMode?y8:q4}(s);let T,N,F,{move:b=!0,reverse:w}=i||{};for(T=0;T<=g;++T)N=r[(d+(w?g-T:T))%l],!N.skip&&(b?(n.moveTo(N.x,N.y),b=!1):_(n,F,N,w,s.stepped),F=N);return f&&(N=r[(d+(w?g:0))%l],_(n,F,N,w,s.stepped)),!!f}function J4(n,t,e,i){const r=t.points,{count:s,start:l,ilen:d}=DB(r,e,i),{move:f=!0,reverse:g}=i||{};let w,T,N,F,I,P,_=0,b=0;const L=J=>(l+(g?d-J:J))%s,U=()=>{F!==I&&(n.lineTo(_,I),n.lineTo(_,F),n.lineTo(_,P))};for(f&&(T=r[L(0)],n.moveTo(T.x,T.y)),w=0;w<=d;++w){if(T=r[L(w)],T.skip)continue;const J=T.x,K=T.y,ye=0|J;ye===N?(K<F?F=K:K>I&&(I=K),_=(b*_+J)/++b):(U(),n.lineTo(J,K),N=ye,b=0,F=I=K),P=K}U()}function Ck(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?K4:J4}Nw.id="arc",Nw.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Nw.defaultRoutes={backgroundColor:"backgroundColor"};const t$="function"==typeof Path2D;let kw=(()=>{class n extends tc{constructor(e){super(),this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this,s=r.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||r._pointsUpdated||($8(r._points,s,e,s.spanGaps?r._loop:r._fullLoop,i),r._pointsUpdated=!0)}set points(e){const i=this;i._points=e,delete i._segments,delete i._path,i._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:l,end:d}=function(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function(n,t,e,i){return i&&i.setContext&&e?function(n,t,e,i){const r=AL(n.options),s=e.length,l=[];let d=t[0].start,f=d;for(const g of t){let w,_=r,b=e[d%s];for(f=d+1;f<=g.end;f++){const T=e[f%s];w=AL(i.setContext({type:"segment",p0:b,p1:T,p0DataIndex:(f-1)%s,p1DataIndex:f%s,datasetIndex:n._datasetIndex})),lU(w,_)&&(l.push({start:d,end:f-1,loop:g.loop,style:_}),_=w,d=f-1),b=T,_=w}d<f-1&&(l.push({start:d,end:f-1,loop:g.loop,style:w}),d=f-1)}return l}(n,t,e,i):t}(n,!0===i?[{start:l,end:d,loop:s}]:function(n,t,e,i){const r=n.length,s=[];let f,l=t,d=n[t];for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?d.skip||(s.push({start:t%r,end:(f-1)%r,loop:i=!1}),t=l=g.stop?f:null):(l=f,d.skip&&(t=f)),d=g}return null!==l&&s.push({start:t%r,end:l%r,loop:i}),s}(e,l,d<l?d+r:d,!!n._fullLoop&&0===l&&d===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this,s=r.options,l=e[i],d=r.points,f=ML(r,{property:i,start:l,end:l});if(!f.length)return;const g=[],_=function(n){return n.stepped?X8:n.tension||"monotone"===n.cubicInterpolationMode?Q8:gm}(s);let b,w;for(b=0,w=f.length;b<w;++b){const{start:T,end:N}=f[b],F=d[T],I=d[N];if(F===I){g.push(F);continue}const L=_(F,I,Math.abs((l-F[i])/(I[i]-F[i])),s.stepped);L[i]=e[i],g.push(L)}return 1===g.length?g[0]:g}pathSegment(e,i,r){return Ck(this)(e,this,i,r)}path(e,i,r){const s=this,l=s.segments,d=Ck(s);let f=s._loop;i=i||0,r=r||s.points.length-i;for(const g of l)f&=d(e,s,g,{start:i,end:i+r-1});return!!f}draw(e,i,r,s){const l=this;!(l.points||[]).length||!(l.options||{}).borderWidth||(e.save(),function(n,t,e,i){t$&&1===t.segments.length?function(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),EB(n,t.options),n.stroke(r)}(n,t,e,i):function(n,t,e,i){const{segments:r,options:s}=t,l=Ck(t);for(const d of r)EB(n,s,d.style),n.beginPath(),l(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,l,r,s),e.restore(),l.animated&&(l._pointsUpdated=!1,l._path=void 0))}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function xB(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}let TB=(()=>{class n extends tc{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:l,y:d}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(i-d,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return xB(this,e,"x",i)}inYRange(e,i){return xB(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this,s=r.options;r.skip||s.radius<.1||!hm(r,i,r.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,VT(e,s,r.x,r.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function MB(n,t){const{x:e,y:i,base:r,width:s,height:l}=n.getProps(["x","y","base","width","height"],t);let d,f,g,_,b;return n.horizontal?(b=l/2,d=Math.min(e,r),f=Math.max(e,r),g=i-b,_=i+b):(b=s/2,d=e-b,f=e+b,g=Math.min(i,r),_=Math.max(i,r)),{left:d,top:g,right:f,bottom:_}}function zf(n,t,e,i){return n?0:es(t,e,i)}function Ek(n,t,e,i){const r=null===t,s=null===e,d=n&&!(r&&s)&&MB(n,i);return d&&(r||t>=d.left&&t<=d.right)&&(s||e>=d.top&&e<=d.bottom)}function a$(n,t){n.rect(t.x,t.y,t.w,t.h)}function Dk(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class Pw extends tc{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const e=this.options,{inner:i,outer:r}=function(n){const t=MB(n),e=t.right-t.left,i=t.bottom-t.top,r=function(n,t,e){const r=n.borderSkipped,s=sL(n.options.borderWidth);return{t:zf(r.top,s.top,0,e),r:zf(r.right,s.right,0,t),b:zf(r.bottom,s.bottom,0,e),l:zf(r.left,s.left,0,t)}}(n,e/2,i/2),s=function(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=ok(r),l=Math.min(t,e),d=n.borderSkipped,f=i||xn(r);return{topLeft:zf(!f||d.top||d.left,s.topLeft,0,l),topRight:zf(!f||d.top||d.right,s.topRight,0,l),bottomLeft:zf(!f||d.bottom||d.left,s.bottomLeft,0,l),bottomRight:zf(!f||d.bottom||d.right,s.bottomRight,0,l)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),s=(n=r.radius).topLeft||n.topRight||n.bottomLeft||n.bottomRight?zT:a$,l=.33;var n;t.save(),(r.w!==i.w||r.h!==i.h)&&(t.beginPath(),s(t,Dk(r,l,i)),t.clip(),s(t,Dk(i,-l,r)),t.fillStyle=e.borderColor,t.fill("evenodd")),t.beginPath(),s(t,Dk(i,l,r)),t.fillStyle=e.backgroundColor,t.fill(),t.restore()}inRange(t,e,i){return Ek(this,t,e,i)}inXRange(t,e){return Ek(this,t,null,e)}inYRange(t,e){return Ek(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}function g$(n,t,e){const i=function(n){const t=n.options,e=t.fill;let i=mn(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(xn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return lr(r)&&Math.floor(r)===r?(("-"===i[0]||"+"===i[0])&&(r=t+r),!(r===t||r<0||r>=e)&&r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}Pw.id="bar",Pw.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},Pw.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class OB{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:l}=this;return t.arc(r,s,l,(e=e||{start:0,end:ri}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function IB(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}const w$=n=>"line"===n.type&&!n.hidden;function E$(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:l,last:d,point:f}=D$(s,t,"x");if(!(!f||l&&d))if(l)i.unshift(f);else if(n.push(f),!d)break}n.push(...i)}function D$(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,l=n.points;let d=!1,f=!1;for(let g=0;g<s.length;g++){const _=s[g],b=l[_.start][e],w=l[_.end][e];if(r>=b&&r<=w){d=r===b,f=r===w;break}}return{first:d,last:f,point:i}}function NB(n,t){let e=[],i=!1;return pi(n)?(i=!0,e=n):e=function(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:l,end:d})=>{d=IB(l,d,r);const f=r[l],g=r[d];null!==i?(s.push({x:f.x,y:i}),s.push({x:g.x,y:i})):null!==e&&(s.push({x:e,y:f.y}),s.push({x:e,y:g.y}))}),s}(n,t),e.length?new kw({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function T$(n,t,e){let r=n[t].fill;const s=[t];let l;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!lr(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;s.push(r),r=l.fill}return!1}function kB(n,t,e){n.beginPath(),t.path(n),n.lineTo(t.last().x,e),n.lineTo(t.first().x,e),n.closePath(),n.clip()}function xk(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=ec(r),s=ec(s)),{property:n,start:r,end:s}}function PB(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function S$(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:l,end:d}=e||{};"x"===s&&(n.beginPath(),n.rect(l,i,d-l,r-i),n.clip())}function RB(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}function FB(n,t){const{line:e,target:i,property:r,color:s,scale:l}=t,d=function(n,t,e){const i=n.segments,r=n.points,s=t.points,l=[];for(const d of i){let{start:f,end:g}=d;g=IB(f,g,r);const _=xk(e,r[f],r[g],d.loop);if(!t.segments){l.push({source:d,target:_,start:r[f],end:r[g]});continue}const b=ML(t,_);for(const w of b){const T=xk(e,s[w.start],s[w.end],w.loop),N=TL(d,r,T);for(const F of N)l.push({source:F,target:w,start:{[e]:PB(_,T,"start",Math.max)},end:{[e]:PB(_,T,"end",Math.min)}})}}return l}(e,i,r);for(const{source:f,target:g,start:_,end:b}of d){const{style:{backgroundColor:w=s}={}}=f,T=!0!==i;n.save(),n.fillStyle=w,S$(n,l,T&&xk(r,_,b)),n.beginPath();const N=!!e.pathSegment(n,f);let F;if(T){N?n.closePath():RB(n,i,b,r);const I=!!i.pathSegment(n,g,{move:N,reverse:!0});F=N&&I,F||RB(n,i,_,r)}n.closePath(),n.fill(F?"evenodd":"nonzero"),n.restore()}}function Tk(n,t,e){const i=function(n){const{chart:t,fill:e,line:i}=n;if(lr(e))return function(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function(n){const{chart:t,scale:e,index:i,line:r}=n,s=[],l=r.segments,d=r.points,f=function(n,t){const e=[],i=n.getSortedVisibleDatasetMetas();for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;w$(s)&&e.unshift(s.dataset)}return e}(t,i);f.push(NB({x:null,y:e.bottom},r));for(let g=0;g<l.length;g++){const _=l[g];for(let b=_.start;b<=_.end;b++)E$(s,d[b],f)}return new kw({points:s,options:{}})}(n);if("shape"===e)return!0;const r=function(n){return(n.scale||{}).getPointPositionForValue?function(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=[],l=i.reverse?t.max:t.min;let f,g,_;if(_="start"===e?l:"end"===e?i.reverse?t.min:t.max:xn(e)?e.value:t.getBaseValue(),i.grid.circular)return g=t.getPointPositionForValue(0,l),new OB({x:g.x,y:g.y,radius:t.getDistanceFromCenterForValue(_)});for(f=0;f<r;++f)s.push(t.getPointPositionForValue(f,_));return s}(n):function(n){const{scale:t={},fill:e}=n;let r,i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:xn(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),lr(i)?(r=t.isHorizontal(),{x:r?i:null,y:r?null:i}):null}(n)}(n);return r instanceof OB?r:NB(r,i)}(t),{line:r,scale:s,axis:l}=t,d=r.options,f=d.fill,g=d.backgroundColor,{above:_=g,below:b=g}=f||{};i&&r.points.length&&(jT(n,e),function(n,t){const{line:e,target:i,above:r,below:s,area:l,scale:d}=t,f=e._loop?"angle":t.axis;n.save(),"x"===f&&s!==r&&(kB(n,i,l.top),FB(n,{line:e,target:i,color:r,scale:d,property:f}),n.restore(),n.save(),kB(n,i,l.bottom)),FB(n,{line:e,target:i,color:s,scale:d,property:f}),n.restore()}(n,{line:r,target:i,above:_,below:b,area:e,scale:s,axis:l}),HT(n))}var LB={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,l,d,f;for(l=0;l<i;++l)s=n.getDatasetMeta(l),d=s.dataset,f=null,d&&d.options&&d instanceof kw&&(f={visible:n.isDatasetVisible(l),index:l,fill:g$(d,l,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:d}),s.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],f&&!1!==f.fill&&(f.fill=T$(r,l,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let l=r.length-1;l>=0;--l){const d=r[l].$filler;!d||(d.line.updateControlPoints(s,d.axis),i&&Tk(n.ctx,d,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;s&&Tk(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==e.drawTime||Tk(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const BB=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class VB extends tc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){const r=this;r.maxWidth=t,r.maxHeight=e,r._margins=i,r.setDimensions(),r.buildLabels(),r.fit()}setDimensions(){const t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=t._margins.left,t.right=t.width):(t.height=t.maxHeight,t.top=t._margins.top,t.bottom=t.height)}buildLabels(){const t=this,e=t.options.labels||{};let i=gi(e.generateLabels,[t.chart],t)||[];e.filter&&(i=i.filter(r=>e.filter(r,t.chart.data))),e.sort&&(i=i.sort((r,s)=>e.sort(r,s,t.chart.data))),t.options.reverse&&i.reverse(),t.legendItems=i}fit(){const t=this,{options:e,ctx:i}=t;if(!e.display)return void(t.width=t.height=0);const r=e.labels,s=Lr(r.font),l=s.size,d=t._computeTitleHeight(),{boxWidth:f,itemHeight:g}=BB(r,l);let _,b;i.font=s.string,t.isHorizontal()?(_=t.maxWidth,b=t._fitRows(d,l,f,g)+10):(b=t.maxHeight,_=t._fitCols(d,l,f,g)+10),t.width=Math.min(_,e.maxWidth||t.maxWidth),t.height=Math.min(b,e.maxHeight||t.maxHeight)}_fitRows(t,e,i,r){const s=this,{ctx:l,maxWidth:d,options:{labels:{padding:f}}}=s,g=s.legendHitBoxes=[],_=s.lineWidths=[0],b=r+f;let w=t;l.textAlign="left",l.textBaseline="middle";let T=-1,N=-b;return s.legendItems.forEach((F,I)=>{const P=i+e/2+l.measureText(F.text).width;(0===I||_[_.length-1]+P+2*f>d)&&(w+=b,_[_.length-(I>0?0:1)]=0,N+=b,T++),g[I]={left:0,top:N,row:T,width:P,height:r},_[_.length-1]+=P+f}),w}_fitCols(t,e,i,r){const s=this,{ctx:l,maxHeight:d,options:{labels:{padding:f}}}=s,g=s.legendHitBoxes=[],_=s.columnSizes=[],b=d-t;let w=f,T=0,N=0,F=0,I=0;return s.legendItems.forEach((P,L)=>{const U=i+e/2+l.measureText(P.text).width;L>0&&N+r+2*f>b&&(w+=T+f,_.push({width:T,height:N}),F+=T+f,I++,T=N=0),g[L]={left:F,top:N,col:I,width:U,height:r},T=Math.max(T,U),N+=r+f}),w+=T,_.push({width:T,height:N}),w}adjustHitBoxes(){const t=this;if(!t.options.display)return;const e=t._computeTitleHeight(),{legendHitBoxes:i,options:{align:r,labels:{padding:s},rtl:l}}=t,d=xb(l,t.left,t.width);if(this.isHorizontal()){let f=0,g=Vs(r,t.left+s,t.right-t.lineWidths[f]);for(const _ of i)f!==_.row&&(f=_.row,g=Vs(r,t.left+s,t.right-t.lineWidths[f])),_.top+=t.top+e+s,_.left=d.leftForLtr(d.x(g),_.width),g+=_.width+s}else{let f=0,g=Vs(r,t.top+e+s,t.bottom-t.columnSizes[f].height);for(const _ of i)_.col!==f&&(f=_.col,g=Vs(r,t.top+e+s,t.bottom-t.columnSizes[f].height)),_.top=g,_.left+=t.left+s,_.left=d.leftForLtr(d.x(_.left),_.width),g+=_.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){const t=this;if(t.options.display){const e=t.ctx;jT(e,t),t._draw(),HT(e)}}_draw(){const t=this,{options:e,columnSizes:i,lineWidths:r,ctx:s}=t,{align:l,labels:d}=e,f=vn.color,g=xb(e.rtl,t.left,t.width),_=Lr(d.font),{color:b,padding:w}=d,T=_.size,N=T/2;let F;t.drawTitle(),s.textAlign=g.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=_.string;const{boxWidth:I,boxHeight:P,itemHeight:L}=BB(d,T),K=t.isHorizontal(),ye=this._computeTitleHeight();F=K?{x:Vs(l,t.left+w,t.right-r[0]),y:t.top+w+ye,line:0}:{x:t.left+w,y:Vs(l,t.top+ye+w,t.bottom-i[0].height),line:0},CL(t.ctx,e.textDirection);const Fe=L+w;t.legendItems.forEach((Pe,Xe)=>{s.strokeStyle=Pe.fontColor||b,s.fillStyle=Pe.fontColor||b;const dt=s.measureText(Pe.text).width,qe=g.textAlign(Pe.textAlign||(Pe.textAlign=d.textAlign)),at=I+N+dt;let Ze=F.x,pe=F.y;g.setWidth(t.width),K?Xe>0&&Ze+at+w>t.right&&(pe=F.y+=Fe,F.line++,Ze=F.x=Vs(l,t.left+w,t.right-r[F.line])):Xe>0&&pe+Fe>t.bottom&&(Ze=F.x=Ze+i[F.line].width+w,F.line++,pe=F.y=Vs(l,t.top+ye+w,t.bottom-i[F.line].height)),function(Pe,Xe,dt){if(isNaN(I)||I<=0||isNaN(P)||P<0)return;s.save();const qe=mn(dt.lineWidth,1);if(s.fillStyle=mn(dt.fillStyle,f),s.lineCap=mn(dt.lineCap,"butt"),s.lineDashOffset=mn(dt.lineDashOffset,0),s.lineJoin=mn(dt.lineJoin,"miter"),s.lineWidth=qe,s.strokeStyle=mn(dt.strokeStyle,f),s.setLineDash(mn(dt.lineDash,[])),d.usePointStyle){const at={radius:I*Math.SQRT2/2,pointStyle:dt.pointStyle,rotation:dt.rotation,borderWidth:qe},Ze=g.xPlus(Pe,I/2);VT(s,at,Ze,Xe+N)}else{const at=Xe+Math.max((T-P)/2,0),Ze=g.leftForLtr(Pe,I),pe=ok(dt.borderRadius);s.beginPath(),Object.values(pe).some($e=>0!==$e)?zT(s,{x:Ze,y:at,w:I,h:P,radius:pe}):s.rect(Ze,at,I,P),s.fill(),0!==qe&&s.stroke()}s.restore()}(g.x(Ze),pe,Pe),Ze=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(qe,Ze+I+N,K?Ze+at:t.right,e.rtl),function(Pe,Xe,dt){fm(s,dt.text,Pe,Xe+L/2,_,{strikethrough:dt.hidden,textAlign:g.textAlign(dt.textAlign)})}(g.x(Ze),pe,Pe),K?F.x+=at+w:F.y+=Fe}),EL(t.ctx,e.textDirection)}drawTitle(){const t=this,e=t.options,i=e.title,r=Lr(i.font),s=_o(i.padding);if(!i.display)return;const l=xb(e.rtl,t.left,t.width),d=t.ctx,f=i.position,_=s.top+r.size/2;let b,w=t.left,T=t.width;if(this.isHorizontal())T=Math.max(...t.lineWidths),b=t.top+_,w=Vs(e.align,w,t.right-T);else{const F=t.columnSizes.reduce((I,P)=>Math.max(I,P.height),0);b=_+Vs(e.align,t.top,t.bottom-F-e.labels.padding-t._computeTitleHeight())}const N=Vs(f,w,w+T);d.textAlign=l.textAlign(GN(f)),d.textBaseline="middle",d.strokeStyle=i.color,d.fillStyle=i.color,d.font=r.string,fm(d,i.text,N,b,r)}_computeTitleHeight(){const t=this.options.title,e=Lr(t.font),i=_o(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){const i=this;let r,s,l;if(t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom)for(l=i.legendHitBoxes,r=0;r<l.length;++r)if(s=l[r],t>=s.left&&t<=s.left+s.width&&e>=s.top&&e<=s.top+s.height)return i.legendItems[r];return null}handleEvent(t){const e=this,i=e.options;if(!function(n,t){return!!("mousemove"===n&&(t.onHover||t.onLeave)||t.onClick&&("click"===n||"mouseup"===n))}(t.type,i))return;const r=e._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const s=e._hoveredItem,l=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(s,r);s&&!l&&gi(i.onLeave,[t,s,e],e),e._hoveredItem=r,r&&!l&&gi(i.onHover,[t,r,e],e)}else r&&gi(i.onClick,[t,r,e],e)}}var jB={id:"legend",_element:VB,start(n,t,e){const i=n.legend=new VB({ctx:n.ctx,options:e,chart:n});js.configure(n,i,e),js.addBox(n,i)},stop(n){js.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;js.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(e?0:void 0),f=_o(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Mk extends tc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this,r=i.options;if(i.left=0,i.top=0,!r.display)return void(i.width=i.height=i.right=i.bottom=0);i.width=i.right=t,i.height=i.bottom=e;const s=pi(r.text)?r.text.length:1;i._padding=_o(r.padding);const l=s*Lr(r.font).lineHeight+i._padding.height;i.isHorizontal()?i.height=l:i.width=l}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:l}=this,d=l.align;let g,_,b,f=0;return this.isHorizontal()?(_=Vs(d,i,s),b=e+t,g=s-i):("left"===l.position?(_=i+t,b=Vs(d,r,e),f=-.5*Gi):(_=s-t,b=Vs(d,e,r),f=.5*Gi),g=r-e),{titleX:_,titleY:b,maxWidth:g,rotation:f}}draw(){const t=this,e=t.ctx,i=t.options;if(!i.display)return;const r=Lr(i.font),l=r.lineHeight/2+t._padding.top,{titleX:d,titleY:f,maxWidth:g,rotation:_}=t._drawArgs(l);fm(e,i.text,0,0,r,{color:i.color,maxWidth:g,rotation:_,textAlign:GN(i.align),textBaseline:"middle",translation:[d,f]})}}var HB={id:"title",_element:Mk,start(n,t,e){!function(n,t){const e=new Mk({ctx:n.ctx,options:t,chart:n});js.configure(n,e,t),js.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){js.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;js.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Rw={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const l=n[t].element;if(l&&l.hasValue()){const d=l.tooltipPosition();i+=d.x,r+=d.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,l,d,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,l=n.length;s<l;++s){const f=n[s].element;if(f&&f.hasValue()){const _=KN(t,f.getCenterPoint());_<r&&(r=_,d=f)}}if(d){const f=d.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function su(n,t){return t&&(pi(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Md(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function P$(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:l,value:d}=s.getLabelAndValue(r);return{chart:n,label:l,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function zB(n,t){const e=n._chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:l,boxHeight:d}=t,f=Lr(t.bodyFont),g=Lr(t.titleFont),_=Lr(t.footerFont),b=s.length,w=r.length,T=i.length,N=_o(t.padding);let F=N.height,I=0,P=i.reduce((J,K)=>J+K.before.length+K.lines.length+K.after.length,0);P+=n.beforeBody.length+n.afterBody.length,b&&(F+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),P&&(F+=T*(t.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(P-T)*f.lineHeight+(P-1)*t.bodySpacing),w&&(F+=t.footerMarginTop+w*_.lineHeight+(w-1)*t.footerSpacing);let L=0;const U=function(J){I=Math.max(I,e.measureText(J).width+L)};return e.save(),e.font=g.string,Un(n.title,U),e.font=f.string,Un(n.beforeBody.concat(n.afterBody),U),L=t.displayColors?l+2:0,Un(i,J=>{Un(J.before,U),Un(J.lines,U),Un(J.after,U)}),L=0,e.font=_.string,Un(n.footer,U),e.restore(),I+=N.width,{width:I,height:F}}function L$(n,t,e,i){const{x:r,width:s}=e,{width:l,chartArea:{left:d,right:f}}=n;let g="center";return"center"===i?g=r<=(d+f)/2?"left":"right":r<=s/2?g="left":r>=l-s/2&&(g="right"),function(n,t,e,i){const{x:r,width:s}=i,l=e.caretSize+e.caretPadding;if("left"===n&&r+s+l>t.width||"right"===n&&r-s-l<0)return!0}(g,n,t,e)&&(g="center"),g}function UB(n,t,e){const i=t.yAlign||function(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:t.xAlign||L$(n,t,e,i),yAlign:i}}function $B(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:l}=n,{xAlign:d,yAlign:f}=e,g=r+s,_=l+s;let b=function(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,d);const w=function(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,f,g);return"center"===f?"left"===d?b+=g:"right"===d&&(b-=g):"left"===d?b-=_:"right"===d&&(b+=_),{x:es(b,0,i.width-t.width),y:es(w,0,i.height-t.height)}}function eM(n,t,e){const i=_o(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function WB(n){return su([],Md(n))}function GB(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let YB=(()=>{class n extends tc{constructor(e){super(),this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this,i=e._cachedAnimations;if(i)return i;const r=e._chart,s=e.options.setContext(e.getContext()),l=s.enabled&&r.options.animation&&s.animations,d=new IL(e._chart,l);return l._cacheable&&(e._cachedAnimations=Object.freeze(d)),d}getContext(){const e=this;return e.$context||(e.$context=function(n,t,e){return Object.assign(Object.create(n),{tooltip:t,tooltipItems:e,type:"tooltip"})}(e._chart.getContext(),e,e._tooltipItems))}getTitle(e,i){const r=this,{callbacks:s}=i,l=s.beforeTitle.apply(r,[e]),d=s.title.apply(r,[e]),f=s.afterTitle.apply(r,[e]);let g=[];return g=su(g,Md(l)),g=su(g,Md(d)),g=su(g,Md(f)),g}getBeforeBody(e,i){return WB(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const r=this,{callbacks:s}=i,l=[];return Un(e,d=>{const f={before:[],lines:[],after:[]},g=GB(s,d);su(f.before,Md(g.beforeLabel.call(r,d))),su(f.lines,g.label.call(r,d)),su(f.after,Md(g.afterLabel.call(r,d))),l.push(f)}),l}getAfterBody(e,i){return WB(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const r=this,{callbacks:s}=i,l=s.beforeFooter.apply(r,[e]),d=s.footer.apply(r,[e]),f=s.afterFooter.apply(r,[e]);let g=[];return g=su(g,Md(l)),g=su(g,Md(d)),g=su(g,Md(f)),g}_createItems(e){const i=this,r=i._active,s=i._chart.data,l=[],d=[],f=[];let _,b,g=[];for(_=0,b=r.length;_<b;++_)g.push(P$(i._chart,r[_]));return e.filter&&(g=g.filter((w,T,N)=>e.filter(w,T,N,s))),e.itemSort&&(g=g.sort((w,T)=>e.itemSort(w,T,s))),Un(g,w=>{const T=GB(e.callbacks,w);l.push(T.labelColor.call(i,w)),d.push(T.labelPointStyle.call(i,w)),f.push(T.labelTextColor.call(i,w))}),i.labelColors=l,i.labelPointStyles=d,i.labelTextColors=f,i.dataPoints=g,g}update(e,i){const r=this,s=r.options.setContext(r.getContext()),l=r._active;let d,f=[];if(l.length){const g=Rw[s.position].call(r,l,r._eventPosition);f=r._createItems(s),r.title=r.getTitle(f,s),r.beforeBody=r.getBeforeBody(f,s),r.body=r.getBody(f,s),r.afterBody=r.getAfterBody(f,s),r.footer=r.getFooter(f,s);const _=r._size=zB(r,s),b=Object.assign({},g,_),w=UB(r._chart,s,b),T=$B(s,b,w,r._chart);r.xAlign=w.xAlign,r.yAlign=w.yAlign,d={opacity:1,x:T.x,y:T.y,width:_.width,height:_.height,caretX:g.x,caretY:g.y}}else 0!==r.opacity&&(d={opacity:0});r._tooltipItems=f,r.$context=void 0,d&&r._resolveAnimations().update(r,d),e&&s.external&&s.external.call(r,{chart:r._chart,tooltip:r,replay:i})}drawCaret(e,i,r,s){const l=this.getCaretPosition(e,r,s);i.lineTo(l.x1,l.y1),i.lineTo(l.x2,l.y2),i.lineTo(l.x3,l.y3)}getCaretPosition(e,i,r){const{xAlign:s,yAlign:l}=this,{cornerRadius:d,caretSize:f}=r,{x:g,y:_}=e,{width:b,height:w}=i;let T,N,F,I,P,L;return"center"===l?(P=_+w/2,"left"===s?(T=g,N=T-f,I=P+f,L=P-f):(T=g+b,N=T+f,I=P-f,L=P+f),F=T):(N="left"===s?g+d+f:"right"===s?g+b-d-f:this.caretX,"top"===l?(I=_,P=I-f,T=N-f,F=N+f):(I=_+w,P=I+f,T=N+f,F=N-f),L=I),{x1:T,x2:N,x3:F,y1:I,y2:P,y3:L}}drawTitle(e,i,r){const s=this,l=s.title,d=l.length;let f,g,_;if(d){const b=xb(r.rtl,s.x,s.width);for(e.x=eM(s,r.titleAlign,r),i.textAlign=b.textAlign(r.titleAlign),i.textBaseline="middle",f=Lr(r.titleFont),g=r.titleSpacing,i.fillStyle=r.titleColor,i.font=f.string,_=0;_<d;++_)i.fillText(l[_],b.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+g,_+1===d&&(e.y+=r.titleMarginBottom-g)}}_drawColorBox(e,i,r,s,l){const d=this,f=d.labelColors[r],g=d.labelPointStyles[r],{boxHeight:_,boxWidth:b}=l,w=Lr(l.bodyFont),T=eM(d,"left",l),N=s.x(T),I=i.y+(_<w.lineHeight?(w.lineHeight-_)/2:0);if(l.usePointStyle){const P={radius:Math.min(b,_)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},L=s.leftForLtr(N,b)+b/2,U=I+_/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,VT(e,P,L,U),e.strokeStyle=f.borderColor,e.fillStyle=f.backgroundColor,VT(e,P,L,U)}else{e.lineWidth=f.borderWidth||1,e.strokeStyle=f.borderColor,e.setLineDash(f.borderDash||[]),e.lineDashOffset=f.borderDashOffset||0;const P=s.leftForLtr(N,b),L=s.leftForLtr(s.xPlus(N,1),b-2),U=ok(f.borderRadius);Object.values(U).some(J=>0!==J)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,zT(e,{x:P,y:I,w:b,h:_,radius:U}),e.fill(),e.stroke(),e.fillStyle=f.backgroundColor,e.beginPath(),zT(e,{x:L,y:I+1,w:b-2,h:_-2,radius:U}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(P,I,b,_),e.strokeRect(P,I,b,_),e.fillStyle=f.backgroundColor,e.fillRect(L,I+1,b-2,_-2))}e.fillStyle=d.labelTextColors[r]}drawBody(e,i,r){const s=this,{body:l}=s,{bodySpacing:d,bodyAlign:f,displayColors:g,boxHeight:_,boxWidth:b}=r,w=Lr(r.bodyFont);let T=w.lineHeight,N=0;const F=xb(r.rtl,s.x,s.width),I=function(Xe){i.fillText(Xe,F.x(e.x+N),e.y+T/2),e.y+=T+d},P=F.textAlign(f);let L,U,J,K,ye,Fe,Pe;for(i.textAlign=f,i.textBaseline="middle",i.font=w.string,e.x=eM(s,P,r),i.fillStyle=r.bodyColor,Un(s.beforeBody,I),N=g&&"right"!==P?"center"===f?b/2+1:b+2:0,K=0,Fe=l.length;K<Fe;++K){for(L=l[K],U=s.labelTextColors[K],i.fillStyle=U,Un(L.before,I),J=L.lines,g&&J.length&&(s._drawColorBox(i,e,K,F,r),T=Math.max(w.lineHeight,_)),ye=0,Pe=J.length;ye<Pe;++ye)I(J[ye]),T=w.lineHeight;Un(L.after,I)}N=0,T=w.lineHeight,Un(s.afterBody,I),e.y-=d}drawFooter(e,i,r){const s=this,l=s.footer,d=l.length;let f,g;if(d){const _=xb(r.rtl,s.x,s.width);for(e.x=eM(s,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=_.textAlign(r.footerAlign),i.textBaseline="middle",f=Lr(r.footerFont),i.fillStyle=r.footerColor,i.font=f.string,g=0;g<d;++g)i.fillText(l[g],_.x(e.x),e.y+f.lineHeight/2),e.y+=f.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){const{xAlign:l,yAlign:d}=this,{x:f,y:g}=e,{width:_,height:b}=r,w=s.cornerRadius;i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(f+w,g),"top"===d&&this.drawCaret(e,i,r,s),i.lineTo(f+_-w,g),i.quadraticCurveTo(f+_,g,f+_,g+w),"center"===d&&"right"===l&&this.drawCaret(e,i,r,s),i.lineTo(f+_,g+b-w),i.quadraticCurveTo(f+_,g+b,f+_-w,g+b),"bottom"===d&&this.drawCaret(e,i,r,s),i.lineTo(f+w,g+b),i.quadraticCurveTo(f,g+b,f,g+b-w),"center"===d&&"left"===l&&this.drawCaret(e,i,r,s),i.lineTo(f,g+w),i.quadraticCurveTo(f,g,f+w,g),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this,r=i._chart,s=i.$animations,l=s&&s.x,d=s&&s.y;if(l||d){const f=Rw[e.position].call(i,i._active,i._eventPosition);if(!f)return;const g=i._size=zB(i,e),_=Object.assign({},f,i._size),b=UB(r,e,_),w=$B(e,_,b,r);(l._to!==w.x||d._to!==w.y)&&(i.xAlign=b.xAlign,i.yAlign=b.yAlign,i.width=g.width,i.height=g.height,i.caretX=f.x,i.caretY=f.y,i._resolveAnimations().update(i,w))}}draw(e){const i=this,r=i.options.setContext(i.getContext());let s=i.opacity;if(!s)return;i._updateAnimationTarget(r);const l={width:i.width,height:i.height},d={x:i.x,y:i.y};s=Math.abs(s)<.001?0:s;const f=_o(r.padding);r.enabled&&(i.title.length||i.beforeBody.length||i.body.length||i.afterBody.length||i.footer.length)&&(e.save(),e.globalAlpha=s,i.drawBackground(d,e,l,r),CL(e,r.textDirection),d.y+=f.top,i.drawTitle(d,e,r),i.drawBody(d,e,r),i.drawFooter(d,e,r),EL(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this,s=r._active,l=e.map(({datasetIndex:g,index:_})=>{const b=r._chart.getDatasetMeta(g);if(!b)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:b.data[_],index:_}}),d=!ST(s,l),f=r._positionChanged(l,i);(d||f)&&(r._active=l,r._eventPosition=i,r.update(!0))}handleEvent(e,i){const r=this,s=r.options,l=r._active||[];let d=!1,f=[];"mouseout"!==e.type&&(f=r._chart.getElementsAtEventForMode(e,s.mode,s,i),s.reverse&&f.reverse());const g=r._positionChanged(f,e);return d=i||!ST(f,l)||g,d&&(r._active=f,(s.enabled||s.external)&&(r._eventPosition={x:e.x,y:e.y},r.update(!0,i))),d}_positionChanged(e,i){const{caretX:r,caretY:s,options:l}=this,d=Rw[l.position].call(this,e,i);return!1!==d&&(r!==d.x||s!==d.y)}}return n.positioners=Rw,n})();var qB={id:"tooltip",_element:YB,positioners:Rw,afterInit(n,t,e){e&&(n.tooltip=new YB({_chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip,e={tooltip:t};!1!==n.notifyPlugins("beforeTooltipDraw",e)&&(t&&t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e))},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Cd,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Cd,beforeBody:Cd,beforeLabel:Cd,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Tn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Cd,afterBody:Cd,beforeFooter:Cd,footer:Cd,afterFooter:Cd}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class Fw extends _m{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,e){if(Tn(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:es(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function(n,t,e){const i=n.indexOf(t);return-1===i?((n,t,e)=>"string"==typeof t?n.push(t)-1:isNaN(t)?null:e)(n,t,e):i!==n.lastIndexOf(t)?e:i}(i,t,mn(e,t)),i.length-1)}determineDataLimits(){const t=this,{minDefined:e,maxDefined:i}=t.getUserBounds();let{min:r,max:s}=t.getMinMax(!0);"ticks"===t.options.bounds&&(e||(r=0),i||(s=t.getLabels().length-1)),t.min=r,t.max=s}buildTicks(){const t=this,e=t.min,i=t.max,r=t.options.offset,s=[];let l=t.getLabels();l=0===e&&i===l.length-1?l:l.slice(e,i+1),t._valueRange=Math.max(l.length-(r?0:1),1),t._startValue=t.min-(r?.5:0);for(let d=e;d<=i;d++)s.push({value:d});return s}getLabelForValue(t){const i=this.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){const t=this;super.configure(),t.isHorizontal()||(t._reversePixels=!t._reversePixels)}getPixelForValue(t){const e=this;return"number"!=typeof t&&(t=e.parse(t)),null===t?NaN:e.getPixelForDecimal((t-e._startValue)/e._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){const e=this;return Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange)}getBasePixel(){return this.bottom}}function ZB(n,t,{horizontal:e,minRotation:i}){const r=Ql(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}Fw.id="category",Fw.defaults={ticks:{callback:Fw.prototype.getLabelForValue}};class tM extends _m{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Tn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const t=this,{beginAtZero:e}=t.options,{minDefined:i,maxDefined:r}=t.getUserBounds();let{min:s,max:l}=t;const d=g=>s=i?s:g,f=g=>l=r?l:g;if(e){const g=ru(s),_=ru(l);g<0&&_<0?f(0):g>0&&_>0&&d(0)}if(s===l){let g=1;(l>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(g=Math.abs(.05*l)),f(l+g),e||d(s-g)}t.min=s,t.max=l}getTickLimit(){const t=this,e=t.options.ticks;let s,{maxTicksLimit:i,stepSize:r}=e;return r?s=Math.ceil(t.max/r)-Math.floor(t.min/r)+1:(s=t.computeTickLimit(),i=i||11),i&&(s=Math.min(i,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this,e=t.options,i=e.ticks;let r=t.getTickLimit();r=Math.max(2,r);const d=function(n,t){const e=[],{bounds:r,step:s,min:l,max:d,precision:f,count:g,maxTicks:_,maxDigits:b,includeBounds:w}=n,T=s||1,N=_-1,{min:F,max:I}=t,P=!Tn(l),L=!Tn(d),U=!Tn(g),J=(I-F)/(b+1);let ye,Fe,Pe,Xe,K=U2((I-F)/N/T)*T;if(K<1e-14&&!P&&!L)return[{value:F},{value:I}];Xe=Math.ceil(I/K)-Math.floor(F/K),Xe>N&&(K=U2(Xe*K/N/T)*T),Tn(f)||(ye=Math.pow(10,f),K=Math.ceil(K*ye)/ye),"ticks"===r?(Fe=Math.floor(F/K)*K,Pe=Math.ceil(I/K)*K):(Fe=F,Pe=I),P&&L&&s&&function(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((d-l)/s,K/1e3)?(Xe=Math.round(Math.min((d-l)/K,_)),K=(d-l)/Xe,Fe=l,Pe=d):U?(Fe=P?l:Fe,Pe=L?d:Pe,Xe=g-1,K=(Pe-Fe)/Xe):(Xe=(Pe-Fe)/K,Xe=gw(Xe,Math.round(Xe),K/1e3)?Math.round(Xe):Math.ceil(Xe));const dt=Math.max(W2(K),W2(Fe));ye=Math.pow(10,Tn(f)?dt:f),Fe=Math.round(Fe*ye)/ye,Pe=Math.round(Pe*ye)/ye;let qe=0;for(P&&(w&&Fe!==l?(e.push({value:l}),Fe<l&&qe++,gw(Math.round((Fe+qe*K)*ye)/ye,l,ZB(l,J,n))&&qe++):Fe<l&&qe++);qe<Xe;++qe)e.push({value:Math.round((Fe+qe*K)*ye)/ye});return L&&w&&Pe!==d?gw(e[e.length-1].value,d,ZB(d,J,n))?e[e.length-1].value=d:e.push({value:d}):(!L||Pe===d)&&e.push({value:Pe}),e}({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:t._maxDigits(),horizontal:t.isHorizontal(),minRotation:i.minRotation||0,includeBounds:!1!==i.includeBounds},t._range||t);return"ticks"===e.bounds&&$2(d,t,"value"),e.reverse?(d.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),d}configure(){const t=this,e=t.ticks;let i=t.min,r=t.max;if(super.configure(),t.options.offset&&e.length){const s=(r-i)/Math.max(e.length-1,1)/2;i-=s,r+=s}t._startValue=i,t._endValue=r,t._valueRange=r-i}getLabelForValue(t){return Cw(t,this.chart.options.locale)}}class nM extends tM{determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=lr(e)?e:0,t.max=lr(i)?i:1,t.handleTickRangeOptions()}computeTickLimit(){const t=this,e=t.isHorizontal(),i=e?t.width:t.height,r=Ql(t.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,l=t._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,l.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function KB(n){return n/Math.pow(10,Math.floor(ol(n)))==1}nM.id="linear",nM.defaults={ticks:{callback:qT.formatters.numeric}};class Sk extends _m{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=tM.prototype.parse.apply(this,[t,e]);if(0!==i)return lr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!0);t.min=lr(e)?Math.max(0,e):null,t.max=lr(i)?Math.max(0,i):null,t.options.beginAtZero&&(t._zero=!0),t.handleTickRangeOptions()}handleTickRangeOptions(){const t=this,{minDefined:e,maxDefined:i}=t.getUserBounds();let r=t.min,s=t.max;const l=g=>r=e?r:g,d=g=>s=i?s:g,f=(g,_)=>Math.pow(10,Math.floor(ol(g))+_);r===s&&(r<=0?(l(1),d(10)):(l(f(r,-1)),d(f(s,1)))),r<=0&&l(f(s,-1)),s<=0&&d(f(r,1)),t._zero&&t.min!==t._suggestedMin&&r===f(t.min,0)&&l(f(r,-1)),t.min=r,t.max=s}buildTicks(){const t=this,e=t.options,r=function(n,t){const e=Math.floor(ol(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let s=sl(n.min,Math.pow(10,Math.floor(ol(t.min)))),l=Math.floor(ol(s)),d=Math.floor(s/Math.pow(10,l)),f=l<0?Math.pow(10,Math.abs(l)):1;do{r.push({value:s,major:KB(s)}),++d,10===d&&(d=1,++l,f=l>=0?1:f),s=Math.round(d*Math.pow(10,l)*f)/f}while(l<e||l===e&&d<i);const g=sl(n.max,s);return r.push({value:g,major:KB(s)}),r}({min:t._userMin,max:t._userMax},t);return"ticks"===e.bounds&&$2(r,t,"value"),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),r}getLabelForValue(t){return void 0===t?"0":Cw(t,this.chart.options.locale)}configure(){const t=this,e=t.min;super.configure(),t._startValue=ol(e),t._valueRange=ol(t.max)-ol(e)}getPixelForValue(t){const e=this;return(void 0===t||0===t)&&(t=e.min),null===t||isNaN(t)?NaN:e.getPixelForDecimal(t===e.min?0:(ol(t)-e._startValue)/e._valueRange)}getValueForPixel(t){const e=this,i=e.getDecimalForPixel(t);return Math.pow(10,e._startValue+i*e._valueRange)}}function Ak(n){const t=n.ticks;if(t.display&&n.display){const e=_o(t.backdropPadding);return mn(t.font&&t.font.size,vn.font.size)+e.height}return 0}function Y$(n,t,e){return e=pi(e)?e:[e],{w:m8(n,t.string,e),h:e.length*t.lineHeight}}function JB(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function K$(n){return 0===n||180===n?"center":n<180?"left":"right"}function J$(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function X$(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function XB(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,ri);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let l=1;l<i;l++)s=n.getPointPosition(l,t),r.lineTo(s.x,s.y)}}function iM(n){return wb(n)?n:0}Sk.id="logarithmic",Sk.defaults={ticks:{callback:qT.formatters.logarithmic,major:{enabled:!0}}};class Mb extends tM{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=Ak(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2}determineDataLimits(){const t=this,{min:e,max:i}=t.getMinMax(!1);t.min=lr(e)&&!isNaN(e)?e:0,t.max=lr(i)&&!isNaN(i)?i:0,t.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ak(this.options))}generateTickLabels(t){const e=this;tM.prototype.generateTickLabels.call(e,t),e._pointLabels=e.getLabels().map((i,r)=>{const s=gi(e.options.pointLabels.callback,[i,r],e);return s||0===s?s:""})}fit(){const t=this,e=t.options;e.display&&e.pointLabels.display?function(n){const t={l:0,r:n.width,t:0,b:n.height-n.paddingTop},e={},i=[],r=[],s=n.getLabels().length;for(let l=0;l<s;l++){const d=n.options.pointLabels.setContext(n.getPointLabelContext(l));r[l]=d.padding;const f=n.getPointPosition(l,n.drawingArea+r[l]),g=Lr(d.font),_=Y$(n.ctx,g,n._pointLabels[l]);i[l]=_;const b=n.getIndexAngle(l),w=ZN(b),T=JB(w,f.x,_.w,0,180),N=JB(w,f.y,_.h,90,270);T.start<t.l&&(t.l=T.start,e.l=b),T.end>t.r&&(t.r=T.end,e.r=b),N.start<t.t&&(t.t=N.start,e.t=b),N.end>t.b&&(t.b=N.end,e.b=b)}n._setReductions(n.drawingArea,t,e),n._pointLabelItems=function(n,t,e){const i=[],r=n.getLabels().length,s=n.options,l=Ak(s),d=n.getDistanceFromCenterForValue(s.ticks.reverse?n.min:n.max);for(let f=0;f<r;f++){const _=n.getPointPosition(f,d+(0===f?l/2:0)+e[f]),b=ZN(n.getIndexAngle(f)),w=t[f],T=X$(_.y,w.h,b),N=K$(b),F=J$(_.x,w.w,N);i.push({x:_.x,y:T,textAlign:N,left:F,top:T,right:F+w.w,bottom:T+w.h})}return i}(n,i,r)}(t):t.setCenterPoint(0,0,0,0)}_setReductions(t,e,i){const r=this;let s=e.l/Math.sin(i.l),l=Math.max(e.r-r.width,0)/Math.sin(i.r),d=-e.t/Math.cos(i.t),f=-Math.max(e.b-(r.height-r.paddingTop),0)/Math.cos(i.b);s=iM(s),l=iM(l),d=iM(d),f=iM(f),r.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(s+l)/2),Math.floor(t-(d+f)/2))),r.setCenterPoint(s,l,d,f)}setCenterPoint(t,e,i,r){const s=this,f=i+s.drawingArea,g=s.height-s.paddingTop-r-s.drawingArea;s.xCenter=Math.floor((t+s.drawingArea+(s.width-e-s.drawingArea))/2+s.left),s.yCenter=Math.floor((f+g)/2+s.top+s.paddingTop)}getIndexAngle(t){return ec(t*(ri/this.getLabels().length)+Ql(this.options.startAngle||0))}getDistanceFromCenterForValue(t){const e=this;if(Tn(t))return NaN;const i=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*i:(t-e.min)*i}getValueForDistanceFromCenter(t){if(Tn(t))return NaN;const e=this,i=t/(e.drawingArea/(e.max-e.min));return e.options.reverse?e.max-i:e.min+i}getPointLabelContext(t){const e=this,i=e._pointLabels||[];if(t>=0&&t<i.length){const r=i[t];return function(n,t,e){return Object.assign(Object.create(n),{label:e,index:t,type:"pointLabel"})}(e.getContext(),t,r)}}getPointPosition(t,e){const i=this,r=i.getIndexAngle(t)-cr;return{x:Math.cos(r)*e+i.xCenter,y:Math.sin(r)*e+i.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const t=this,{backgroundColor:e,grid:{circular:i}}=t.options;if(e){const r=t.ctx;r.save(),r.beginPath(),XB(t,t.getDistanceFromCenterForValue(t._endValue),i,t.getLabels().length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const t=this,e=t.ctx,i=t.options,{angleLines:r,grid:s}=i,l=t.getLabels().length;let d,f,g;if(i.pointLabels.display&&function(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),l=Lr(s.font),{x:d,y:f,textAlign:g,left:_,top:b,right:w,bottom:T}=n._pointLabelItems[r],{backdropColor:N}=s;if(!Tn(N)){const F=_o(s.backdropPadding);e.fillStyle=N,e.fillRect(_-F.left,b-F.top,w-_+F.width,T-b+F.height)}fm(e,n._pointLabels[r],d,f+l.lineHeight/2,l,{color:s.color,textAlign:g,textBaseline:"middle"})}}(t,l),s.display&&t.ticks.forEach((_,b)=>{if(0!==b){f=t.getDistanceFromCenterForValue(_.value);const w=s.setContext(t.getContext(b-1));!function(n,t,e,i){const r=n.ctx,s=t.circular,{color:l,lineWidth:d}=t;!s&&!i||!l||!d||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),XB(n,e,s,i),r.closePath(),r.stroke(),r.restore())}(t,w,f,l)}}),r.display){for(e.save(),d=t.getLabels().length-1;d>=0;d--){const _=r.setContext(t.getPointLabelContext(d)),{color:b,lineWidth:w}=_;!w||!b||(e.lineWidth=w,e.strokeStyle=b,e.setLineDash(_.borderDash),e.lineDashOffset=_.borderDashOffset,f=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),g=t.getPointPosition(d,f),e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(g.x,g.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const t=this,e=t.ctx,i=t.options,r=i.ticks;if(!r.display)return;const s=t.getIndexAngle(0);let l,d;e.save(),e.translate(t.xCenter,t.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",t.ticks.forEach((f,g)=>{if(0===g&&!i.reverse)return;const _=r.setContext(t.getContext(g)),b=Lr(_.font);if(l=t.getDistanceFromCenterForValue(t.ticks[g].value),_.showLabelBackdrop){e.font=b.string,d=e.measureText(f.label).width,e.fillStyle=_.backdropColor;const w=_o(_.backdropPadding);e.fillRect(-d/2-w.left,-l-b.size/2-w.top,d+w.width,b.size+w.height)}fm(e,f.label,0,-l,b,{color:_.color})}),e.restore()}drawTitle(){}}Mb.id="radialLinear",Mb.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:qT.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5}},Mb.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Mb.descriptors={angleLines:{_fallback:"grid"}};const rM={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Lo=Object.keys(rM);function nW(n,t){return n-t}function QB(n,t){if(Tn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let l=t;return"function"==typeof i&&(l=i(l)),lr(l)||(l="string"==typeof i?e.parse(l,i):e.parse(l)),null===l?null:(r&&(l="week"!==r||!wb(s)&&!0!==s?e.startOf(l,r):e.startOf(l,"isoWeek",s)),+l)}function e3(n,t,e,i){const r=Lo.length;for(let s=Lo.indexOf(n);s<r-1;++s){const l=rM[Lo[s]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(d*l.size))<=i)return Lo[s]}return Lo[r-1]}function t3(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=ak(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function n3(n,t,e){const i=[],r={},s=t.length;let l,d;for(l=0;l<s;++l)d=t[l],r[d]=l,i.push({value:d,major:!1});return 0!==s&&e?function(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),l=t[t.length-1].value;let d,f;for(d=s;d<=l;d=+r.add(d,1,i))f=e[d],f>=0&&(t[f].major=!0);return t}(n,i,r,e):i}let Ok=(()=>{class n extends _m{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const r=e.time||(e.time={}),s=this._adapter=new BU._date(e.adapters.date);fw(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:QB(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this,i=e.options,r=e._adapter,s=i.time.unit||"day";let{min:l,max:d,minDefined:f,maxDefined:g}=e.getUserBounds();function _(b){!f&&!isNaN(b.min)&&(l=Math.min(l,b.min)),!g&&!isNaN(b.max)&&(d=Math.max(d,b.max))}(!f||!g)&&(_(e._getLabelBounds()),("ticks"!==i.bounds||"labels"!==i.ticks.source)&&_(e.getMinMax(!1))),l=lr(l)&&!isNaN(l)?l:+r.startOf(Date.now(),s),d=lr(d)&&!isNaN(d)?d:+r.endOf(Date.now(),s)+1,e.min=Math.min(l,d-1),e.max=Math.max(l+1,d)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this,i=e.options,r=i.time,s=i.ticks,l="labels"===s.source?e.getLabelTimestamps():e._generate();"ticks"===i.bounds&&l.length&&(e.min=e._userMin||l[0],e.max=e._userMax||l[l.length-1]);const d=e.min,g=function(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(l,d,e.max);return e._unit=r.unit||(s.autoSkip?e3(r.minUnit,e.min,e.max,e._getLabelCapacity(d)):function(n,t,e,i,r){for(let s=Lo.length-1;s>=Lo.indexOf(e);s--){const l=Lo[s];if(rM[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Lo[e?Lo.indexOf(e):0]}(e,g.length,r.minUnit,e.min,e.max)),e._majorUnit=s.major.enabled&&"year"!==e._unit?function(n){for(let t=Lo.indexOf(n)+1,e=Lo.length;t<e;++t)if(rM[Lo[t]].common)return Lo[t]}(e._unit):void 0,e.initOffsets(l),i.reverse&&g.reverse(),n3(e,g,e._majorUnit)}initOffsets(e){const i=this;let l,d,r=0,s=0;i.options.offset&&e.length&&(l=i.getDecimalForValue(e[0]),r=1===e.length?1-l:(i.getDecimalForValue(e[1])-l)/2,d=i.getDecimalForValue(e[e.length-1]),s=1===e.length?d:(d-i.getDecimalForValue(e[e.length-2]))/2);const f=e.length<3?.5:.25;r=es(r,0,f),s=es(s,0,f),i._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this,i=e._adapter,r=e.min,s=e.max,l=e.options,d=l.time,f=d.unit||e3(d.minUnit,r,s,e._getLabelCapacity(r)),g=mn(d.stepSize,1),_="week"===f&&d.isoWeekday,b=wb(_)||!0===_,w={};let N,F,T=r;if(b&&(T=+i.startOf(T,"isoWeek",_)),T=+i.startOf(T,b?"day":f),i.diff(s,r,f)>1e5*g)throw new Error(r+" and "+s+" are too far apart with stepSize of "+g+" "+f);const I="data"===l.ticks.source&&e.getDataTimestamps();for(N=T,F=0;N<s;N=+i.add(N,g,f),F++)t3(w,N,I);return(N===s||"ticks"===l.bounds||1===F)&&t3(w,N,I),Object.keys(w).sort((P,L)=>P-L).map(P=>+P)}getLabelForValue(e){const s=this.options.time;return this._adapter.format(e,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}_tickFormatFunction(e,i,r,s){const l=this,d=l.options,f=d.time.displayFormats,g=l._unit,_=l._majorUnit,w=_&&f[_],T=r[i],F=l._adapter.format(e,s||(_&&w&&T&&T.major?w:g&&f[g])),I=d.ticks.callback;return I?gi(I,[F,i,r],l):F}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){const i=this;return null===e?NaN:(e-i.min)/(i.max-i.min)}getPixelForValue(e){const i=this,r=i._offsets,s=i.getDecimalForValue(e);return i.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(e){const i=this,r=i._offsets,s=i.getDecimalForPixel(e)/r.factor-r.end;return i.min+s*(i.max-i.min)}_getLabelSize(e){const i=this,r=i.options.ticks,s=i.ctx.measureText(e).width,l=Ql(i.isHorizontal()?r.maxRotation:r.minRotation),d=Math.cos(l),f=Math.sin(l),g=i._resolveTickFontOptions(0).size;return{w:s*d+g*f,h:s*f+g*d}}_getLabelCapacity(e){const i=this,r=i.options.time,s=r.displayFormats,l=s[r.unit]||s.millisecond,d=i._tickFormatFunction(e,0,n3(i,[e],i._majorUnit),l),f=i._getLabelSize(d),g=Math.floor(i.isHorizontal()?i.width/f.w:i.height/f.h)-1;return g>0?g:1}getDataTimestamps(){const e=this;let r,s,i=e._cache.data||[];if(i.length)return i;const l=e.getMatchingVisibleMetas();if(e._normalized&&l.length)return e._cache.data=l[0].controller.getAllParsedValues(e);for(r=0,s=l.length;r<s;++r)i=i.concat(l[r].controller.getAllParsedValues(e));return e._cache.data=e.normalize(i)}getLabelTimestamps(){const e=this,i=e._cache.labels||[];let r,s;if(i.length)return i;const l=e.getLabels();for(r=0,s=l.length;r<s;++r)i.push(QB(e,l[r]));return e._cache.labels=e._normalized?i:e.normalize(i)}normalize(e){return lL(e.sort(nW))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function sM(n,t,e){let s,l,d,f,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ed(n,"pos",t)),({pos:s,time:d}=n[i]),({pos:l,time:f}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ed(n,"time",t)),({time:s,pos:d}=n[i]),({time:l,pos:f}=n[r]));const g=l-s;return g?d+(f-d)*(t-s)/g:d}class oM extends Ok{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this,e=t._getTimestampsForTable(),i=t._table=t.buildLookupTable(e);t._minPos=sM(i,t.min),t._tableRange=sM(i,t.max)-t._minPos,super.initOffsets(e)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let l,d,f,g,_;for(l=0,d=t.length;l<d;++l)g=t[l],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,d=r.length;l<d;++l)_=r[l+1],f=r[l-1],g=r[l],Math.round((_+f)/2)!==g&&s.push({time:g,pos:l/(d-1)});return s}_getTimestampsForTable(){const t=this;let e=t._cache.all||[];if(e.length)return e;const i=t.getDataTimestamps(),r=t.getLabelTimestamps();return e=i.length&&r.length?t.normalize(i.concat(r)):i.length?i:r,e=t._cache.all=e,e}getDecimalForValue(t){return(sM(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this,i=e._offsets,r=e.getDecimalForPixel(t)/i.factor-i.end;return sM(e._table,r*e._tableRange+e._minPos,!0)}}oM.id="timeseries",oM.defaults=Ok.defaults;const aM=function(n,t){return n===t||n!=n&&t!=t},lM=function(n,t){for(var e=n.length;e--;)if(aM(n[e][0],t))return e;return-1};var hW=Array.prototype.splice;function Sb(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Sb.prototype.clear=function(){this.__data__=[],this.size=0},Sb.prototype.delete=function(n){var t=this.__data__,e=lM(t,n);return!(e<0||(e==t.length-1?t.pop():hW.call(t,e,1),--this.size,0))},Sb.prototype.get=function(n){var t=this.__data__,e=lM(t,n);return e<0?void 0:t[e][1]},Sb.prototype.has=function(n){return lM(this.__data__,n)>-1},Sb.prototype.set=function(n,t){var e=this.__data__,i=lM(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const cM=Sb,i3="object"==typeof global&&global&&global.Object===Object&&global;var OW="object"==typeof self&&self&&self.Object===Object&&self;const Ab=i3||OW||Function("return this")();var NW=Ab.Symbol,r3=Object.prototype,kW=r3.hasOwnProperty,PW=r3.toString,Lw=NW?NW.toStringTag:void 0;var BW=Object.prototype.toString;var s3=NW?NW.toStringTag:void 0;const dM=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":s3&&s3 in Object(n)?function(n){var t=kW.call(n,Lw),e=n[Lw];try{n[Lw]=void 0;var i=!0}catch(s){}var r=PW.call(n);return i&&(t?n[Lw]=e:delete n[Lw]),r}(n):function(n){return BW.call(n)}(n)},ym=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},Ik=function(n){if(!ym(n))return!1;var t=dM(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Nk=Ab["__core-js_shared__"];var n,o3=(n=/[^.]+$/.exec(Nk&&Nk.keys&&Nk.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var eG=Function.prototype.toString;var rG=/^\[object .+?Constructor\]$/,cG=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const dG=function(n){return!(!ym(n)||function(n){return!!o3&&o3 in n}(n))&&(Ik(n)?cG:rG).test(function(n){if(null!=n){try{return eG.call(n)}catch(t){}try{return n+""}catch(t){}}return""}(n))},kk=function(n,t){var e=function(n,t){return null==n?void 0:n[t]}(n,t);return dG(e)?e:void 0},a3=kk(Ab,"Map"),Bw=kk(Object,"create");var EG=Object.prototype.hasOwnProperty;var MG=Object.prototype.hasOwnProperty;function Ob(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ob.prototype.clear=function(){this.__data__=Bw?Bw(null):{},this.size=0},Ob.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},Ob.prototype.get=function(n){var t=this.__data__;if(Bw){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return EG.call(t,n)?t[n]:void 0},Ob.prototype.has=function(n){var t=this.__data__;return Bw?void 0!==t[n]:MG.call(t,n)},Ob.prototype.set=function(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Bw&&void 0===t?"__lodash_hash_undefined__":t,this};const l3=Ob,hM=function(n,t){var e=n.__data__;return function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function Ib(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ib.prototype.clear=function(){this.size=0,this.__data__={hash:new l3,map:new(a3||cM),string:new l3}},Ib.prototype.delete=function(n){var t=hM(this,n).delete(n);return this.size-=t?1:0,t},Ib.prototype.get=function(n){return hM(this,n).get(n)},Ib.prototype.has=function(n){return hM(this,n).has(n)},Ib.prototype.set=function(n,t){var e=hM(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const GG=Ib;function Nb(n){var t=this.__data__=new cM(n);this.size=t.size}Nb.prototype.clear=function(){this.__data__=new cM,this.size=0},Nb.prototype.delete=function(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},Nb.prototype.get=function(n){return this.__data__.get(n)},Nb.prototype.has=function(n){return this.__data__.has(n)},Nb.prototype.set=function(n,t){var e=this.__data__;if(e instanceof cM){var i=e.__data__;if(!a3||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new GG(i)}return e.set(n,t),this.size=e.size,this};const KG=Nb,fM=function(){try{var n=kk(Object,"defineProperty");return n({},"",{}),n}catch(t){}}(),Pk=function(n,t,e){"__proto__"==t&&fM?fM(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},Rk=function(n,t,e){(void 0!==e&&!aM(n[t],e)||void 0===e&&!(t in n))&&Pk(n,t,e)},n7=function(t,e,i){for(var r=-1,s=Object(t),l=i(t),d=l.length;d--;){var f=l[++r];if(!1===e(s[f],f,s))break}return t};var c3="object"==typeof exports&&exports&&!exports.nodeType&&exports,u3=c3&&"object"==typeof module&&module&&!module.nodeType&&module,d3=u3&&u3.exports===c3?Ab.Buffer:void 0,h3=d3?d3.allocUnsafe:void 0;const f3=Ab.Uint8Array,u7=function(n,t){var e=t?function(n){var t=new n.constructor(n.byteLength);return new f3(t).set(new f3(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var p3=Object.create;const p7=function(){function n(){}return function(t){if(!ym(t))return{};if(p3)return p3(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),g3=function(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);var _7=Object.prototype;const m3=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||_7)},Vw=function(n){return null!=n&&"object"==typeof n},_3=function(n){return Vw(n)&&"[object Arguments]"==dM(n)};var y3=Object.prototype,D7=y3.hasOwnProperty,x7=y3.propertyIsEnumerable;const Fk=_3(function(){return arguments}())?_3:function(n){return Vw(n)&&D7.call(n,"callee")&&!x7.call(n,"callee")},Lk=Array.isArray,b3=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},Bk=function(n){return null!=n&&b3(n.length)&&!Ik(n)};var v3="object"==typeof exports&&exports&&!exports.nodeType&&exports,w3=v3&&"object"==typeof module&&module&&!module.nodeType&&module,C3=w3&&w3.exports===v3?Ab.Buffer:void 0;const E3=(C3?C3.isBuffer:void 0)||function(){return!1};var D3=Function.prototype.toString,H7=Object.prototype.hasOwnProperty,z7=D3.call(Object);var wi={};wi["[object Float32Array]"]=wi["[object Float64Array]"]=wi["[object Int8Array]"]=wi["[object Int16Array]"]=wi["[object Int32Array]"]=wi["[object Uint8Array]"]=wi["[object Uint8ClampedArray]"]=wi["[object Uint16Array]"]=wi["[object Uint32Array]"]=!0,wi["[object Arguments]"]=wi["[object Array]"]=wi["[object ArrayBuffer]"]=wi["[object Boolean]"]=wi["[object DataView]"]=wi["[object Date]"]=wi["[object Error]"]=wi["[object Function]"]=wi["[object Map]"]=wi["[object Number]"]=wi["[object Object]"]=wi["[object RegExp]"]=wi["[object Set]"]=wi["[object String]"]=wi["[object WeakMap]"]=!1;var x3="object"==typeof exports&&exports&&!exports.nodeType&&exports,jw=x3&&"object"==typeof module&&module&&!module.nodeType&&module,Vk=jw&&jw.exports===x3&&i3.process,v9=function(){try{return jw&&jw.require&&jw.require("util").types||Vk&&Vk.binding&&Vk.binding("util")}catch(t){}}(),M3=v9&&v9.isTypedArray;const S3=M3?function(n){return function(t){return n(t)}}(M3):function(n){return Vw(n)&&b3(n.length)&&!!wi[dM(n)]},jk=function(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var D9=Object.prototype.hasOwnProperty;const T9=function(n,t,e){var i=n[t];(!D9.call(n,t)||!aM(i,e)||void 0===e&&!(t in n))&&Pk(n,t,e)};var N9=/^(?:0|[1-9]\d*)$/;const A3=function(n,t){var e=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&N9.test(n))&&n>-1&&n%1==0&&n<t};var R9=Object.prototype.hasOwnProperty;const L9=function(n,t){var e=Lk(n),i=!e&&Fk(n),r=!e&&!i&&E3(n),s=!e&&!i&&!r&&S3(n),l=e||i||r||s,d=l?function(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],f=d.length;for(var g in n)(t||R9.call(n,g))&&(!l||!("length"==g||r&&("offset"==g||"parent"==g)||s&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||A3(g,f)))&&d.push(g);return d};var H9=Object.prototype.hasOwnProperty;const U9=function(n){if(!ym(n))return function(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=m3(n),e=[];for(var i in n)"constructor"==i&&(t||!H9.call(n,i))||e.push(i);return e},O3=function(n){return Bk(n)?L9(n,!0):U9(n)},G9=function(n){return function(n,t,e,i){var r=!e;e||(e={});for(var s=-1,l=t.length;++s<l;){var d=t[s],f=i?i(e[d],n[d],d,e,n):void 0;void 0===f&&(f=n[d]),r?Pk(e,d,f):T9(e,d,f)}return e}(n,O3(n))},q9=function(n,t,e,i,r,s,l){var d=jk(n,e),f=jk(t,e),g=l.get(f);if(g)Rk(n,e,g);else{var _=s?s(d,f,e+"",n,t,l):void 0,b=void 0===_;if(b){var w=Lk(f),T=!w&&E3(f),N=!w&&!T&&S3(f);_=f,w||T||N?Lk(d)?_=d:function(n){return Vw(n)&&Bk(n)}(d)?_=function(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(d):T?(b=!1,_=function(n,t){if(t)return n.slice();var e=n.length,i=h3?h3(e):new n.constructor(e);return n.copy(i),i}(f,!0)):N?(b=!1,_=u7(f,!0)):_=[]:function(n){if(!Vw(n)||"[object Object]"!=dM(n))return!1;var t=g3(n);if(null===t)return!0;var e=H7.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&D3.call(e)==z7}(f)||Fk(f)?(_=d,Fk(d)?_=G9(d):(!ym(d)||Ik(d))&&(_=function(n){return"function"!=typeof n.constructor||m3(n)?{}:p7(g3(n))}(f))):b=!1}b&&(l.set(f,_),r(_,f,i,s,l),l.delete(f)),Rk(n,e,_)}},Z9=function I3(n,t,e,i,r){n!==t&&n7(t,function(s,l){if(r||(r=new KG),ym(s))q9(n,t,l,e,I3,i,r);else{var d=i?i(jk(n,l),s,l+"",n,t,r):void 0;void 0===d&&(d=s),Rk(n,l,d)}},O3)},N3=function(n){return n},X9=function(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)};var k3=Math.max;const nY=function(n){return function(){return n}};var aY=Date.now;const uY=function(n){var t=0,e=0;return function(){var i=aY(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(fM?function(n,t){return fM(n,"toString",{configurable:!0,enumerable:!1,value:nY(t),writable:!0})}:N3),hY=function(n,t){return uY(function(n,t,e){return t=k3(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=k3(i.length-t,0),l=Array(s);++r<s;)l[r]=i[t+r];r=-1;for(var d=Array(t+1);++r<t;)d[r]=i[r];return d[t]=e(l),X9(n,this,d)}}(n,t,N3),n+"")},P3=function(n){return hY(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,l=r>2?e[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,l&&function(n,t,e){if(!ym(e))return!1;var i=typeof t;return!!("number"==i?Bk(e)&&A3(t,e.length):"string"==i&&t in e)&&aM(e[t],n)}(e[0],e[1],l)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var d=e[i];d&&n(t,d,i)}return t})}(function(n,t,e){Z9(n,t,e)}),yY=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],bY={datasets:{line:{backgroundColor:n=>yo(bo(n.datasetIndex),.4),borderColor:n=>yo(bo(n.datasetIndex),1),pointBackgroundColor:n=>yo(bo(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>yo(bo(n.datasetIndex),.8)},bar:{backgroundColor:n=>yo(bo(n.datasetIndex),.6),borderColor:n=>yo(bo(n.datasetIndex),1),hoverBackgroundColor:n=>yo(bo(n.datasetIndex),.8),hoverBorderColor:n=>yo(bo(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>yo(bo(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>yo(bo(n.dataIndex),1),hoverBorderColor:n=>yo(bo(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>yo(bo(n.dataIndex),.6),borderColor:n=>yo(bo(n.dataIndex),1),hoverBackgroundColor:n=>yo(bo(n.dataIndex),.8),hoverBorderColor:n=>yo(bo(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function yo(n,t){return"rgba("+n.concat(t).join(",")+")"}function Hk(n,t){return Math.floor(Math.random()*(t-n+1))+n}function bo(n=0){return yY[n]||[Hk(0,255),Hk(0,255),Hk(0,255)]}Iw.register(HB,qB,LB,jB,gk,kw,TB,nM,Fw,UL,Pw,pk,Nw,YL,Mb,GL,WL,$L,qL,oM);let R3=(()=>{class n{constructor(e,i){if(i)throw new Error("NgChartsModule is already loaded. Use .forRoot() in the AppModule only");(null==e?void 0:e.plugins)&&Iw.register(null==e?void 0:e.plugins);const r=P3(bY,(null==e?void 0:e.defaults)||{});vn.set(r)}static forRoot(e){return{ngModule:n,providers:[{provide:F3,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(F3,8),u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({factory:function(){return new n},token:n,providedIn:R3}),n})();class Sd{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){return L3(this,t)}do(t,e,i){const{kind:r,value:s,error:l}=this;return"N"===r?null==t?void 0:t(s):"E"===r?null==e?void 0:e(l):null==i?void 0:i()}accept(t,e,i){var r;return(0,ti.m)(null===(r=t)||void 0===r?void 0:r.next)?this.observe(t):this.do(t,e,i)}toObservable(){const{kind:t,value:e,error:i}=this,r="N"===t?(0,Ot.of)(e):"E"===t?function(n,t){const e=(0,ti.m)(n)?n:()=>n,i=r=>r.error(e());return new Vn.y(i)}(()=>i):"C"===t?ss.E:0;if(!r)throw new TypeError(`Unexpected notification kind ${t}`);return r}static createNext(t){return new Sd("N",t)}static createError(t){return new Sd("E",void 0,t)}static createComplete(){return Sd.completeNotification}}function L3(n,t){var e,i,r;const{kind:s,value:l,error:d}=n;if("string"!=typeof s)throw new TypeError('Invalid notification, missing "kind"');"N"===s?null===(e=t.next)||void 0===e||e.call(t,l):"E"===s?null===(i=t.error)||void 0===i||i.call(t,d):null===(r=t.complete)||void 0===r||r.call(t)}function B3(n,t,e,i){return(0,Sn.e)((r,s)=>{let l;t&&"function"!=typeof t?({duration:e,element:l,connector:i}=t):l=t;const d=new Map,f=w=>{d.forEach(w),w(s)},g=w=>f(T=>T.error(w)),_=new EY(s,w=>{try{const T=n(w);let N=d.get(T);if(!N){d.set(T,N=i?i():new ln.x);const F=function(w,T){const N=new Vn.y(F=>{_.activeGroups++;const I=T.subscribe(F);return()=>{I.unsubscribe(),0==--_.activeGroups&&_.teardownAttempted&&_.unsubscribe()}});return N.key=w,N}(T,N);if(s.next(F),e){const I=new Li.Q(N,()=>{N.complete(),null==I||I.unsubscribe()},void 0,void 0,()=>d.delete(T));_.add((0,Pa.Xf)(e(F)).subscribe(I))}}N.next(l?l(w):w)}catch(T){g(T)}},()=>f(w=>w.complete()),g,()=>d.clear());r.subscribe(_)})}Sd.completeNotification=new Sd("C");class EY extends Li.Q{constructor(){super(...arguments),this.activeGroups=0,this.teardownAttempted=!1}unsubscribe(){this.teardownAttempted=!0,0===this.activeGroups&&super.unsubscribe()}}function V3(n,t){return t?e=>e.pipe(V3((i,r)=>(0,Pa.Xf)(n(i,r)).pipe((0,Wt.U)((s,l)=>t(i,s,r,l))))):(0,Sn.e)((e,i)=>{let r=0,s=null,l=!1;e.subscribe(new Li.Q(i,d=>{s||(s=new Li.Q(i,void 0,()=>{s=null,l&&i.complete()}),(0,Pa.Xf)(n(d,r++)).subscribe(s))},()=>{l=!0,!s&&i.complete()}))})}const pM="__@ngrx/effects_create__";function xY(n){return Object.getOwnPropertyNames(n).filter(i=>!(!n[i]||!n[i].hasOwnProperty(pM))&&n[i][pM].hasOwnProperty("dispatch")).map(i=>Object.assign({propertyName:i},n[i][pM]))}function zk(n){return Object.getPrototypeOf(n)}const gM="__@ngrx/effects__";function TY(n){return(0,Me.qC)(SY,zk)(n)}function SY(n){return function(n){return n.constructor.hasOwnProperty(gM)}(n)?n.constructor[gM]:[]}function AY(n,t,e){const i=zk(n).constructor.name,r=function(n){return[TY,xY].reduce((e,i)=>e.concat(i(n)),[])}(n).map(({propertyName:s,dispatch:l,useEffectsErrorHandler:d})=>{const f="function"==typeof n[s]?n[s]():n[s],g=d?e(f,t):f;return!1===l?g.pipe(EF()):g.pipe((0,Sn.e)((n,t)=>{n.subscribe(new Li.Q(t,e=>{t.next(Sd.createNext(e))},()=>{t.next(Sd.createComplete()),t.complete()},e=>{t.next(Sd.createError(e)),t.complete()}))})).pipe((0,Wt.U)(b=>({effect:n[s],notification:b,propertyName:s,sourceName:i,sourceInstance:n})))});return(0,pT.T)(...r)}function U3(n,t,e=10){return n.pipe((0,Zo.K)(i=>(t&&t.handleError(i),e<=1?n:U3(n,t,e-1))))}let $3=(()=>{class n extends Vn.y{constructor(e){super(),e&&(this.source=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Me.Y$))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function jY(n){return Uk(n,"ngrxOnInitEffects")}function Uk(n,t){return n&&t in n&&"function"==typeof n[t]}const W3=new u.OlP("@ngrx/effects Internal Root Guard"),mM=new u.OlP("@ngrx/effects User Provided Effects"),$k=new u.OlP("@ngrx/effects Internal Root Effects"),G3=new u.OlP("@ngrx/effects Root Effects"),Y3=new u.OlP("@ngrx/effects Internal Feature Effects"),q3=new u.OlP("@ngrx/effects Feature Effects"),Z3=new u.OlP("@ngrx/effects Effects Error Handler");let Wk=(()=>{class n extends ln.x{constructor(e,i){super(),this.errorHandler=e,this.effectsErrorHandler=i}addEffects(e){this.next(e)}toActions(){return this.pipe(B3(zk),(0,En.z)(e=>e.pipe(B3(HY))),(0,En.z)(e=>{const i=e.pipe(V3(s=>function(n,t){return e=>{const i=AY(e,n,t);return function(n){return Uk(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(i):i}}(this.errorHandler,this.effectsErrorHandler)(s)),(0,Wt.U)(s=>(function(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function({propertyName:n,sourceInstance:t,sourceName:e}){const i="function"==typeof t[n];return`"${e}.${String(n)}${i?"()":""}"`}(n)} dispatched an invalid action: ${function(n){try{return JSON.stringify(n)}catch(t){return n}}(e)}`))}}(s,this.errorHandler),s.notification)),(0,jn.h)(s=>"N"===s.kind&&null!=s.value),(0,Sn.e)((n,t)=>{n.subscribe(new Li.Q(t,e=>L3(e,t)))})),r=e.pipe((0,An.q)(1),(0,jn.h)(jY),(0,Wt.U)(s=>s.ngrxOnInitEffects()));return(0,pT.T)(i,r)}))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.qLn),u.LFG(Z3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function HY(n){return function(n){return Uk(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let Gk=(()=>{class n{constructor(e,i){this.effectSources=e,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wk),u.LFG(Me.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const K3="@ngrx/effects/init";(0,Me.PH)(K3);let J3=(()=>{class n{constructor(e,i,r,s,l,d,f){this.sources=e,i.start(),s.forEach(g=>e.addEffects(g)),r.dispatch({type:K3})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wk),u.LFG(Gk),u.LFG(Me.yh),u.LFG(G3),u.LFG(Me.cr,8),u.LFG(Me.CK,8),u.LFG(W3,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),UY=(()=>{class n{constructor(e,i,r,s){i.forEach(l=>l.forEach(d=>e.addEffects(d)))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(J3),u.LFG(q3),u.LFG(Me.cr,8),u.LFG(Me.CK,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),$Y=(()=>{class n{static forFeature(e=[]){return{ngModule:UY,providers:[e,{provide:Y3,multi:!0,useValue:e},{provide:mM,multi:!0,useValue:[]},{provide:q3,multi:!0,useFactory:X3,deps:[u.zs3,Y3,mM]}]}}static forRoot(e=[]){return{ngModule:J3,providers:[{provide:Z3,useValue:U3},Gk,Wk,$3,e,{provide:$k,useValue:[e]},{provide:W3,useFactory:GY,deps:[[Gk,new u.FiY,new u.tp0],[$k,new u.PiD]]},{provide:mM,multi:!0,useValue:[]},{provide:G3,useFactory:X3,deps:[u.zs3,$k,mM]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function X3(n,t,e){const i=[];for(const r of t)i.push(...r);for(const r of e)i.push(...r);return function(n,t){return t.map(e=>n.get(e))}(n,i)}function GY(n,t){if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Q3=O(6198),YY=O(4972),qY=O.n(YY);const ZY=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,KY=(n,t)=>"string"==typeof t&&ZY.test(t)?new Date(t):t,JY=(n,t)=>t;function eV(n,t){return t.reduce((e,i)=>{if("string"==typeof i||"number"==typeof i){const r=null==n?void 0:n[i];void 0!==r&&(e[i]=r)}else for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=eV(n[r],i[r]));return e},{})}const tq=(n,t,e,i,r,s)=>{if(s)try{if(!0!==s(n))return}catch(l){if(l instanceof TypeError)return;throw l}t.forEach(l=>{let f,g,_,d=n[l];if("object"==typeof l){let b=Object.keys(l)[0];if(d=n[b],void 0!==d&&l[b]){if(l[b].serialize)d=l[b].serialize(d);else{let w;l[b].reduce?w=l[b]:l[b].filter&&(w=l[b].filter),w&&(d=eV(d,w)),l[b].encrypt&&l[b].decrypt?"function"==typeof l[b].encrypt&&(_=l[b].encrypt):(l[b].encrypt||l[b].decrypt)&&console.error(`Either encrypt or decrypt function is not present on '${l[b]}' key object.`)}f=l[b].replacer,g=l[b].space}l=b}if(void 0!==d&&void 0!==e)try{_&&(d=_("string"==typeof d?d:JSON.stringify(d,f,g))),e.setItem(i(l),"string"==typeof d?d:JSON.stringify(d,f,g))}catch(b){console.warn("Unable to save state to localStorage:",b)}else if(void 0===d&&r&&void 0!==e)try{e.removeItem(i(l))}catch(b){console.warn(`Exception on removing/cleaning undefined '${l}' state`,b)}})},nq=(n,t,e)=>{if((e.type===Me.qg||e.type===Me.wb)&&t){const r={arrayMerge:(s,l,d)=>l};n=qY()(n,t,r)}return n},rq={cbNodeOwner:ZE,channel:F2,nodeInfo:L2,ringSettings:vd,setting:kA},oq=[function(n){return(n=>t=>{(void 0===n.storage&&!n.checkStorageAvailability||n.checkStorageAvailability&&"undefined"!=typeof window)&&(n.storage=localStorage||window.localStorage),void 0===n.storageKeySerializer&&(n.storageKeySerializer=s=>s),void 0===n.restoreDates&&(n.restoreDates=!0);let e=n.mergeReducer;(void 0===e||"function"!=typeof e)&&(e=nq);const i=(n=>n.map(t=>{let e=t;if("object"==typeof t&&(e=Object.keys(t)[0]),"string"!=typeof e)throw new TypeError("localStorageSync Unknown Parameter Type: Expected type of string, got "+typeof e);return t}))(n.keys),r=n.rehydrate?((n,t,e,i)=>n.reduce((r,s)=>{let f,g,l=s,d=i?KY:JY;if("object"==typeof l&&(l=Object.keys(l)[0],"function"==typeof s[l]?d=s[l]:(s[l].reviver&&(d=s[l].reviver),s[l].deserialize&&(f=s[l].deserialize)),s[l].encrypt&&s[l].decrypt?"function"==typeof s[l].encrypt&&"function"==typeof s[l].decrypt?g=s[l].decrypt:console.error(`Either encrypt or decrypt is not a function on '${s[l]}' key object.`):(s[l].encrypt||s[l].decrypt)&&console.error(`Either encrypt or decrypt function is not present on '${s[l]}' key object.`)),void 0!==t){let _=t.getItem(e(l));if(_){g&&(_=g(_));const b=new RegExp("{|\\[");let w=_;return("null"===_||"true"===_||"false"===_||b.test(_.charAt(0)))&&(w=JSON.parse(_,d)),Object.assign({},r,{[l]:f?f(w):w})}}return r},{}))(i,n.storage,n.storageKeySerializer,n.restoreDates):void 0;return function(s,l){let d;return d=l.type!==Me.qg||s?Object.assign({},s):t(s,l),d=e(d,r,l),d=t(d,l),l.type!==Me.qg&&tq(d,i,n.storage,n.storageKeySerializer,n.removeOnUndefined,n.syncCondition),d}})({keys:[il,YE,Vv],rehydrate:!0})(n)}];let aq=(()=>{class n{constructor(e,i,r){this.actions$=e,this.ringData=i,this.store=r}}return n.\u0275fac=function(e){return new(e||n)(u.LFG($3),u.LFG(pa),u.LFG(Me.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const lq={url:"http://umbrel:5000",options:{transports:["websocket"],reconnection:!0}};let cq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Iz]}),n.\u0275inj=u.cJS({providers:[],imports:[[Yb,Tz,mF,sj,qo,rz,Nz,R3,UI.forRoot(),zc.forRoot(lq),$Y.forRoot([aq]),Q3.FT.instrument({maxAge:25,logOnly:true}),Me.Aw.forRoot(rq,{metaReducers:oq}),[]]]}),n})();(0,u.G48)(),Gb().bootstrapModule(cq).catch(n=>console.error(n))},8189:(re,Y,O)=>{"use strict";function ee(Q,de,Ie,ze){return new(Ie||(Ie=Promise))(function(Ae,it){function Te(Et){try{mt(ze.next(Et))}catch(st){it(st)}}function Kt(Et){try{mt(ze.throw(Et))}catch(st){it(st)}}function mt(Et){Et.done?Ae(Et.value):function(Ae){return Ae instanceof Ie?Ae:new Ie(function(it){it(Ae)})}(Et.value).then(Te,Kt)}mt((ze=ze.apply(Q,de||[])).next())})}function xe(Q){return this instanceof xe?(this.v=Q,this):new xe(Q)}function be(Q,de,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,ze=Ie.apply(Q,de||[]),Ae=[];return He={},it("next"),it("throw"),it("return"),He[Symbol.asyncIterator]=function(){return this},He;function it(At){ze[At]&&(He[At]=function(Mn){return new Promise(function(vo,In){Ae.push([At,Mn,vo,In])>1||Te(At,Mn)})})}function Te(At,Mn){try{!function(At){At.value instanceof xe?Promise.resolve(At.value.v).then(mt,Et):st(Ae[0][2],At)}(ze[At](Mn))}catch(vo){st(Ae[0][3],vo)}}function mt(At){Te("next",At)}function Et(At){Te("throw",At)}function st(At,Mn){At(Mn),Ae.shift(),Ae.length&&Te(Ae[0][0],Ae[0][1])}}function oe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,de=Q[Symbol.asyncIterator];return de?de.call(Q):(Q=function(Q){var de="function"==typeof Symbol&&Symbol.iterator,Ie=de&&Q[de],ze=0;if(Ie)return Ie.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ze>=Q.length&&(Q=void 0),{value:Q&&Q[ze++],done:!Q}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Ie={},ze("next"),ze("throw"),ze("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function ze(Ae){Ie[Ae]=Q[Ae]&&function(it){return new Promise(function(Te,Kt){!function(Ae,it,Te,Kt){Promise.resolve(Kt).then(function(mt){Ae({value:mt,done:Te})},it)}(Te,Kt,(it=Q[Ae](it)).done,it.value)})}}}O.d(Y,{mG:()=>ee,qq:()=>xe,FC:()=>be,KL:()=>oe})}},re=>{re(re.s=7054)}]);